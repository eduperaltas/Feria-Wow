var DP=Object.defineProperty,AP=Object.defineProperties;var kP=Object.getOwnPropertyDescriptors;var II=Object.getOwnPropertySymbols,RP=Object.getPrototypeOf,NP=Object.prototype.hasOwnProperty,MP=Object.prototype.propertyIsEnumerable,PP=Reflect.get;var TI=(n,e,t)=>e in n?DP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,he=(n,e)=>{for(var t in e||={})NP.call(e,t)&&TI(n,t,e[t]);if(II)for(var t of II(e))MP.call(e,t)&&TI(n,t,e[t]);return n},Je=(n,e)=>AP(n,kP(e));var wm=(n,e,t)=>PP(RP(n),t,e);var B=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{a(t.next(c))}catch(u){i(u)}},o=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((t=t.apply(n,e)).next())});function SI(n,e){return Object.is(n,e)}var nn=null,Od=!1,Fd=1,$i=Symbol("SIGNAL");function ot(n){let e=nn;return nn=n,e}function CI(){return nn}var ll={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Tm(n){if(Od)throw new Error("");if(nn===null)return;nn.consumerOnSignalRead(n);let e=nn.nextProducerIndex++;if(Ud(nn),e<nn.producerNode.length&&nn.producerNode[e]!==n&&ul(nn)){let t=nn.producerNode[e];Bd(t,nn.producerIndexOfThis[e])}nn.producerNode[e]!==n&&(nn.producerNode[e]=n,nn.producerIndexOfThis[e]=ul(nn)?kI(n,nn,e):0),nn.producerLastReadVersion[e]=n.version}function OP(){Fd++}function bI(n){if(!(ul(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Fd)){if(!n.producerMustRecompute(n)&&!Cm(n)){n.dirty=!1,n.lastCleanEpoch=Fd;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Fd}}function DI(n){if(n.liveConsumerNode===void 0)return;let e=Od;Od=!0;try{for(let t of n.liveConsumerNode)t.dirty||FP(t)}finally{Od=e}}function AI(){return nn?.consumerAllowSignalWrites!==!1}function FP(n){n.dirty=!0,DI(n),n.consumerMarkedDirty?.(n)}function Vd(n){return n&&(n.nextProducerIndex=0),ot(n)}function Sm(n,e){if(ot(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ul(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Cm(n){Ud(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(bI(t),r!==t.version))return!0}return!1}function bm(n){if(Ud(n),ul(n))for(let e=0;e<n.producerNode.length;e++)Bd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kI(n,e,t){if(RI(n),n.liveConsumerNode.length===0&&NI(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=kI(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Bd(n,e){if(RI(n),n.liveConsumerNode.length===1&&NI(n))for(let r=0;r<n.producerNode.length;r++)Bd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ud(i),i.producerIndexOfThis[r]=e}}function ul(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ud(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function RI(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function NI(n){return n.producerNode!==void 0}function MI(n){let e=Object.create(LP);e.computation=n;let t=()=>{if(bI(e),Tm(e),e.value===Ld)throw e.error;return e.value};return t[$i]=e,t}var Em=Symbol("UNSET"),Im=Symbol("COMPUTING"),Ld=Symbol("ERRORED"),LP=Je(he({},ll),{value:Em,dirty:!0,error:null,equal:SI,producerMustRecompute(n){return n.value===Em||n.value===Im},producerRecomputeValue(n){if(n.value===Im)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Im;let t=Vd(n),r;try{r=n.computation()}catch(i){r=Ld,n.error=i}finally{Sm(n,t)}if(e!==Em&&e!==Ld&&r!==Ld&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function VP(){throw new Error}var PI=VP;function OI(){PI()}function FI(n){PI=n}var BP=null;function LI(n){let e=Object.create(BI);e.value=n;let t=()=>(Tm(e),e.value);return t[$i]=e,t}function Dm(n,e){AI()||OI(),n.equal(n.value,e)||(n.value=e,UP(n))}function VI(n,e){AI()||OI(),Dm(n,e(n.value))}var BI=Je(he({},ll),{equal:SI,value:void 0});function UP(n){n.version++,OP(),DI(n),BP?.()}function Fe(n){return typeof n=="function"}function Ka(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var jd=Ka(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function So(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Lt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof jd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{UI(s)}catch(o){e=e??[],o instanceof jd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new jd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&So(t,e)}remove(e){let{_finalizers:t}=this;t&&So(t,e),e instanceof n&&e._removeParent(this)}};Lt.EMPTY=(()=>{let n=new Lt;return n.closed=!0,n})();var Am=Lt.EMPTY;function $d(n){return n instanceof Lt||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function UI(n){Fe(n)?n():n.unsubscribe()}var qr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qa={setTimeout(n,e,...t){let{delegate:r}=Qa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Qa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hd(n){Qa.setTimeout(()=>{let{onUnhandledError:e}=qr;if(e)e(n);else throw n})}function fl(){}var jI=km("C",void 0,void 0);function $I(n){return km("E",void 0,n)}function HI(n){return km("N",n,void 0)}function km(n,e,t){return{kind:n,value:e,error:t}}var Co=null;function Xa(n){if(qr.useDeprecatedSynchronousErrorHandling){let e=!Co;if(e&&(Co={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Co;if(Co=null,t)throw r}}else n()}function zI(n){qr.useDeprecatedSynchronousErrorHandling&&Co&&(Co.errorThrown=!0,Co.error=n)}var bo=class extends Lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$d(e)&&e.add(this)):this.destination=HP}static create(e,t,r){return new Ts(e,t,r)}next(e){this.isStopped?Nm(HI(e),this):this._next(e)}error(e){this.isStopped?Nm($I(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nm(jI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jP=Function.prototype.bind;function Rm(n,e){return jP.call(n,e)}var Mm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){zd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){zd(r)}else zd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){zd(t)}}},Ts=class extends bo{constructor(e,t,r){super();let i;if(Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&qr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Rm(e.next,s),error:e.error&&Rm(e.error,s),complete:e.complete&&Rm(e.complete,s)}):i=e}this.destination=new Mm(i)}};function zd(n){qr.useDeprecatedSynchronousErrorHandling?zI(n):Hd(n)}function $P(n){throw n}function Nm(n,e){let{onStoppedNotification:t}=qr;t&&Qa.setTimeout(()=>t(n,e))}var HP={closed:!0,next:fl,error:$P,complete:fl};var Ya=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pr(n){return n}function Pm(...n){return Om(n)}function Om(n){return n.length===0?pr:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var nt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=WP(t)?t:new Ts(t,r,i);return Xa(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=WI(r),new r((i,s)=>{let o=new Ts({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ya](){return this}pipe(...t){return Om(t)(this)}toPromise(t){return t=WI(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function WI(n){var e;return(e=n??qr.Promise)!==null&&e!==void 0?e:Promise}function zP(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}function WP(n){return n&&n instanceof bo||zP(n)&&$d(n)}function Fm(n){return Fe(n?.lift)}function rt(n){return e=>{if(Fm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,e,t,r,i){return new Lm(n,e,t,r,i)}var Lm=class extends bo{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ja(){return rt((n,e)=>{let t=null;n._refCount++;let r=Ze(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Za=class extends nt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Fm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lt;let t=this.getSubject();e.add(this.source.subscribe(Ze(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lt.EMPTY)}return e}refCount(){return Ja()(this)}};var GI=Ka(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var En=(()=>{class n extends nt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Wd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new GI}next(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Am:(this.currentObservers=null,s.push(t),new Lt(()=>{this.currentObservers=null,So(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new nt;return t.source=this,t}}return n.create=(e,t)=>new Wd(e,t),n})(),Wd=class extends En{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Am}};var In=class extends En{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vm={now(){return(Vm.delegate||Date).now()},delegate:void 0};var Gd=class extends Lt{constructor(e,t){super()}schedule(e,t=0){return this}};var dl={setInterval(n,e,...t){let{delegate:r}=dl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=dl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ec=class extends Gd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return dl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&dl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,So(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var tc=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};tc.now=Vm.now;var nc=class extends tc{constructor(e,t=tc.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Bm=new nc(ec);var qd=class extends ec{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Kd=class extends nc{};var Um=new Kd(qd);var gr=new nt(n=>n.complete());function qI(n){return n&&Fe(n.schedule)}function KI(n){return n[n.length-1]}function Qd(n){return Fe(KI(n))?n.pop():void 0}function Ss(n){return qI(KI(n))?n.pop():void 0}function jm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function XI(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(r.next(f))}catch(d){o(d)}}function c(f){try{u(r.throw(f))}catch(d){o(d)}}function u(f){f.done?s(f.value):i(f.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function QI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Do(n){return this instanceof Do?(this.v=n,this):new Do(n)}function YI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(g){return function(_){return Promise.resolve(_).then(g,d)}}function a(g,_){r[g]&&(i[g]=function(m){return new Promise(function(y,P){s.push([g,m,y,P])>1||c(g,m)})},_&&(i[g]=_(i[g])))}function c(g,_){try{u(r[g](_))}catch(m){p(s[0][3],m)}}function u(g){g.value instanceof Do?Promise.resolve(g.value.v).then(f,d):p(s[0][2],g)}function f(g){c("next",g)}function d(g){c("throw",g)}function p(g,_){g(_),s.shift(),s.length&&c(s[0][0],s[0][1])}}function JI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof QI=="function"?QI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){o=n[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Xd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Yd(n){return Fe(n?.then)}function Jd(n){return Fe(n[Ya])}function Zd(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function eh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function GP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var th=GP();function nh(n){return Fe(n?.[th])}function rh(n){return YI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Do(t.read());if(i)return yield Do(void 0);yield yield Do(r)}}finally{t.releaseLock()}})}function ih(n){return Fe(n?.getReader)}function Kt(n){if(n instanceof nt)return n;if(n!=null){if(Jd(n))return qP(n);if(Xd(n))return KP(n);if(Yd(n))return QP(n);if(Zd(n))return ZI(n);if(nh(n))return XP(n);if(ih(n))return YP(n)}throw eh(n)}function qP(n){return new nt(e=>{let t=n[Ya]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function KP(n){return new nt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function QP(n){return new nt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Hd)})}function XP(n){return new nt(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function ZI(n){return new nt(e=>{JP(n,e).catch(t=>e.error(t))})}function YP(n){return ZI(rh(n))}function JP(n,e){var t,r,i,s;return XI(this,void 0,void 0,function*(){try{for(t=JI(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function nr(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Cs(n,e=0){return rt((t,r)=>{t.subscribe(Ze(r,i=>nr(r,n,()=>r.next(i),e),()=>nr(r,n,()=>r.complete(),e),i=>nr(r,n,()=>r.error(i),e)))})}function bs(n,e=0){return rt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function eT(n,e){return Kt(n).pipe(bs(e),Cs(e))}function tT(n,e){return Kt(n).pipe(bs(e),Cs(e))}function nT(n,e){return new nt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function rT(n,e){return new nt(t=>{let r;return nr(t,e,()=>{r=n[th](),nr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}function sh(n,e){if(!n)throw new Error("Iterable cannot be null");return new nt(t=>{nr(t,e,()=>{let r=n[Symbol.asyncIterator]();nr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function iT(n,e){return sh(rh(n),e)}function sT(n,e){if(n!=null){if(Jd(n))return eT(n,e);if(Xd(n))return nT(n,e);if(Yd(n))return tT(n,e);if(Zd(n))return sh(n,e);if(nh(n))return rT(n,e);if(ih(n))return iT(n,e)}throw eh(n)}function $t(n,e){return e?sT(n,e):Kt(n)}function Ve(...n){let e=Ss(n);return $t(n,e)}function rc(n,e){let t=Fe(n)?n:()=>n,r=i=>i.error(t());return new nt(e?i=>e.schedule(r,0,i):r)}function $m(n){return!!n&&(n instanceof nt||Fe(n.lift)&&Fe(n.subscribe))}var Kr=Ka(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hm(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Ts({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Kr)}});n.subscribe(s)})}function Ge(n,e){return rt((t,r)=>{let i=0;t.subscribe(Ze(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:ZP}=Array;function eO(n,e){return ZP(e)?n(...e):n(e)}function oh(n){return Ge(e=>eO(n,e))}var{isArray:tO}=Array,{getPrototypeOf:nO,prototype:rO,keys:iO}=Object;function ah(n){if(n.length===1){let e=n[0];if(tO(e))return{args:e,keys:null};if(sO(e)){let t=iO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function sO(n){return n&&typeof n=="object"&&nO(n)===rO}function ch(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function uh(...n){let e=Ss(n),t=Qd(n),{args:r,keys:i}=ah(n);if(r.length===0)return $t([],e);let s=new nt(oO(r,e,i?o=>ch(i,o):pr));return t?s.pipe(oh(t)):s}function oO(n,e,t=pr){return r=>{oT(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)oT(e,()=>{let u=$t(n[c],e),f=!1;u.subscribe(Ze(r,d=>{s[c]=d,f||(f=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function oT(n,e,t){n?nr(t,n,e):e()}function aT(n,e,t,r,i,s,o,a){let c=[],u=0,f=0,d=!1,p=()=>{d&&!c.length&&!u&&e.complete()},g=m=>u<r?_(m):c.push(m),_=m=>{s&&e.next(m),u++;let y=!1;Kt(t(m,f++)).subscribe(Ze(e,P=>{i?.(P),s?g(P):e.next(P)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){let P=c.shift();o?nr(e,o,()=>_(P)):_(P)}p()}catch(P){e.error(P)}}))};return n.subscribe(Ze(e,g,()=>{d=!0,p()})),()=>{a?.()}}function rn(n,e,t=1/0){return Fe(e)?rn((r,i)=>Ge((s,o)=>e(r,s,i,o))(Kt(n(r,i))),t):(typeof e=="number"&&(t=e),rt((r,i)=>aT(r,i,n,t)))}function zm(n=1/0){return rn(pr,n)}function cT(){return zm(1)}function ic(...n){return cT()($t(n,Ss(n)))}function lh(n){return new nt(e=>{Kt(n()).subscribe(e)})}function Wm(...n){let e=Qd(n),{args:t,keys:r}=ah(n),i=new nt(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let f=0;f<o;f++){let d=!1;Kt(t[f]).subscribe(Ze(s,p=>{d||(d=!0,u--),a[f]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ch(r,a):a),s.complete())}))}});return e?i.pipe(oh(e)):i}function Qr(n,e){return rt((t,r)=>{let i=0;t.subscribe(Ze(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Ds(n){return rt((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ze(t,void 0,void 0,o=>{s=Kt(n(o,Ds(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function uT(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(Ze(o,f=>{let d=u++;c=a?n(c,f,d):(a=!0,f),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function sc(n,e){return Fe(e)?rn(n,e,1):rn(n,1)}function As(n){return rt((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Hi(n){return n<=0?()=>gr:rt((e,t)=>{let r=0;e.subscribe(Ze(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Gm(n){return Ge(()=>n)}function fh(n=aO){return rt((e,t)=>{let r=!1;e.subscribe(Ze(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function aO(){return new Kr}function hl(n){return rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function pi(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):pr,Hi(1),t?As(e):fh(()=>new Kr))}function oc(n){return n<=0?()=>gr:rt((e,t)=>{let r=[];e.subscribe(Ze(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function qm(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):pr,oc(1),t?As(e):fh(()=>new Kr))}function Km(n,e){return rt(uT(n,e,arguments.length>=2,!0))}function Qm(...n){let e=Ss(n);return rt((t,r)=>{(e?ic(n,t,e):ic(n,t)).subscribe(r)})}function Xr(n,e){return rt((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(Ze(r,c=>{i?.unsubscribe();let u=0,f=s++;Kt(n(c,f)).subscribe(i=Ze(r,d=>r.next(e?e(c,d,f,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Xm(n){return rt((e,t)=>{Kt(n).subscribe(Ze(t,()=>t.complete(),fl)),!t.closed&&e.subscribe(t)})}function sn(n,e,t){let r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?rt((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(Ze(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):pr}var eS="https://g.co/ng/security#xss",be=class extends Error{constructor(e,t){super(i_(e,t)),this.code=e}};function i_(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Sl(n){return{toString:n}.toString()}var dh="__parameters__";function cO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function tS(n,e,t){return Sl(()=>{let r=cO(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,f){let d=c.hasOwnProperty(dh)?c[dh]:Object.defineProperty(c,dh,{value:[]})[dh];for(;d.length<=f;)d.push(null);return(d[f]=d[f]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var vl=globalThis;function Et(n){for(let e in n)if(n[e]===Et)return e;throw Error("Could not find renamed property on target object.")}function uO(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Gn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Gn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function lT(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var lO=Et({__forward_ref__:Et});function Cl(n){return n.__forward_ref__=Cl,n.toString=function(){return Gn(this())},n}function Wn(n){return nS(n)?n():n}function nS(n){return typeof n=="function"&&n.hasOwnProperty(lO)&&n.__forward_ref__===Cl}function Se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Bo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qh(n){return fT(n,iS)||fT(n,sS)}function rS(n){return Qh(n)!==null}function fT(n,e){return n.hasOwnProperty(e)?n[e]:null}function fO(n){let e=n&&(n[iS]||n[sS]);return e||null}function dT(n){return n&&(n.hasOwnProperty(hT)||n.hasOwnProperty(dO))?n[hT]:null}var iS=Et({\u0275prov:Et}),hT=Et({\u0275inj:Et}),sS=Et({ngInjectableDef:Et}),dO=Et({ngInjectorDef:Et}),De=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Se({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function oS(n){return n&&!!n.\u0275providers}var hO=Et({\u0275cmp:Et}),pO=Et({\u0275dir:Et}),gO=Et({\u0275pipe:Et}),mO=Et({\u0275mod:Et}),Th=Et({\u0275fac:Et}),ml=Et({__NG_ELEMENT_ID__:Et}),pT=Et({__NG_ENV_ID__:Et});function Xh(n){return typeof n=="string"?n:n==null?"":String(n)}function vO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Xh(n)}function _O(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new be(-200,n)}function s_(n,e){throw new be(-201,!1)}var $e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}($e||{}),lv;function aS(){return lv}function rr(n){let e=lv;return lv=n,e}function cS(n,e,t){let r=Qh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&$e.Optional)return null;if(e!==void 0)return e;s_(n,"Injector")}var yO={},_l=yO,fv="__NG_DI_FLAG__",Sh="ngTempTokenPath",xO="ngTokenPath",wO=/\n/gm,EO="\u0275",gT="__source",lc;function IO(){return lc}function ks(n){let e=lc;return lc=n,e}function TO(n,e=$e.Default){if(lc===void 0)throw new be(-203,!1);return lc===null?cS(n,void 0,e):lc.get(n,e&$e.Optional?null:void 0,e)}function Me(n,e=$e.Default){return(aS()||TO)(Wn(n),e)}function pe(n,e=$e.Default){return Me(n,Yh(e))}function Yh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dv(n){let e=[];for(let t=0;t<n.length;t++){let r=Wn(n[t]);if(Array.isArray(r)){if(r.length===0)throw new be(900,!1);let i,s=$e.Default;for(let o=0;o<r.length;o++){let a=r[o],c=SO(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Me(i,s))}else e.push(Me(r))}return e}function uS(n,e){return n[fv]=e,n.prototype[fv]=e,n}function SO(n){return n[fv]}function CO(n,e,t,r){let i=n[Sh];throw e[gT]&&i.unshift(e[gT]),n.message=bO(`
`+n.message,i,t,r),n[xO]=i,n[Sh]=null,n}function bO(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==EO?n.slice(2):n;let i=Gn(e);if(Array.isArray(e))i=e.map(Gn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Gn(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(wO,`
  `)}`}var Tn=uS(tS("Optional"),8);var o_=uS(tS("SkipSelf"),4);function ko(n,e){let t=n.hasOwnProperty(Th);return t?n[Th]:null}function a_(n,e){n.forEach(t=>Array.isArray(t)?a_(t,e):e(t))}function lS(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ch(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function DO(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function AO(n,e,t){let r=bl(n,e);return r>=0?n[r|1]=t:(r=~r,DO(n,r,e,t)),r}function Ym(n,e){let t=bl(n,e);if(t>=0)return n[t|1]}function bl(n,e){return kO(n,e,1)}function kO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var dc={},Rr=[],hc=new De(""),fS=new De("",-1),dS=new De(""),bh=class{get(e,t=_l){if(t===_l){let r=new Error(`NullInjectorError: No provider for ${Gn(e)}!`);throw r.name="NullInjectorError",r}return t}},hS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(hS||{}),vi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(vi||{}),Ms=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ms||{});function RO(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function hv(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];MO(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function NO(n){return n===3||n===4||n===6}function MO(n){return n.charCodeAt(0)===64}function yl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?mT(n,t,i,null,e[++r]):mT(n,t,i,null,null))}}return n}function mT(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var pS="ng-template";function PO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RO(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(c_(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function c_(n){return n.type===4&&n.value!==pS}function OO(n,e,t){let r=n.type===4&&!t?pS:n.value;return e===r}function FO(n,e,t){let r=4,i=n.attrs,s=i!==null?BO(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Yr(r)&&!Yr(c))return!1;if(o&&Yr(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!OO(n,c,t)||c===""&&e.length===1){if(Yr(r))return!1;o=!0}}else if(r&8){if(i===null||!PO(n,i,c,t)){if(Yr(r))return!1;o=!0}}else{let u=e[++a],f=LO(c,i,c_(n),t);if(f===-1){if(Yr(r))return!1;o=!0;continue}if(u!==""){let d;if(f>s?d="":d=i[f+1].toLowerCase(),r&2&&u!==d){if(Yr(r))return!1;o=!0}}}}return Yr(r)||o}function Yr(n){return(n&1)===0}function LO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return UO(e,n)}function VO(n,e,t=!1){for(let r=0;r<e.length;r++)if(FO(n,e[r],t))return!0;return!1}function BO(n){for(let e=0;e<n.length;e++){let t=n[e];if(NO(t))return e}return n.length}function UO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function vT(n,e){return n?":not("+e.trim()+")":e}function jO(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Yr(o)&&(e+=vT(s,i),i=""),r=o,s=s||!Yr(r);t++}return i!==""&&(e+=vT(s,i)),e}function $O(n){return n.map(jO).join(",")}function HO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Yr(i))break;i=s}r++}return{attrs:e,classes:t}}function pn(n){return Sl(()=>{let e=xS(n),t=Je(he({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===hS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||vi.Emulated,styles:n.styles||Rr,_:null,schemas:n.schemas||null,tView:null,id:""});wS(t);let r=n.dependencies;return t.directiveDefs=yT(r,!1),t.pipeDefs=yT(r,!0),t.id=GO(t),t})}function zO(n){return Ro(n)||mS(n)}function WO(n){return n!==null}function Uo(n){return Sl(()=>({type:n.type,bootstrap:n.bootstrap||Rr,declarations:n.declarations||Rr,imports:n.imports||Rr,exports:n.exports||Rr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function _T(n,e){if(n==null)return dc;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=Ms.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==Ms.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Or(n){return Sl(()=>{let e=xS(n);return wS(e),e})}function gS(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ro(n){return n[hO]||null}function mS(n){return n[pO]||null}function vS(n){return n[gO]||null}function _S(n){let e=Ro(n)||mS(n)||vS(n);return e!==null?e.standalone:!1}function yS(n,e){let t=n[mO]||null;if(!t&&e===!0)throw new Error(`Type ${Gn(n)} does not have '\u0275mod' property.`);return t}function xS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||dc,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Rr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_T(n.inputs,e),outputs:_T(n.outputs),debugInfo:null}}function wS(n){n.features?.forEach(e=>e(n))}function yT(n,e){if(!n)return null;let t=e?vS:zO;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(WO)}function GO(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ei(n){return{\u0275providers:n}}function qO(...n){return{\u0275providers:ES(!0,n),\u0275fromNgModule:!0}}function ES(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return a_(e,o=>{let a=o;pv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&IS(i,s),t}function IS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];u_(i,s=>{e(s,r)})}}function pv(n,e,t,r){if(n=Wn(n),!n)return!1;let i=null,s=dT(n),o=!s&&Ro(n);if(!s&&!o){let c=n.ngModule;if(s=dT(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)pv(u,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{a_(s.imports,f=>{pv(f,e,t,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&IS(u,e)}if(!a){let u=ko(i)||(()=>new i);e({provide:i,useFactory:u,deps:Rr},i),e({provide:dS,useValue:i,multi:!0},i),e({provide:hc,useValue:()=>Me(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=n;u_(c,f=>{e(f,u)})}}else return!1;return i!==n&&n.providers!==void 0}function u_(n,e){for(let t of n)oS(t)&&(t=t.\u0275providers),Array.isArray(t)?u_(t,e):e(t)}var KO=Et({provide:String,useValue:Et});function TS(n){return n!==null&&typeof n=="object"&&KO in n}function QO(n){return!!(n&&n.useExisting)}function XO(n){return!!(n&&n.useFactory)}function pc(n){return typeof n=="function"}function YO(n){return!!n.useClass}var Jh=new De(""),yh={},JO={},Jm;function l_(){return Jm===void 0&&(Jm=new bh),Jm}var Pr=class{},xl=class extends Pr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mv(e,o=>this.processProvider(o)),this.records.set(fS,ac(void 0,this)),i.has("environment")&&this.records.set(Pr,ac(void 0,this));let s=this.records.get(Jh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(dS,Rr,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ot(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ot(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=ks(this),r=rr(void 0),i;try{return e()}finally{ks(t),rr(r)}}get(e,t=_l,r=$e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(pT))return e[pT](this);r=Yh(r);let i,s=ks(this),o=rr(void 0);try{if(!(r&$e.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=rF(e)&&Qh(e);u&&this.injectableDefInScope(u)?c=ac(gv(e),yh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&$e.Self?l_():this.parent;return t=r&$e.Optional&&t===_l?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Sh]=a[Sh]||[]).unshift(Gn(e)),s)throw a;return CO(a,e,"R3InjectorError",this.source)}else throw a}finally{rr(o),ks(s)}}resolveInjectorInitializers(){let e=ot(null),t=ks(this),r=rr(void 0),i;try{let s=this.get(hc,Rr,$e.Self);for(let o of s)o()}finally{ks(t),rr(r),ot(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Gn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(e){e=Wn(e);let t=pc(e)?e:Wn(e&&e.provide),r=eF(e);if(!pc(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ac(void 0,yh,!0),i.factory=()=>dv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ot(null);try{return t.value===yh&&(t.value=JO,t.value=t.factory()),typeof t.value=="object"&&t.value&&nF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ot(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function gv(n){let e=Qh(n),t=e!==null?e.factory:ko(n);if(t!==null)return t;if(n instanceof De)throw new be(204,!1);if(n instanceof Function)return ZO(n);throw new be(204,!1)}function ZO(n){if(n.length>0)throw new be(204,!1);let t=fO(n);return t!==null?()=>t.factory(n):()=>new n}function eF(n){if(TS(n))return ac(void 0,n.useValue);{let e=SS(n);return ac(e,yh)}}function SS(n,e,t){let r;if(pc(n)){let i=Wn(n);return ko(i)||gv(i)}else if(TS(n))r=()=>Wn(n.useValue);else if(XO(n))r=()=>n.useFactory(...dv(n.deps||[]));else if(QO(n))r=()=>Me(Wn(n.useExisting));else{let i=Wn(n&&(n.useClass||n.provide));if(tF(n))r=()=>new i(...dv(n.deps));else return ko(i)||gv(i)}return r}function ac(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function tF(n){return!!n.deps}function nF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function rF(n){return typeof n=="function"||typeof n=="object"&&n instanceof De}function mv(n,e){for(let t of n)Array.isArray(t)?mv(t,e):t&&oS(t)?mv(t.\u0275providers,e):e(t)}function qi(n,e){n instanceof xl&&n.assertNotDestroyed();let t,r=ks(n),i=rr(void 0);try{return e()}finally{ks(r),rr(i)}}function iF(){return aS()!==void 0||IO()!=null}function sF(n){return typeof n=="function"}var Ki=0,qe=1,Pe=2,qn=3,Jr=4,ei=5,Dh=6,Ah=7,Zr=8,gc=9,_i=10,an=11,wl=12,xT=13,Ic=14,yi=15,mc=16,cc=17,vc=18,Zh=19,CS=20,Rs=21,Zm=22,Nr=23,xi=25,bS=1;var No=7,kh=8,Rh=9,Mr=10,Nh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Nh||{});function Ns(n){return Array.isArray(n)&&typeof n[bS]=="object"}function Qi(n){return Array.isArray(n)&&n[bS]===!0}function DS(n){return(n.flags&4)!==0}function ep(n){return n.componentOffset>-1}function f_(n){return(n.flags&1)===1}function Ps(n){return!!n.template}function vv(n){return(n[Pe]&512)!==0}var _v=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function AS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Tc(){return kS}function kS(n){return n.type.prototype.ngOnChanges&&(n.setInput=aF),oF}Tc.ngInherit=!0;function oF(){let n=NS(this),e=n?.current;if(e){let t=n.previous;if(t===dc)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function aF(n,e,t,r,i){let s=this.declaredInputs[r],o=NS(n)||cF(n,{previous:dc,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new _v(u&&u.currentValue,t,c===dc),AS(n,e,i,t)}var RS="__ngSimpleChanges__";function NS(n){return n[RS]||null}function cF(n,e){return n[RS]=e}var wT=null;var gi=function(n,e,t){wT?.(n,e,t)},MS="svg",uF="math";function wi(n){for(;Array.isArray(n);)n=n[Ki];return n}function PS(n,e){return wi(e[n])}function ti(n,e){return wi(e[n.index])}function OS(n,e){return n.data[e]}function lF(n,e){return n[e]}function Ls(n,e){let t=e[n];return Ns(t)?t:t[Ki]}function d_(n){return(n[Pe]&128)===128}function fF(n){return Qi(n[qn])}function Mh(n,e){return e==null?null:n[e]}function FS(n){n[cc]=0}function LS(n){n[Pe]&1024||(n[Pe]|=1024,d_(n)&&np(n))}function dF(n,e){for(;n>0;)e=e[Ic],n--;return e}function tp(n){return!!(n[Pe]&9216||n[Nr]?.dirty)}function yv(n){n[_i].changeDetectionScheduler?.notify(8),n[Pe]&64&&(n[Pe]|=1024),tp(n)&&np(n)}function np(n){n[_i].changeDetectionScheduler?.notify(0);let e=Mo(n);for(;e!==null&&!(e[Pe]&8192||(e[Pe]|=8192,!d_(e)));)e=Mo(e)}function VS(n,e){if((n[Pe]&256)===256)throw new be(911,!1);n[Rs]===null&&(n[Rs]=[]),n[Rs].push(e)}function hF(n,e){if(n[Rs]===null)return;let t=n[Rs].indexOf(e);t!==-1&&n[Rs].splice(t,1)}function Mo(n){let e=n[qn];return Qi(e)?e[qn]:e}var He={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var BS=!1;function pF(){return He.lFrame.elementDepthCount}function gF(){He.lFrame.elementDepthCount++}function mF(){He.lFrame.elementDepthCount--}function US(){return He.bindingsEnabled}function vF(){return He.skipHydrationRootTNode!==null}function _F(n){return He.skipHydrationRootTNode===n}function yF(){He.skipHydrationRootTNode=null}function _t(){return He.lFrame.lView}function sr(){return He.lFrame.tView}function jS(n){return He.lFrame.contextLView=n,n[Zr]}function $S(n){return He.lFrame.contextLView=null,n}function or(){let n=HS();for(;n!==null&&n.type===64;)n=n.parent;return n}function HS(){return He.lFrame.currentTNode}function xF(){let n=He.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Dl(n,e){let t=He.lFrame;t.currentTNode=n,t.isParent=e}function zS(){return He.lFrame.isParent}function wF(){He.lFrame.isParent=!1}function WS(){return BS}function ET(n){BS=n}function GS(){let n=He.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function EF(n){return He.lFrame.bindingIndex=n}function h_(){return He.lFrame.bindingIndex++}function IF(n){let e=He.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TF(){return He.lFrame.inI18n}function SF(n,e){let t=He.lFrame;t.bindingIndex=t.bindingRootIndex=n,xv(e)}function CF(){return He.lFrame.currentDirectiveIndex}function xv(n){He.lFrame.currentDirectiveIndex=n}function bF(n){let e=He.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function qS(n){He.lFrame.currentQueryIndex=n}function DF(n){let e=n[qe];return e.type===2?e.declTNode:e.type===1?n[ei]:null}function KS(n,e,t){if(t&$e.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&$e.Host);)if(i=DF(s),i===null||(s=s[Ic],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=He.lFrame=QS();return r.currentTNode=e,r.lView=n,!0}function p_(n){let e=QS(),t=n[qe];He.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function QS(){let n=He.lFrame,e=n===null?null:n.child;return e===null?XS(n):e}function XS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YS(){let n=He.lFrame;return He.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var JS=YS;function g_(){let n=YS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function AF(n){return(He.lFrame.contextLView=dF(n,He.lFrame.contextLView))[Zr]}function Sc(){return He.lFrame.selectedIndex}function Po(n){He.lFrame.selectedIndex=n}function m_(){let n=He.lFrame;return OS(n.tView,n.selectedIndex)}function ZS(){He.lFrame.currentNamespace=MS}function eC(){kF()}function kF(){He.lFrame.currentNamespace=null}function RF(){return He.lFrame.currentNamespace}var tC=!0;function v_(){return tC}function __(n){tC=n}function NF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kS(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function y_(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function xh(n,e,t){nC(n,e,3,t)}function wh(n,e,t,r){(n[Pe]&3)===t&&nC(n,e,t,r)}function ev(n,e){let t=n[Pe];(t&3)===e&&(t&=16383,t+=1,n[Pe]=t)}function nC(n,e,t,r){let i=r!==void 0?n[cc]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[cc]+=65536),(a<s||s==-1)&&(MF(n,t,e,c),n[cc]=(n[cc]&4294901760)+c+2),c++}function IT(n,e){gi(4,n,e);let t=ot(null);try{e.call(n)}finally{ot(t),gi(5,n,e)}}function MF(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[Pe]>>14<n[cc]>>16&&(n[Pe]&3)===e&&(n[Pe]+=16384,IT(a,s)):IT(a,s)}var fc=-1,Oo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function PF(n){return n instanceof Oo}function OF(n){return(n.flags&8)!==0}function FF(n){return(n.flags&16)!==0}var tv={},wv=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Yh(r);let i=this.injector.get(e,tv,r);return i!==tv||t===tv?i:this.parentInjector.get(e,t,r)}};function rC(n){return n!==fc}function Ph(n){return n&32767}function LF(n){return n>>16}function Oh(n,e){let t=LF(n),r=e;for(;t>0;)r=r[Ic],t--;return r}var Ev=!0;function Fh(n){let e=Ev;return Ev=n,e}var VF=256,iC=VF-1,sC=5,BF=0,mi={};function UF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ml)&&(r=t[ml]),r==null&&(r=t[ml]=BF++);let i=r&iC,s=1<<i;e.data[n+(i>>sC)]|=s}function Lh(n,e){let t=oC(n,e);if(t!==-1)return t;let r=e[qe];r.firstCreatePass&&(n.injectorIndex=e.length,nv(r.data,n),nv(e,null),nv(r.blueprint,null));let i=x_(n,e),s=n.injectorIndex;if(rC(i)){let o=Ph(i),a=Oh(i,e),c=a[qe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function nv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function oC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function x_(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=fC(i),r===null)return fc;if(t++,i=i[Ic],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return fc}function Iv(n,e,t){UF(n,e,t)}function aC(n,e,t){if(t&$e.Optional||n!==void 0)return n;s_(e,"NodeInjector")}function cC(n,e,t,r){if(t&$e.Optional&&r===void 0&&(r=null),!(t&($e.Self|$e.Host))){let i=n[gc],s=rr(void 0);try{return i?i.get(e,r,t&$e.Optional):cS(e,r,t&$e.Optional)}finally{rr(s)}}return aC(r,e,t)}function uC(n,e,t,r=$e.Default,i){if(n!==null){if(e[Pe]&2048&&!(r&$e.Self)){let o=WF(n,e,t,r,mi);if(o!==mi)return o}let s=lC(n,e,t,r,mi);if(s!==mi)return s}return cC(e,t,r,i)}function lC(n,e,t,r,i){let s=HF(t);if(typeof s=="function"){if(!KS(e,n,r))return r&$e.Host?aC(i,t,r):cC(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&$e.Optional))s_(t);else return o}finally{JS()}}else if(typeof s=="number"){let o=null,a=oC(n,e),c=fc,u=r&$e.Host?e[yi][ei]:null;for((a===-1||r&$e.SkipSelf)&&(c=a===-1?x_(n,e):e[a+8],c===fc||!ST(r,!1)?a=-1:(o=e[qe],a=Ph(c),e=Oh(c,e)));a!==-1;){let f=e[qe];if(TT(s,a,f.data)){let d=jF(a,e,t,o,r,u);if(d!==mi)return d}c=e[a+8],c!==fc&&ST(r,e[qe].data[a+8]===u)&&TT(s,a,e)?(o=f,a=Ph(c),e=Oh(c,e)):a=-1}}return i}function jF(n,e,t,r,i,s){let o=e[qe],a=o.data[n+8],c=r==null?ep(a)&&Ev:r!=o&&(a.type&3)!==0,u=i&$e.Host&&s===a,f=$F(a,o,t,c,u);return f!==null?_c(e,o,f,a):mi}function $F(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,c=n.directiveStart,u=n.directiveEnd,f=s>>20,d=r?a:a+f,p=i?a+f:u;for(let g=d;g<p;g++){let _=o[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=o[c];if(g&&Ps(g)&&g.type===t)return c}return null}function _c(n,e,t,r){let i=n[t],s=e.data;if(PF(i)){let o=i;o.resolving&&_O(vO(s[t]));let a=Fh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?rr(o.injectImpl):null,f=KS(n,r,$e.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&NF(t,s[t],e)}finally{u!==null&&rr(u),Fh(a),o.resolving=!1,JS()}}return i}function HF(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ml)?n[ml]:void 0;return typeof e=="number"?e>=0?e&iC:zF:e}function TT(n,e,t){let r=1<<n;return!!(t[e+(n>>sC)]&r)}function ST(n,e){return!(n&$e.Self)&&!(n&$e.Host&&e)}var Ao=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return uC(this._tNode,this._lView,e,Yh(r),t)}};function zF(){return new Ao(or(),_t())}function Al(n){return Sl(()=>{let e=n.prototype.constructor,t=e[Th]||Tv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Th]||Tv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Tv(n){return nS(n)?()=>{let e=Tv(Wn(n));return e&&e()}:ko(n)}function WF(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[Pe]&2048&&!(o[Pe]&512);){let a=lC(s,o,t,r|$e.Self,mi);if(a!==mi)return a;let c=s.parent;if(!c){let u=o[CS];if(u){let f=u.get(t,mi,r);if(f!==mi)return f}c=fC(o),o=o[Ic]}s=c}return i}function fC(n){let e=n[qe],t=e.type;return t===2?e.declTNode:t===1?n[ei]:null}function CT(n,e=null,t=null,r){let i=dC(n,e,t,r);return i.resolveInjectorInitializers(),i}function dC(n,e=null,t=null,r,i=new Set){let s=[t||Rr,qO(n)];return r=r||(typeof n=="object"?void 0:Gn(n)),new xl(s,e||l_(),r||null,i)}var ir=class n{static{this.THROW_IF_NOT_FOUND=_l}static{this.NULL=new bh}static create(e,t){if(Array.isArray(e))return CT({name:""},t,e,"");{let r=e.name??"";return CT({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Se({token:n,providedIn:"any",factory:()=>Me(fS)})}static{this.__NG_ELEMENT_ID__=-1}};var GF=new De("");GF.__NG_ELEMENT_ID__=n=>{let e=or();if(e===null)throw new be(204,!1);if(e.type&2)return e.value;if(n&$e.Optional)return null;throw new be(204,!1)};var qF="ngOriginalError";function rv(n){return n[qF]}var hC=!0,pC=(()=>{class n{static{this.__NG_ELEMENT_ID__=KF}static{this.__NG_ENV_ID__=t=>t}}return n})(),Sv=class extends pC{constructor(e){super(),this._lView=e}onDestroy(e){return VS(this._lView,e),()=>hF(this._lView,e)}};function KF(){return new Sv(_t())}var Cc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new In(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Cv=class extends En{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,iF()&&(this.destroyRef=pe(pC,{optional:!0})??void 0,this.pendingTasks=pe(Cc,{optional:!0})??void 0)}emit(e){let t=ot(null);try{super.next(e)}finally{ot(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Lt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},on=Cv;function Vh(...n){}function gC(n){let e,t;function r(){n=Vh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bT(n){return queueMicrotask(()=>n()),()=>{n=Vh}}var w_="isAngularZone",Bh=w_+"_ID",QF=0,vt=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new on(!1),this.onMicrotaskEmpty=new on(!1),this.onStable=new on(!1),this.onError=new on(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=hC}=e;if(typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,JF(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(w_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new be(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,XF,Vh,Vh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},XF={};function E_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YF(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){gC(()=>{n.callbackScheduled=!1,bv(n),n.isCheckStableRunning=!0,E_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bv(n)}function JF(n){let e=()=>{YF(n)},t=QF++;n._inner=n._inner.fork({name:"angular",properties:{[w_]:!0,[Bh]:t,[Bh+t]:!0},onInvokeTask:(r,i,s,o,a,c)=>{if(ZF(c))return r.invokeTask(s,o,a,c);try{return DT(n),r.invokeTask(s,o,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),AT(n)}},onInvoke:(r,i,s,o,a,c,u)=>{try{return DT(n),r.invoke(s,o,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!eL(c)&&e(),AT(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,bv(n),E_(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function bv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function DT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function AT(n){n._nesting--,E_(n)}var Dv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new on,this.onMicrotaskEmpty=new on,this.onStable=new on,this.onError=new on}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ZF(n){return mC(n,"__ignore_ng_zone__")}function eL(n){return mC(n,"__scheduler_tick__")}function mC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var zi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&rv(e);for(;t&&rv(t);)t=rv(t);return t||null}},tL=new De("",{providedIn:"root",factory:()=>{let n=pe(vt),e=pe(zi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function nL(){return rp(or(),_t())}function rp(n,e){return new Vs(ti(n,e))}var Vs=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=nL}}return n})();function vC(n){return(n.flags&128)===128}var _C=new Map,rL=0;function iL(){return rL++}function sL(n){_C.set(n[Zh],n)}function Av(n){_C.delete(n[Zh])}var kT="__ngContext__";function Fo(n,e){Ns(e)?(n[kT]=e[Zh],sL(e)):n[kT]=e}function yC(n){return wC(n[wl])}function xC(n){return wC(n[Jr])}function wC(n){for(;n!==null&&!Qi(n);)n=n[Jr];return n}var kv;function EC(n){kv=n}function IC(){if(kv!==void 0)return kv;if(typeof document<"u")return document;throw new be(210,!1)}var I_=new De("",{providedIn:"root",factory:()=>oL}),oL="ng",T_=new De(""),Bs=new De("",{providedIn:"platform",factory:()=>"unknown"});var S_=new De("",{providedIn:"root",factory:()=>IC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aL="h",cL="b";var uL=()=>null;function C_(n,e,t=!1){return uL(n,e,t)}var TC=!1,lL=new De("",{providedIn:"root",factory:()=>TC});var hh;function fL(){if(hh===void 0&&(hh=null,vl.trustedTypes))try{hh=vl.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hh}function ip(n){return fL()?.createHTML(n)||n}var ph;function dL(){if(ph===void 0&&(ph=null,vl.trustedTypes))try{ph=vl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ph}function RT(n){return dL()?.createHTML(n)||n}var Uh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eS})`}};function kl(n){return n instanceof Uh?n.changingThisBreaksApplicationSecurity:n}function b_(n,e){let t=hL(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${eS})`)}return t===e}function hL(n){return n instanceof Uh&&n.getTypeName()||null}function pL(n){let e=new Nv(n);return gL()?new Rv(e):e}var Rv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(ip(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Nv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=ip(e),t}};function gL(){try{return!!new window.DOMParser().parseFromString(ip(""),"text/html")}catch{return!1}}var mL=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function D_(n){return n=String(n),n.match(mL)?n:"unsafe:"+n}function Xi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Rl(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var SC=Xi("area,br,col,hr,img,wbr"),CC=Xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bC=Xi("rp,rt"),vL=Rl(bC,CC),_L=Rl(CC,Xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yL=Rl(bC,Xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),NT=Rl(SC,_L,yL,vL),DC=Xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xL=Xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wL=Xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),EL=Rl(DC,xL,wL),IL=Xi("script,style,template"),Mv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=CL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=SL(t);if(s){t=s;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=MT(e).toLowerCase();if(!NT.hasOwnProperty(t))return this.sanitizedSomething=!0,!IL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!EL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;DC[a]&&(c=D_(c)),this.buf.push(" ",o,'="',PT(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=MT(e).toLowerCase();NT.hasOwnProperty(t)&&!SC.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(PT(e))}};function TL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function SL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw AC(e);return e}function CL(n){let e=n.firstChild;if(e&&TL(n,e))throw AC(e);return e}function MT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function AC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var bL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DL=/([^\#-~ |!])/g;function PT(n){return n.replace(/&/g,"&amp;").replace(bL,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(DL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gh;function kC(n,e){let t=null;try{gh=gh||pL(n);let r=e?String(e):"";t=gh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=gh.getInertBodyElement(r)}while(r!==s);let a=new Mv().sanitizeChildren(OT(t)||t);return ip(a)}finally{if(t){let r=OT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function OT(n){return"content"in n&&AL(n)?n.content:null}function AL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var sp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(sp||{});function RC(n){let e=NC();return e?RT(e.sanitize(sp.HTML,n)||""):b_(n,"HTML")?RT(kl(n)):kC(IC(),Xh(n))}function Nl(n){let e=NC();return e?e.sanitize(sp.URL,n)||"":b_(n,"URL")?kl(n):D_(Xh(n))}function NC(){let n=_t();return n&&n[_i].sanitizer}function MC(n){return n instanceof Function?n():n}var Wi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wi||{}),kL;function A_(n,e){return kL(n,e)}function uc(n,e,t,r,i){if(r!=null){let s,o=!1;Qi(r)?s=r:Ns(r)&&(o=!0,r=r[Ki]);let a=wi(r);n===0&&t!==null?i==null?VC(e,t,a):jh(e,t,a,i||null,!0):n===1&&t!==null?jh(e,t,a,i||null,!0):n===2?WL(e,a,o):n===3&&e.destroyNode(a),s!=null&&qL(e,n,s,t,i)}}function RL(n,e){return n.createText(e)}function NL(n,e,t){n.setValue(e,t)}function PC(n,e,t){return n.createElement(e,t)}function ML(n,e){OC(n,e),e[Ki]=null,e[ei]=null}function PL(n,e,t,r,i,s){r[Ki]=i,r[ei]=e,op(n,r,t,1,i,s)}function OC(n,e){e[_i].changeDetectionScheduler?.notify(9),op(n,e,e[an],2,null,null)}function OL(n){let e=n[wl];if(!e)return iv(n[qe],n);for(;e;){let t=null;if(Ns(e))t=e[wl];else{let r=e[Mr];r&&(t=r)}if(!t){for(;e&&!e[Jr]&&e!==n;)Ns(e)&&iv(e[qe],e),e=e[qn];e===null&&(e=n),Ns(e)&&iv(e[qe],e),t=e&&e[Jr]}e=t}}function FL(n,e,t,r){let i=Mr+r,s=t.length;r>0&&(t[i-1][Jr]=e),r<s-Mr?(e[Jr]=t[i],lS(t,Mr+r,e)):(t.push(e),e[Jr]=null),e[qn]=t;let o=e[mc];o!==null&&t!==o&&FC(o,e);let a=e[vc];a!==null&&a.insertView(n),yv(e),e[Pe]|=128}function FC(n,e){let t=n[Rh],r=e[qn];if(Ns(r))n[Pe]|=Nh.HasTransplantedViews;else{let i=r[qn][yi];e[yi]!==i&&(n[Pe]|=Nh.HasTransplantedViews)}t===null?n[Rh]=[e]:t.push(e)}function k_(n,e){let t=n[Rh],r=t.indexOf(e);t.splice(r,1)}function Pv(n,e){if(n.length<=Mr)return;let t=Mr+e,r=n[t];if(r){let i=r[mc];i!==null&&i!==n&&k_(i,r),e>0&&(n[t-1][Jr]=r[Jr]);let s=Ch(n,Mr+e);ML(r[qe],r);let o=s[vc];o!==null&&o.detachView(s[qe]),r[qn]=null,r[Jr]=null,r[Pe]&=-129}return r}function LC(n,e){if(!(e[Pe]&256)){let t=e[an];t.destroyNode&&op(n,e,t,3,null,null),OL(e)}}function iv(n,e){if(e[Pe]&256)return;let t=ot(null);try{e[Pe]&=-129,e[Pe]|=256,e[Nr]&&bm(e[Nr]),VL(n,e),LL(n,e),e[qe].type===1&&e[an].destroy();let r=e[mc];if(r!==null&&Qi(e[qn])){r!==e[qn]&&k_(r,e);let i=e[vc];i!==null&&i.detachView(n)}Av(e)}finally{ot(t)}}function LL(n,e){let t=n.cleanup,r=e[Ah];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Ah]=null);let i=e[Rs];if(i!==null){e[Rs]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function VL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Oo)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];gi(4,a,c);try{c.call(a)}finally{gi(5,a,c)}}else{gi(4,i,s);try{s.call(i)}finally{gi(5,i,s)}}}}}function BL(n,e,t){return UL(n,e.parent,t)}function UL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ki];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===vi.None||s===vi.Emulated)return null}return ti(r,t)}}function jh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function VC(n,e,t){n.appendChild(e,t)}function FT(n,e,t,r,i){r!==null?jh(n,e,t,r,i):VC(n,e,t)}function BC(n,e){return n.parentNode(e)}function jL(n,e){return n.nextSibling(e)}function $L(n,e,t){return zL(n,e,t)}function HL(n,e,t){return n.type&40?ti(n,t):null}var zL=HL,LT;function R_(n,e,t,r){let i=BL(n,r,e),s=e[an],o=r.parent||e[ei],a=$L(o,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)FT(s,i,t[c],a,!1);else FT(s,i,t,a,!1);LT!==void 0&&LT(s,r,e,t,i)}function pl(n,e){if(e!==null){let t=e.type;if(t&3)return ti(e,n);if(t&4)return Ov(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return pl(n,r);{let i=n[e.index];return Qi(i)?Ov(-1,i):wi(i)}}else{if(t&128)return pl(n,e.next);if(t&32)return A_(e,n)()||wi(n[e.index]);{let r=UC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mo(n[yi]);return pl(i,r)}else return pl(n,e.next)}}}return null}function UC(n,e){if(e!==null){let r=n[yi][ei],i=e.projection;return r.projection[i]}return null}function Ov(n,e){let t=Mr+n+1;if(t<e.length){let r=e[t],i=r[qe].firstChild;if(i!==null)return pl(r,i)}return e[No]}function WL(n,e,t){n.removeChild(null,e,t)}function N_(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(o&&e===0&&(a&&Fo(wi(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)N_(n,e,t.child,r,i,s,!1),uc(e,n,i,a,s);else if(c&32){let u=A_(t,r),f;for(;f=u();)uc(e,n,i,f,s);uc(e,n,i,a,s)}else c&16?GL(n,e,r,t,i,s):uc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function op(n,e,t,r,i,s){N_(t,r,n.firstChild,e,i,s,!1)}function GL(n,e,t,r,i,s){let o=t[yi],c=o[ei].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let f=c[u];uc(e,n,i,f,s)}else{let u=c,f=o[qn];vC(r)&&(u.flags|=128),N_(n,e,u,f,i,s,!0)}}function qL(n,e,t,r,i){let s=t[No],o=wi(t);s!==o&&uc(e,n,r,s,i);for(let a=Mr;a<t.length;a++){let c=t[a];op(c[qe],c,n,e,r,s)}}function KL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:Wi.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Wi.Important),n.setStyle(t,r,i,s))}}function QL(n,e,t){n.setAttribute(e,"style",t)}function jC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function $C(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&hv(n,e,r),i!==null&&jC(n,e,i),s!==null&&QL(n,e,s)}var Us={};function Ke(n=1){HC(sr(),_t(),Sc()+n,!1)}function HC(n,e,t,r){if(!r)if((e[Pe]&3)===3){let s=n.preOrderCheckHooks;s!==null&&xh(e,s,t)}else{let s=n.preOrderHooks;s!==null&&wh(e,s,0,t)}Po(t)}function Ae(n,e=$e.Default){let t=_t();if(t===null)return Me(n,e);let r=or();return uC(r,t,Wn(n),e)}function zC(n,e,t,r,i,s){let o=ot(null);try{let a=null;i&Ms.SignalBased&&(a=e[r][$i]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ms.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):AS(e,a,r,s)}finally{ot(o)}}function XL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Po(~i);else{let s=i,o=t[++r],a=t[++r];SF(o,s);let c=e[s];a(2,c)}}}finally{Po(-1)}}function ap(n,e,t,r,i,s,o,a,c,u,f){let d=e.blueprint.slice();return d[Ki]=i,d[Pe]=r|4|128|8|64,(u!==null||n&&n[Pe]&2048)&&(d[Pe]|=2048),FS(d),d[qn]=d[Ic]=n,d[Zr]=t,d[_i]=o||n&&n[_i],d[an]=a||n&&n[an],d[gc]=c||n&&n[gc]||null,d[ei]=s,d[Zh]=iL(),d[Dh]=f,d[CS]=u,d[yi]=e.type==2?n[yi]:d,d}function cp(n,e,t,r,i){let s=n.data[e];if(s===null)s=YL(n,e,t,r,i),TF()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=xF();s.injectorIndex=o===null?-1:o.injectorIndex}return Dl(s,!0),s}function YL(n,e,t,r,i){let s=HS(),o=zS(),a=o?s:s&&s.parent,c=n.data[e]=n4(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function WC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function GC(n,e,t,r,i){let s=Sc(),o=r&2;try{Po(-1),o&&e.length>xi&&HC(n,e,xi,!1),gi(o?2:0,i),t(r,i)}finally{Po(s),gi(o?3:1,i)}}function qC(n,e,t){if(DS(e)){let r=ot(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let c=t[o];a.contentQueries(1,c,o)}}}finally{ot(r)}}}function KC(n,e,t){US()&&(c4(n,e,t,ti(t,e)),(t.flags&64)===64&&ZC(n,e,t))}function QC(n,e,t=ti){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function XC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=M_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function M_(n,e,t,r,i,s,o,a,c,u,f){let d=xi+r,p=d+i,g=JL(d,p),_=typeof u=="function"?u():u;return g[qe]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:f}}function JL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Us);return t}function ZL(n,e,t,r){let s=r.get(lL,TC)||t===vi.ShadowDom,o=n.selectRootElement(e,s);return e4(o),o}function e4(n){t4(n)}var t4=()=>null;function n4(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return vF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VT(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ms.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}n===0?BT(r,t,u,a,c):BT(r,t,u,a)}return r}function BT(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function r4(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],c=null,u=null;for(let f=r;f<i;f++){let d=s[f],p=t?t.get(d):null,g=p?p.inputs:null,_=p?p.outputs:null;c=VT(0,d.inputs,f,c,g),u=VT(1,d.outputs,f,u,_);let m=c!==null&&o!==null&&!c_(e)?v4(c,f,o):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function i4(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function P_(n,e,t,r,i,s,o,a){let c=ti(e,t),u=e.inputs,f;!a&&u!=null&&(f=u[r])?(O_(n,t,f,r,i),ep(e)&&s4(t,e.index)):e.type&3?(r=i4(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function s4(n,e){let t=Ls(e,n);t[Pe]&16||(t[Pe]|=64)}function YC(n,e,t,r){if(US()){let i=r===null?null:{"":-1},s=l4(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JC(n,e,t,o,i,a),i&&f4(t,r,i)}t.mergedAttrs=yl(t.mergedAttrs,t.attrs)}function JC(n,e,t,r,i,s){for(let u=0;u<r.length;u++)Iv(Lh(t,e),n,r[u].type);h4(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let f=r[u];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,c=WC(n,e,r.length,null);for(let u=0;u<r.length;u++){let f=r[u];t.mergedAttrs=yl(t.mergedAttrs,f.hostAttrs),p4(n,t,e,c,f),d4(c,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let d=f.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}r4(n,t,s)}function o4(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;a4(o)!=a&&o.push(a),o.push(t,r,s)}}function a4(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function c4(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;ep(t)&&g4(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Lh(t,e),Fo(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let c=n.data[a],u=_c(e,n,a,t);if(Fo(u,e),o!==null&&m4(e,a-i,u,c,t,o),Ps(c)){let f=Ls(t.index,e);f[Zr]=_c(e,n,a,t)}}}function ZC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=CF();try{Po(s);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];xv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&u4(c,u)}}finally{Po(-1),xv(o)}}function u4(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function l4(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(VO(e,o.selectors,!1))if(r||(r=[]),Ps(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Fv(n,e,c)}else r.unshift(o),Fv(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Fv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function f4(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new be(-301,!1);r.push(e[i],s)}}}function d4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ps(e)&&(t[""]=n)}}function h4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function p4(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ko(i.type,!0)),o=new Oo(s,Ps(i),Ae);n.blueprint[r]=o,t[r]=o,o4(n,e,r,WC(n,t,i.hostVars,Us),i)}function g4(n,e,t){let r=ti(e,n),i=XC(t),s=n[_i].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=up(n,ap(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function m4(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],f=o[a++],d=o[a++];zC(r,t,c,u,f,d)}}function v4(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function eb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function tb(n,e){let t=n.contentQueries;if(t!==null){let r=ot(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];qS(s),a.contentQueries(2,e[o],o)}}}finally{ot(r)}}}function up(n,e){return n[wl]?n[xT][Jr]=e:n[wl]=e,n[xT]=e,e}function Lv(n,e,t){qS(0);let r=ot(null);try{e(n,t)}finally{ot(r)}}function _4(n){return n[Ah]??=[]}function y4(n){return n.cleanup??=[]}function nb(n,e){let t=n[gc],r=t?t.get(zi,null):null;r&&r.handleError(e)}function O_(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],c=t[s++],u=e[o],f=n.data[o];zC(f,u,r,a,c,i)}}function x4(n,e,t){let r=PS(e,n);NL(n[an],r,t)}function w4(n,e){let t=Ls(e,n),r=t[qe];E4(r,t);let i=t[Ki];i!==null&&t[Dh]===null&&(t[Dh]=C_(i,t[gc])),F_(r,t,t[Zr])}function E4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function F_(n,e,t){p_(e);try{let r=n.viewQuery;r!==null&&Lv(1,r,t);let i=n.template;i!==null&&GC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[vc]?.finishViewCreation(n),n.staticContentQueries&&tb(n,e),n.staticViewQueries&&Lv(2,n.viewQuery,t);let s=n.components;s!==null&&I4(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Pe]&=-5,g_()}}function I4(n,e){for(let t=0;t<e.length;t++)w4(n,e[t])}function T4(n,e,t,r){let i=ot(null);try{let s=e.tView,a=n[Pe]&4096?4096:16,c=ap(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[mc]=u;let f=n[vc];return f!==null&&(c[vc]=f.createEmbeddedView(s)),F_(s,c,t),c}finally{ot(i)}}function UT(n,e){return!e||e.firstChild===null||vC(n)}function S4(n,e,t,r=!0){let i=e[qe];if(FL(i,e,n,t),r){let o=Ov(t,n),a=e[an],c=BC(a,n[No]);c!==null&&PL(i,n[ei],a,e,c,o)}let s=e[Dh];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function $h(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(wi(s)),Qi(s)&&C4(s,r);let o=t.type;if(o&8)$h(n,e,t.child,r);else if(o&32){let a=A_(t,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=UC(e,t);if(Array.isArray(a))r.push(...a);else{let c=Mo(e[yi]);$h(c[qe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function C4(n,e){for(let t=Mr;t<n.length;t++){let r=n[t],i=r[qe].firstChild;i!==null&&$h(r[qe],r,i,e)}n[No]!==n[Ki]&&e.push(n[No])}var rb=[];function b4(n){return n[Nr]??D4(n)}function D4(n){let e=rb.pop()??Object.create(k4);return e.lView=n,e}function A4(n){n.lView[Nr]!==n&&(n.lView=null,rb.push(n))}var k4=Je(he({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{np(n.lView)},consumerOnSignalRead(){this.lView[Nr]=this}});function R4(n){let e=n[Nr]??Object.create(N4);return e.lView=n,e}var N4=Je(he({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Mo(n.lView);for(;e&&!ib(e[qe]);)e=Mo(e);e&&LS(e)},consumerOnSignalRead(){this.lView[Nr]=this}});function ib(n){return n.type!==2}var M4=100;function sb(n,e=!0,t=0){let r=n[_i],i=r.rendererFactory,s=!1;s||i.begin?.();try{P4(n,t)}catch(o){throw e&&nb(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function P4(n,e){let t=WS();try{ET(!0),Vv(n,e);let r=0;for(;tp(n);){if(r===M4)throw new be(103,!1);r++,Vv(n,1)}}finally{ET(t)}}function O4(n,e,t,r){let i=e[Pe];if((i&256)===256)return;let s=!1,o=!1;!s&&e[_i].inlineEffectRunner?.flush(),p_(e);let a=!0,c=null,u=null;s||(ib(n)?(u=b4(e),c=Vd(u)):CI()===null?(a=!1,u=R4(e),c=Vd(u)):e[Nr]&&(bm(e[Nr]),e[Nr]=null));try{FS(e),EF(n.bindingStartIndex),t!==null&&GC(n,e,t,2,r);let f=(i&3)===3;if(!s)if(f){let g=n.preOrderCheckHooks;g!==null&&xh(e,g,null)}else{let g=n.preOrderHooks;g!==null&&wh(e,g,0,null),ev(e,0)}if(o||F4(e),ob(e,0),n.contentQueries!==null&&tb(n,e),!s)if(f){let g=n.contentCheckHooks;g!==null&&xh(e,g)}else{let g=n.contentHooks;g!==null&&wh(e,g,1),ev(e,1)}XL(n,e);let d=n.components;d!==null&&cb(e,d,0);let p=n.viewQuery;if(p!==null&&Lv(2,p,r),!s)if(f){let g=n.viewCheckHooks;g!==null&&xh(e,g)}else{let g=n.viewHooks;g!==null&&wh(e,g,2),ev(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Zm]){for(let g of e[Zm])g();e[Zm]=null}s||(e[Pe]&=-73)}catch(f){throw s||np(e),f}finally{u!==null&&(Sm(u,c),a&&A4(u)),g_()}}function ob(n,e){for(let t=yC(n);t!==null;t=xC(t))for(let r=Mr;r<t.length;r++){let i=t[r];ab(i,e)}}function F4(n){for(let e=yC(n);e!==null;e=xC(e)){if(!(e[Pe]&Nh.HasTransplantedViews))continue;let t=e[Rh];for(let r=0;r<t.length;r++){let i=t[r];LS(i)}}}function L4(n,e,t){let r=Ls(e,n);ab(r,t)}function ab(n,e){d_(n)&&Vv(n,e)}function Vv(n,e){let r=n[qe],i=n[Pe],s=n[Nr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Cm(s)),o||=!1,s&&(s.dirty=!1),n[Pe]&=-9217,o)O4(r,n,r.template,n[Zr]);else if(i&8192){ob(n,1);let a=r.components;a!==null&&cb(n,a,1)}}function cb(n,e,t){for(let r=0;r<e.length;r++)L4(n,e[r],t)}function L_(n,e){let t=WS()?64:1088;for(n[_i].changeDetectionScheduler?.notify(e);n;){n[Pe]|=t;let r=Mo(n);if(vv(n)&&!r)return n;n=r}return null}var Lo=class{get rootNodes(){let e=this._lView,t=e[qe];return $h(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zr]}set context(e){this._lView[Zr]=e}get destroyed(){return(this._lView[Pe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qn];if(Qi(e)){let t=e[kh],r=t?t.indexOf(this):-1;r>-1&&(Pv(e,r),Ch(t,r))}this._attachedToViewContainer=!1}LC(this._lView[qe],this._lView)}onDestroy(e){VS(this._lView,e)}markForCheck(){L_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pe]&=-129}reattach(){yv(this._lView),this._lView[Pe]|=128}detectChanges(){this._lView[Pe]|=1024,sb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=vv(this._lView),t=this._lView[mc];t!==null&&!e&&k_(t,this._lView),OC(this._lView[qe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e;let t=vv(this._lView),r=this._lView[mc];r!==null&&!t&&FC(r,this._lView),yv(this._lView)}},lp=(()=>{class n{static{this.__NG_ELEMENT_ID__=U4}}return n})(),V4=lp,B4=class extends V4{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=T4(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Lo(i)}};function U4(){return j4(or(),_t())}function j4(n,e){return n.type&4?new B4(e,n,rp(n,e)):null}var Cne=new RegExp(`^(\\d+)*(${cL}|${aL})*(.*)`);var $4=()=>null;function jT(n,e){return $4(n,e)}var yc=class{},fp=new De("",{providedIn:"root",factory:()=>!1});var ub=new De(""),lb=new De(""),Bv=class{},Hh=class{};function H4(n){let e=Error(`No component factory found for ${Gn(n)}.`);return e[z4]=n,e}var z4="ngComponent";var Uv=class{resolveComponentFactory(e){throw H4(e)}},xc=class{static{this.NULL=new Uv}},wc=class{},jo=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>W4()}}return n})();function W4(){let n=_t(),e=or(),t=Ls(e.index,n);return(Ns(t)?t:n)[an]}var G4=(()=>{class n{static{this.\u0275prov=Se({token:n,providedIn:"root",factory:()=>null})}}return n})();function jv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=lT(i,a);else if(s==2){let c=a,u=e[++o];r=lT(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var zh=class extends xc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ro(e);return new El(t,this.ngModule)}};function $T(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ms.None;e?t.push({propName:o,templateName:r,isSignal:(a&Ms.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function q4(n){let e=n.toLowerCase();return e==="svg"?MS:e==="math"?uF:null}var El=class extends Hh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=$T(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return $T(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=$O(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=ot(null);try{i=i||this.ngModule;let o=i instanceof Pr?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new wv(e,o):e,c=a.get(wc,null);if(c===null)throw new be(407,!1);let u=a.get(G4,null),f=a.get(yc,null),d={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:f},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?ZL(p,r,this.componentDef.encapsulation,a):PC(p,g,q4(g)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;_!==null&&(y=C_(_,a,!0));let P=M_(0,null,null,1,0,null,null,null,null,null,null),F=ap(null,P,null,m,null,null,d,p,a,null,y);p_(F);let O,j,Q=null;try{let ee=this.componentDef,w,E=null;ee.findHostDirectiveDefs?(w=[],E=new Map,ee.findHostDirectiveDefs(ee,w,E),w.push(ee)):w=[ee];let I=K4(F,_);Q=Q4(I,_,ee,w,F,d,p),j=OS(P,xi),_&&J4(p,ee,_,r),t!==void 0&&Z4(j,this.ngContentSelectors,t),O=Y4(Q,ee,w,E,F,[eV]),F_(P,F,null)}catch(ee){throw Q!==null&&Av(Q),Av(F),ee}finally{g_()}return new $v(this.componentType,O,rp(j,F),F,j)}finally{ot(s)}}},$v=class extends Bv{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Lo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;O_(s[qe],s,i,e,t),this.previousInputValues.set(e,t);let o=Ls(this._tNode.index,s);L_(o,1)}}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function K4(n,e){let t=n[qe],r=xi;return n[r]=e,cp(t,r,2,"#host",null)}function Q4(n,e,t,r,i,s,o){let a=i[qe];X4(r,n,e,o);let c=null;e!==null&&(c=C_(e,i[gc]));let u=s.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let d=ap(i,XC(t),null,f,i[n.index],n,s,u,null,null,c);return a.firstCreatePass&&Fv(a,n,r.length-1),up(i,d),i[n.index]=d}function X4(n,e,t,r){for(let i of n)e.mergedAttrs=yl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(jv(e,e.mergedAttrs,!0),t!==null&&$C(r,t,e))}function Y4(n,e,t,r,i,s){let o=or(),a=i[qe],c=ti(o,i);JC(a,i,o,t,null,r);for(let f=0;f<t.length;f++){let d=o.directiveStart+f,p=_c(i,a,d,o);Fo(p,i)}ZC(a,i,o),c&&Fo(c,i);let u=_c(i,a,o.directiveStart+o.componentOffset,o);if(n[Zr]=i[Zr]=u,s!==null)for(let f of s)f(u,e);return qC(a,o,i),u}function J4(n,e,t,r){if(r)hv(n,t,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=HO(e.selectors[0]);i&&hv(n,t,i),s&&s.length>0&&jC(n,t,s.join(" "))}}function Z4(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function eV(){let n=or();y_(_t()[qe],n)}var bc=(()=>{class n{static{this.__NG_ELEMENT_ID__=tV}}return n})();function tV(){let n=or();return rV(n,_t())}var nV=bc,fb=class extends nV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return rp(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=x_(this._hostTNode,this._hostLView);if(rC(e)){let t=Oh(e,this._hostLView),r=Ph(e),i=t[qe].data[r+8];return new Ao(i,t)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=HT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=jT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,UT(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!sF(e),a;if(o)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let c=o?e:new El(Ro(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let m=(o?u:this.parentInjector).get(Pr,null);m&&(s=m)}let f=Ro(c.componentType??{}),d=jT(this._lContainer,f?.id??null),p=d?.firstChild??null,g=c.create(u,i,p,s);return this.insertImpl(g.hostView,a,UT(this._hostTNode,d)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(fF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[qn],u=new fb(c,c[ei],c[qn]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return S4(o,i,s,r),e.attachToViewContainerRef(),lS(sv(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=HT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Pv(this._lContainer,t);r&&(Ch(sv(this._lContainer),t),LC(r[qe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Pv(this._lContainer,t);return r&&Ch(sv(this._lContainer),t)!=null?new Lo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function HT(n){return n[kh]}function sv(n){return n[kh]||(n[kh]=[])}function rV(n,e){let t,r=e[n.index];return Qi(r)?t=r:(t=eb(r,e,null,n),e[n.index]=t,up(e,t)),sV(t,e,n,r),new fb(t,n,e)}function iV(n,e){let t=n[an],r=t.createComment(""),i=ti(e,n),s=BC(t,i);return jh(t,s,r,jL(t,i),!1),r}var sV=cV,oV=()=>!1;function aV(n,e,t){return oV(n,e,t)}function cV(n,e,t,r){if(n[No])return;let i;t.type&8?i=wi(r):i=iV(e,t),n[No]=i}var zT=new Set;function Ml(n){zT.has(n)||(zT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function uV(n){return typeof n=="function"&&n[$i]!==void 0}function dp(n,e){Ml("NgSignals");let t=LI(n),r=t[$i];return e?.equal&&(r.equal=e.equal),t.set=i=>Dm(r,i),t.update=i=>VI(r,i),t.asReadonly=lV.bind(t),t}function lV(){let n=this[$i];if(n.readonlyFn===void 0){let e=()=>this();e[$i]=n,n.readonlyFn=e}return n.readonlyFn}function db(n){return uV(n)&&typeof n.set=="function"}function fV(n){return Object.getPrototypeOf(n.prototype).constructor}function Dc(n){let e=fV(n.type),t=!0,r=[n];for(;e;){let i;if(Ps(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new be(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=mh(n.inputs),o.inputTransforms=mh(n.inputTransforms),o.declaredInputs=mh(n.declaredInputs),o.outputs=mh(n.outputs);let a=i.hostBindings;a&&mV(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&pV(n,c),u&&gV(n,u),dV(n,i),uO(n.outputs,i.outputs),Ps(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Dc&&(t=!1)}}e=Object.getPrototypeOf(e)}hV(r)}function dV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function hV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=yl(i.hostAttrs,t=yl(t,i.hostAttrs))}}function mh(n){return n===dc?{}:n===Rr?[]:n}function pV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function gV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function mV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Os=class{},Il=class{};var Hv=class extends Os{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zh(this);let s=yS(e);this._bootstrapComponents=MC(s.bootstrap),this._r3Injector=dC(e,t,[{provide:Os,useValue:this},{provide:xc,useValue:this.componentFactoryResolver},...r],Gn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zv=class extends Il{constructor(e){super(),this.moduleType=e}create(e){return new Hv(this.moduleType,e,[])}};var Wh=class extends Os{constructor(e){super(),this.componentFactoryResolver=new zh(this),this.instance=null;let t=new xl([...e.providers,{provide:Os,useValue:this},{provide:xc,useValue:this.componentFactoryResolver}],e.parent||l_(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function V_(n,e,t=null){return new Wh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function hb(n){return B_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function B_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function pb(n,e,t){return n[e]=t}function Fs(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function _V(n,e,t,r){let i=Fs(n,e,t);return Fs(n,e+1,r)||i}function yV(n,e,t,r,i){let s=_V(n,e,t,r);return Fs(n,e+2,i)||s}function xV(n){return(n.flags&32)===32}function wV(n,e,t,r,i,s,o,a,c){let u=e.consts,f=cp(e,n,4,o||null,a||null);YC(e,t,f,Mh(u,c)),y_(e,f);let d=f.tView=M_(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),d.queries=e.queries.embeddedTView(f)),f}function EV(n,e,t,r,i,s,o,a,c,u){let f=t+xi,d=e.firstCreatePass?wV(f,e,n,r,i,s,o,a,c):e.data[f];Dl(d,!1);let p=IV(e,n,d,t);v_()&&R_(e,n,p,d),Fo(p,n);let g=eb(p,n,p,d);return n[f]=g,up(n,g),aV(g,d,n),f_(d)&&KC(e,n,d),c!=null&&QC(n,d,u),d}function mr(n,e,t,r,i,s,o,a){let c=_t(),u=sr(),f=Mh(u.consts,s);return EV(c,u,n,e,t,r,i,f,o,a),mr}var IV=TV;function TV(n,e,t,r){return __(!0),e[an].createComment("")}var gl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(gl||{}),SV=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}}return n})(),WT=class n{constructor(){this.ngZone=pe(vt),this.scheduler=pe(yc),this.errorHandler=pe(zi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[gl.EarlyRead,gl.Write,gl.MixedReadWrite,gl.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Se({token:n,providedIn:"root",factory:()=>new n})}};function gb(n,e,t,r){return Fs(n,h_(),t)?e+Xh(t)+r:Us}function vh(n,e){return n<<17|e<<2}function Vo(n){return n>>17&32767}function CV(n){return(n&2)==2}function bV(n,e){return n&131071|e<<17}function Wv(n){return n|2}function Ec(n){return(n&131068)>>2}function ov(n,e){return n&-131069|e<<2}function DV(n){return(n&1)===1}function Gv(n){return n|1}function AV(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vo(o),c=Ec(o);n[r]=t;let u=!1,f;if(Array.isArray(t)){let d=t;f=d[1],(f===null||bl(d,f)>0)&&(u=!0)}else f=t;if(i)if(c!==0){let p=Vo(n[a+1]);n[r+1]=vh(p,a),p!==0&&(n[p+1]=ov(n[p+1],r)),n[a+1]=bV(n[a+1],r)}else n[r+1]=vh(a,0),a!==0&&(n[a+1]=ov(n[a+1],r)),a=r;else n[r+1]=vh(c,0),a===0?a=r:n[c+1]=ov(n[c+1],r),c=r;u&&(n[r+1]=Wv(n[r+1])),GT(n,f,r,!0),GT(n,f,r,!1),kV(e,f,n,r,s),o=vh(a,c),s?e.classBindings=o:e.styleBindings=o}function kV(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&bl(s,e)>=0&&(t[r+1]=Gv(t[r+1]))}function GT(n,e,t,r){let i=n[t+1],s=e===null,o=r?Vo(i):Ec(i),a=!1;for(;o!==0&&(a===!1||s);){let c=n[o],u=n[o+1];RV(c,e)&&(a=!0,n[o+1]=r?Gv(u):Wv(u)),o=r?Vo(u):Ec(u)}a&&(n[t+1]=r?Wv(i):Gv(i))}function RV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?bl(n,e)>=0:!1}function It(n,e,t){let r=_t(),i=h_();if(Fs(r,i,e)){let s=sr(),o=m_();P_(s,o,r,n,e,r[an],t,!1)}return It}function qT(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";O_(n,t,s[o],o,r)}function U_(n,e){return NV(n,e,null,!0),U_}function NV(n,e,t,r){let i=_t(),s=sr(),o=IF(2);if(s.firstUpdatePass&&PV(s,n,o,r),e!==Us&&Fs(i,o,e)){let a=s.data[Sc()];BV(s,a,i,i[an],n,i[o+1]=UV(e,t),r,o)}}function MV(n,e){return e>=n.expandoStartIndex}function PV(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Sc()],o=MV(n,t);jV(s,r)&&e===null&&!o&&(e=!1),e=OV(i,s,e,r),AV(i,s,e,t,o,r)}}function OV(n,e,t,r){let i=bF(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=av(null,n,e,t,r),t=Tl(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=av(i,n,e,t,r),s===null){let c=FV(n,e,r);c!==void 0&&Array.isArray(c)&&(c=av(null,n,e,c[1],r),c=Tl(c,e.attrs,r),LV(n,e,r,c))}else s=VV(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function FV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ec(r)!==0)return n[Vo(r)]}function LV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Vo(i)]=r}function VV(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=Tl(r,o,t)}return Tl(r,e.attrs,t)}function av(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=Tl(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Tl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),AO(n,o,t?!0:e[++s]))}return n===void 0?null:n}function BV(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],f=DV(u)?KT(c,e,t,i,Ec(u),o):void 0;if(!Gh(f)){Gh(s)||CV(u)&&(s=KT(c,null,t,i,a,o));let d=PS(Sc(),t);KL(r,o,d,i,s)}}function KT(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),f=u?c[1]:c,d=f===null,p=t[i+1];p===Us&&(p=d?Rr:void 0);let g=d?Ym(p,r):f===r?p:void 0;if(u&&!Gh(g)&&(g=Ym(c,r)),Gh(g)&&(a=g,o))return a;let _=n[i+1];i=o?Vo(_):Ec(_)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ym(c,r))}return a}function Gh(n){return n!==void 0}function UV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Gn(kl(n)))),n}function jV(n,e){return(n.flags&(e?8:16))!==0}function $V(n,e,t,r,i,s){let o=e.consts,a=Mh(o,i),c=cp(e,n,2,r,a);return YC(e,t,c,Mh(o,s)),c.attrs!==null&&jv(c,c.attrs,!1),c.mergedAttrs!==null&&jv(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function we(n,e,t,r){let i=_t(),s=sr(),o=xi+n,a=i[an],c=s.firstCreatePass?$V(o,s,i,e,t,r):s.data[o],u=HV(s,i,c,a,e,n);i[o]=u;let f=f_(c);return Dl(c,!0),$C(a,u,c),!xV(c)&&v_()&&R_(s,i,u,c),pF()===0&&Fo(u,i),gF(),f&&(KC(s,i,c),qC(s,c,i)),r!==null&&QC(i,c),we}function Ie(){let n=or();zS()?wF():(n=n.parent,Dl(n,!1));let e=n;_F(e)&&yF(),mF();let t=sr();return t.firstCreatePass&&(y_(t,n),DS(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&OF(e)&&qT(t,e,_t(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&FF(e)&&qT(t,e,_t(),e.stylesWithoutHost,!1),Ie}function et(n,e,t,r){return we(n,e,t,r),Ie(),et}var HV=(n,e,t,r,i,s)=>(__(!0),PC(r,i,RF()));function mb(){return _t()}var qh="en-US";var zV=qh;function WV(n){typeof n=="string"&&(zV=n.toLowerCase().replace(/_/g,"-"))}var GV=(n,e,t)=>{};function Sn(n,e,t,r){let i=_t(),s=sr(),o=or();return vb(s,i,i[an],o,n,e,r),Sn}function qV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Ah],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function vb(n,e,t,r,i,s,o){let a=f_(r),u=n.firstCreatePass&&y4(n),f=e[Zr],d=_4(e),p=!0;if(r.type&3||o){let m=ti(r,e),y=o?o(m):m,P=d.length,F=o?j=>o(wi(j[r.index])):r.index,O=null;if(!o&&a&&(O=qV(n,e,i,r.index)),O!==null){let j=O.__ngLastListenerFn__||O;j.__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,p=!1}else{s=XT(r,e,f,s),GV(m,i,s);let j=t.listen(y,i,s);d.push(s,j),u&&u.push(i,F,P,P+1)}}else s=XT(r,e,f,s);let g=r.outputs,_;if(p&&g!==null&&(_=g[i])){let m=_.length;if(m)for(let y=0;y<m;y+=2){let P=_[y],F=_[y+1],Q=e[P][F].subscribe(s),ee=d.length;d.push(s,Q),u&&u.push(i,r.index,ee,-(ee+1))}}}function QT(n,e,t,r){let i=ot(null);try{return gi(6,e,t),t(r)!==!1}catch(s){return nb(n,s),!1}finally{gi(7,e,t),ot(i)}}function XT(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?Ls(n.index,e):e;L_(o,5);let a=QT(e,t,r,s),c=i.__ngNextListenerFn__;for(;c;)a=QT(e,t,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function vr(n=1){return AF(n)}function j_(n,e,t,r,i){let s=_t(),o=gb(s,e,t,r);if(o!==Us){let a=sr(),c=m_();P_(a,c,s,n,o,s[an],i,!1)}return j_}function KV(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Qe(n,e=""){let t=_t(),r=sr(),i=n+xi,s=r.firstCreatePass?cp(r,i,1,e,null):r.data[i],o=QV(r,t,s,e,n);t[i]=o,v_()&&R_(r,t,o,s),Dl(s,!1)}var QV=(n,e,t,r,i)=>(__(!0),RL(e[an],r));function Yi(n){return Cn("",n,""),Yi}function Cn(n,e,t){let r=_t(),i=gb(r,n,e,t);return i!==Us&&x4(r,Sc(),i),Cn}function $_(n,e,t){db(e)&&(e=e());let r=_t(),i=h_();if(Fs(r,i,e)){let s=sr(),o=m_();P_(s,o,r,n,e,r[an],t,!1)}return $_}function _b(n,e){let t=db(n);return t&&n.set(e),t}function H_(n,e){let t=_t(),r=sr(),i=or();return vb(r,t,t[an],i,n,e),H_}function XV(n,e,t){let r=sr();if(r.firstCreatePass){let i=Ps(n);qv(t,r.data,r.blueprint,i,!0),qv(e,r.data,r.blueprint,i,!1)}}function qv(n,e,t,r,i){if(n=Wn(n),Array.isArray(n))for(let s=0;s<n.length;s++)qv(n[s],e,t,r,i);else{let s=sr(),o=_t(),a=or(),c=pc(n)?n:Wn(n.provide),u=SS(n),f=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(pc(n)||!n.multi){let g=new Oo(u,i,Ae),_=uv(c,e,i?f:f+p,d);_===-1?(Iv(Lh(a,o),s,c),cv(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)):(t[_]=g,o[_]=g)}else{let g=uv(c,e,f+p,d),_=uv(c,e,f,f+p),m=g>=0&&t[g],y=_>=0&&t[_];if(i&&!y||!i&&!m){Iv(Lh(a,o),s,c);let P=ZV(i?JV:YV,t.length,i,r,u);!i&&y&&(t[_].providerFactory=P),cv(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),o.push(P)}else{let P=yb(t[i?_:g],u,!i&&r);cv(s,n,g>-1?g:_,P)}!i&&r&&y&&t[_].componentProviders++}}}function cv(n,e,t,r){let i=pc(e),s=YO(e);if(i||s){let c=(s?Wn(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(t);f===-1?u.push(t,[r,c]):u[f+1].push(r,c)}else u.push(t,c)}}}function yb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function uv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function YV(n,e,t,r){return Kv(this.multi,[])}function JV(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=_c(t,t[qe],this.providerFactory.index,r);s=a.slice(0,o),Kv(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Kv(i,s);return s}function Kv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ZV(n,e,t,r,i){let s=new Oo(n,t,Ae);return s.multi=[],s.index=e,s.componentProviders=0,yb(s,i,r&&!t),s}function z_(n,e=[]){return t=>{t.providersResolver=(r,i)=>XV(r,i?i(n):n,e)}}var e3=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ES(!1,t.type),i=r.length>0?V_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Se({token:n,providedIn:"environment",factory:()=>new n(Me(Pr))})}}return n})();function Vn(n){Ml("NgStandalone"),n.getStandaloneInjector=e=>e.get(e3).getOrCreateStandaloneInjector(n)}function xb(n,e,t,r,i,s){return n3(_t(),GS(),n,e,t,r,i,s)}function wb(n,e){let t=n[e];return t===Us?void 0:t}function t3(n,e,t,r,i,s){let o=e+t;return Fs(n,o,i)?pb(n,o+1,s?r.call(s,i):r(i)):wb(n,o+1)}function n3(n,e,t,r,i,s,o,a){let c=e+t;return yV(n,c,i,s,o)?pb(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):wb(n,c+3)}function Eb(n,e){let t=sr(),r,i=n+xi;t.firstCreatePass?(r=r3(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let s=r.factory||(r.factory=ko(r.type,!0)),o,a=rr(Ae);try{let c=Fh(!1),u=s();return Fh(c),KV(t,_t(),i,u),u}finally{rr(a)}}function r3(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Ib(n,e,t){let r=n+xi,i=_t(),s=lF(i,r);return i3(i,r)?t3(i,GS(),e,s.transform,t,s):s.transform(t)}function i3(n,e){return n[qe].data[e].pure}var Gi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Tb=new Gi("18.2.10");var hp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var Sb=new De("");function $o(n){return!!n&&typeof n.then=="function"}function Cb(n){return!!n&&typeof n.subscribe=="function"}var bb=new De(""),Db=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=pe(bb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if($o(s))t.push(s);else if(Cb(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),W_=new De("");function s3(){FI(()=>{throw new be(600,!1)})}function o3(n){return n.isBoundToModule}var a3=10;function c3(n,e,t){try{let r=t();return $o(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Ho=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=pe(tL),this.afterRenderManager=pe(SV),this.zonelessEnabled=pe(fp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new En,this.afterTick=new En,this.componentTypes=[],this.components=[],this.isStable=pe(Cc).hasPendingTasks.pipe(Ge(t=>!t)),this._injector=pe(Pr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Hh;if(!this._injector.get(Db).done){let p=!i&&_S(t),g=!1;throw new be(405,g)}let o;i?o=t:o=this._injector.get(xc).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=o3(o)?void 0:this._injector.get(Os),c=r||o.selector,u=o.create(ir.NULL,[],c,a),f=u.location.nativeElement,d=u.injector.get(Sb,null);return d?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Eh(this.components,u),d?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new be(101,!1);let t=ot(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ot(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(wc,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<a3;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)u3(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tp(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Eh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(W_,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Eh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new be(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Eh(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function u3(n,e,t,r){if(!t&&!tp(n))return;sb(n,e,t&&!r?0:1)}var Qv=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},G_=(()=>{class n{compileModuleSync(t){return new zv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yS(t),s=MC(i.declarations).reduce((o,a)=>{let c=Ro(a);return c&&o.push(new El(c)),o},[]);return new Qv(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var l3=(()=>{class n{constructor(){this.zone=pe(vt),this.changeDetectionScheduler=pe(yc),this.applicationRef=pe(Ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),f3=new De("",{factory:()=>!1});function Ab({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new vt(Je(he({},Rb()),{scheduleInRootZone:t})),[{provide:vt,useFactory:n},{provide:hc,multi:!0,useFactory:()=>{let r=pe(l3,{optional:!0});return()=>r.initialize()}},{provide:hc,multi:!0,useFactory:()=>{let r=pe(d3);return()=>{r.initialize()}}},e===!0?{provide:ub,useValue:!0}:[],{provide:lb,useValue:t??hC}]}function kb(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Ab({ngZoneFactory:()=>{let i=Rb(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ml("NgZone_CoalesceEvent"),new vt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Ei([{provide:f3,useValue:!0},{provide:fp,useValue:!1},r])}function Rb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var d3=(()=>{class n{constructor(){this.subscription=new Lt,this.initialized=!1,this.zone=pe(vt),this.pendingTasks=pe(Cc)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{vt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{vt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var h3=(()=>{class n{constructor(){this.appRef=pe(Ho),this.taskService=pe(Cc),this.ngZone=pe(vt),this.zonelessEnabled=pe(fp),this.disableScheduling=pe(ub,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Lt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(pe(lb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dv||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?bT:gC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function p3(){return typeof $localize<"u"&&$localize.locale||qh}var q_=new De("",{providedIn:"root",factory:()=>pe(q_,$e.Optional|$e.SkipSelf)||p3()});var Xv=new De("");function _h(n){return!n.moduleRef}function g3(n){let e=_h(n)?n.r3Injector:n.moduleRef.injector,t=e.get(vt);return t.run(()=>{_h(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(zi,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),_h(n)){let s=()=>e.destroy(),o=n.platformInjector.get(Xv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(Xv);o.add(s),n.moduleRef.onDestroy(()=>{Eh(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return c3(r,t,()=>{let s=e.get(Db);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(q_,qh);if(WV(o||qh),_h(n)){let a=e.get(Ho);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return m3(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function m3(n,e){let t=n.injector.get(Ho);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new be(-403,!1);e.push(n)}var Ih=null;function v3(n=[],e){return ir.create({name:e,providers:[{provide:Jh,useValue:"platform"},{provide:Xv,useValue:new Set([()=>Ih=null])},...n]})}function _3(n=[]){if(Ih)return Ih;let e=v3(n);return Ih=e,s3(),y3(e),e}function y3(n){n.get(T_,null)?.forEach(t=>t())}var zo=(()=>{class n{static{this.__NG_ELEMENT_ID__=x3}}return n})();function x3(n){return w3(or(),_t(),(n&16)===16)}function w3(n,e,t){if(ep(n)&&!t){let r=Ls(n.index,e);return new Lo(r,r)}else if(n.type&175){let r=e[yi];return new Lo(r,e)}return null}var Yv=class{constructor(){}supports(e){return hb(e)}create(e){return new Jv(e)}},E3=(n,e)=>e,Jv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||E3}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<YT(r,i,s)?t:r,a=YT(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,f=c-i;if(u!=f){for(let p=0;p<u;p++){let g=p<s.length?s[p]:s[p]=0,_=g+p;f<=_&&_<u&&(s[p]=g+1)}let d=o.previousIndex;s[d]=f-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hb(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,vV(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Zv(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Kh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Kh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zv=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},e_=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Kh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new e_,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var t_=class{constructor(){}supports(e){return e instanceof Map||B_(e)}create(){return new n_}},n_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||B_(e)))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new r_(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},r_=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function JT(){return new K_([new Yv])}var K_=(()=>{class n{static{this.\u0275prov=Se({token:n,providedIn:"root",factory:JT})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||JT()),deps:[[n,new o_,new Tn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new be(901,!1)}}return n})();function ZT(){return new Q_([new t_])}var Q_=(()=>{class n{static{this.\u0275prov=Se({token:n,providedIn:"root",factory:ZT})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ZT()),deps:[[n,new o_,new Tn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new be(901,!1)}}return n})();function Nb(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=_3(r),s=[Ab({}),{provide:yc,useExisting:h3},...t||[]],o=new Wh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return g3({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function pp(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function gp(n,e){Ml("NgSignals");let t=MI(n);return e?.equal&&(t[$i].equal=e.equal),t}function js(n){let e=ot(null);try{return n()}finally{ot(e)}}var Bb=null;function Ji(){return Bb}function Ub(n){Bb??=n}var mp=class{};var Fr=new De(""),jb=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(S3),providedIn:"platform"})}}return n})();var S3=(()=>{class n extends jb{constructor(){super(),this._doc=pe(Fr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ji().getBaseHref(this._doc)}onPopState(t){let r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Ji().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function $b(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Mb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Wo(n){return n&&n[0]!=="?"?"?"+n:n}var _p=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(Hb),providedIn:"root"})}}return n})(),C3=new De(""),Hb=(()=>{class n extends _p{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??pe(Fr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $b(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Wo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Wo(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Wo(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(Me(jb),Me(C3,8))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pl=(()=>{class n{constructor(t){this._subject=new on,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=A3(Mb(Pb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Wo(r))}normalize(t){return n.stripTrailingSlash(D3(this._basePath,Pb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Wo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Wo}static{this.joinWithSlash=$b}static{this.stripTrailingSlash=Mb}static{this.\u0275fac=function(r){return new(r||n)(Me(_p))}}static{this.\u0275prov=Se({token:n,factory:()=>b3(),providedIn:"root"})}}return n})();function b3(){return new Pl(Me(_p))}function D3(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Pb(n){return n.replace(/\/index.html$/,"")}function A3(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function zb(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var X_=/\s+/,Ob=[],yp=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Ob,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(X_):Ob}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(X_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(X_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Ae(Vs),Ae(jo))}}static{this.\u0275dir=Or({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Y_=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Y_(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Fb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Fb(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ae(bc),Ae(lp),Ae(K_))}}static{this.\u0275dir=Or({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Fb(n,e){n.context.$implicit=e.item}var Ac=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new J_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ae(bc),Ae(lp))}}static{this.\u0275dir=Or({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),J_=class{constructor(){this.$implicit=null,this.ngIf=null}};function Lb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Gn(e)}'.`)}function k3(n,e){return{key:n,value:e}}var Wb=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Vb}transform(t,r=Vb){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(o=>{this.keyValues.push(k3(o.key,o.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||n)(Ae(Q_,16))}}static{this.\u0275pipe=gS({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function Vb(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t===void 0)return 1;if(r===void 0)return-1;if(t===null)return 1;if(r===null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),s=String(r);return i==s?0:i<s?-1:1}var Zi=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Uo({type:n})}static{this.\u0275inj=Bo({})}}return n})(),Gb="browser",R3="server";function Z_(n){return n===R3}var vp=class{};var ny=class extends mp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ry=class n extends ny{static makeCurrent(){Ub(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=N3();return t==null?null:M3(t)}resetBaseElement(){Ol=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zb(document.cookie,e)}},Ol=null;function N3(){return Ol=Ol||document.querySelector("base"),Ol?Ol.getAttribute("href"):null}function M3(n){return new URL(n,document.baseURI).pathname}var P3=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})(),iy=new De(""),Xb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new be(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(Me(iy),Me(vt))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})(),Ep=class{constructor(e){this._doc=e}},ey="ng-app-id",Yb=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Z_(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ey}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ey),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ey,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(Me(Fr),Me(I_),Me(S_,8),Me(Bs))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})(),ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},oy=/%COMP%/g,Jb="%COMP%",O3=`_nghost-${Jb}`,F3=`_ngcontent-${Jb}`,L3=!0,V3=new De("",{providedIn:"root",factory:()=>L3});function B3(n){return F3.replace(oy,n)}function U3(n){return O3.replace(oy,n)}function Zb(n,e){return e.map(t=>t.replace(oy,n))}var qb=(()=>{class n{constructor(t,r,i,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Z_(a),this.defaultRenderer=new Fl(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vi.ShadowDom&&(r=Je(he({},r),{encapsulation:vi.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ip?i.applyToHost(t):i instanceof Ll&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case vi.Emulated:s=new Ip(c,u,r,this.appId,f,o,a,d);break;case vi.ShadowDom:return new sy(c,u,t,r,o,a,this.nonce,d);default:s=new Ll(c,u,r,f,o,a,d);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(Me(Xb),Me(Yb),Me(I_),Me(V3),Me(Fr),Me(Bs),Me(vt),Me(S_))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})(),Fl=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ty[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Kb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new be(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=ty[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ty[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Wi.DashCase|Wi.Important)?e.style.setProperty(t,r,i&Wi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Ji().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Kb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var sy=class extends Fl{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Zb(i.id,i.styles);for(let f of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=f,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ll=class extends Fl{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?Zb(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ip=class extends Ll{constructor(e,t,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=B3(u),this.hostAttr=U3(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},j3=(()=>{class n extends Ep{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(Me(Fr))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})(),Qb=["alt","control","meta","shift"],$3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},H3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},z3=(()=>{class n extends Ep{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ji().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Qb.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=$3[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Qb.forEach(o=>{if(o!==i){let a=H3[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(Me(Fr))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac})}}return n})();function eD(n,e){return Nb(he({rootComponent:n},W3(e)))}function W3(n){return{appProviders:[...X3,...n?.providers??[]],platformProviders:Q3}}function G3(){ry.makeCurrent()}function q3(){return new zi}function K3(){return EC(document),document}var Q3=[{provide:Bs,useValue:Gb},{provide:T_,useValue:G3,multi:!0},{provide:Fr,useFactory:K3,deps:[]}];var X3=[{provide:Jh,useValue:"root"},{provide:zi,useFactory:q3,deps:[]},{provide:iy,useClass:j3,multi:!0,deps:[Fr,vt,Bs]},{provide:iy,useClass:z3,multi:!0,deps:[Fr]},qb,Yb,Xb,{provide:wc,useExisting:qb},{provide:vp,useClass:P3,deps:[]},[]];var tD=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(Me(Fr))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Be="primary",ef=Symbol("RouteTitle"),fy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Oc(n){return new fy(n)}function Z3(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function eB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ii(n[t],e[t]))return!1;return!0}function Ii(n,e){let t=n?dy(n):void 0,r=e?dy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!uD(n[i],e[i]))return!1;return!0}function dy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function lD(n){return n.length>0?n[n.length-1]:null}function $s(n){return $m(n)?n:$o(n)?$t(Promise.resolve(n)):Ve(n)}var tB={exact:dD,subset:hD},fD={exact:nB,subset:rB,ignored:()=>!0};function nD(n,e,t){return tB[t.paths](n.root,e.root,t.matrixParams)&&fD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function nB(n,e){return Ii(n,e)}function dD(n,e,t){if(!qo(n.segments,e.segments)||!Cp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!dD(n.children[r],e.children[r],t))return!1;return!0}function rB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uD(n[t],e[t]))}function hD(n,e,t){return pD(n,e,e.segments,t)}function pD(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!Cp(i,t,r))}else if(n.segments.length===t.length){if(!qo(n.segments,t)||!Cp(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!hD(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!qo(n.segments,i)||!Cp(n.segments,i,r)||!n.children[Be]?!1:pD(n.children[Be],e,s,r)}}function Cp(n,e,t){return e.every((r,i)=>fD[t](n[i].parameters,r.parameters))}var ts=class{constructor(e=new ft([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){return oB.serialize(this)}},ft=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bp(this)}},Go=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Oc(this.parameters),this._parameterMap}toString(){return mD(this)}};function iB(n,e){return qo(n,e)&&n.every((t,r)=>Ii(t.parameters,e[r].parameters))}function qo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function sB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Be&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Be&&(t=t.concat(e(i,r)))}),t}var Vy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>new zl,providedIn:"root"})}}return n})(),zl=class{parse(e){let t=new py(e);return new ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Vl(e.root,!0)}`,r=uB(e.queryParams),i=typeof e.fragment=="string"?`#${aB(e.fragment)}`:"";return`${t}${r}${i}`}},oB=new zl;function bp(n){return n.segments.map(e=>mD(e)).join("/")}function Vl(n,e){if(!n.hasChildren())return bp(n);if(e){let t=n.children[Be]?Vl(n.children[Be],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Be&&r.push(`${i}:${Vl(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=sB(n,(r,i)=>i===Be?[Vl(n.children[Be],!1)]:[`${i}:${Vl(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Be]!=null?`${bp(n)}/${t[0]}`:`${bp(n)}/(${t.join("//")})`}}function gD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tp(n){return gD(n).replace(/%3B/gi,";")}function aB(n){return encodeURI(n)}function hy(n){return gD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dp(n){return decodeURIComponent(n)}function rD(n){return Dp(n.replace(/\+/g,"%20"))}function mD(n){return`${hy(n.path)}${cB(n.parameters)}`}function cB(n){return Object.entries(n).map(([e,t])=>`;${hy(e)}=${hy(t)}`).join("")}function uB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Tp(t)}=${Tp(i)}`).join("&"):`${Tp(t)}=${Tp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lB=/^[^\/()?;#]+/;function ay(n){let e=n.match(lB);return e?e[0]:""}var fB=/^[^\/()?;=#]+/;function dB(n){let e=n.match(fB);return e?e[0]:""}var hB=/^[^=?&#]+/;function pB(n){let e=n.match(hB);return e?e[0]:""}var gB=/^[^&#]+/;function mB(n){let e=n.match(gB);return e?e[0]:""}var py=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Be]=new ft(e,t)),r}parseSegment(){let e=ay(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Go(Dp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=dB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ay(this.remaining);i&&(r=i,this.capture(r))}e[Dp(t)]=Dp(r)}parseQueryParam(e){let t=pB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=mB(this.remaining);o&&(r=o,this.capture(r))}let i=rD(t),s=rD(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ay(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new be(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Be);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[Be]:new ft([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}};function vD(n){return n.segments.length>0?new ft([],{[Be]:n}):n}function _D(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=_D(i);if(r===Be&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new ft(n.segments,e);return vB(t)}function vB(n){if(n.numberOfChildren===1&&n.children[Be]){let e=n.children[Be];return new ft(n.segments.concat(e.segments),e.children)}return n}function Wl(n){return n instanceof ts}function _B(n,e,t=null,r=null){let i=yD(n);return xD(i,e,t,r)}function yD(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new ft(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=vD(r);return e??i}function xD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return cy(i,i,i,t,r);let s=yB(e);if(s.toRoot())return cy(i,i,new ft([],{}),t,r);let o=xB(s,i,n),a=o.processChildren?jl(o.segmentGroup,o.index,s.commands):ED(o.segmentGroup,o.index,s.commands);return cy(i,o.segmentGroup,a,t,r)}function Ap(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Gl(n){return typeof n=="object"&&n!=null&&n.outlets}function cy(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;n===e?o=t:o=wD(n,e,t);let a=vD(_D(o));return new ts(a,s,i)}function wD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=wD(s,e,t)}),new ft(n.segments,r)}var kp=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ap(r[0]))throw new be(4003,!1);let i=r.find(Gl);if(i&&i!==lD(r))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new kp(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new kp(t,e,r)}var Nc=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function xB(n,e,t){if(n.isAbsolute)return new Nc(e,!0,0);if(!t)return new Nc(e,!1,NaN);if(t.parent===null)return new Nc(t,!0,0);let r=Ap(n.commands[0])?0:1,i=t.segments.length-1+r;return wB(t,i,n.numberOfDoubleDots)}function wB(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new be(4005,!1);i=r.segments.length}return new Nc(r,!1,i-s)}function EB(n){return Gl(n[0])?n[0].outlets:{[Be]:n}}function ED(n,e,t){if(n??=new ft([],{}),n.segments.length===0&&n.hasChildren())return jl(n,e,t);let r=IB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new ft(n.segments.slice(0,r.pathIndex),{});return s.children[Be]=new ft(n.segments.slice(r.pathIndex),n.children),jl(s,0,i)}else return r.match&&i.length===0?new ft(n.segments,{}):r.match&&!n.hasChildren()?gy(n,e,t):r.match?jl(n,0,i):gy(n,e,t)}function jl(n,e,t){if(t.length===0)return new ft(n.segments,{});{let r=EB(t),i={};if(Object.keys(r).some(s=>s!==Be)&&n.children[Be]&&n.numberOfChildren===1&&n.children[Be].segments.length===0){let s=jl(n.children[Be],e,t);return new ft(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ED(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ft(n.segments,i)}}function IB(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Gl(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!sD(c,u,o))return s;r+=2}else{if(!sD(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function gy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Gl(s)){let c=TB(s.outlets);return new ft(r,c)}if(i===0&&Ap(t[0])){let c=n.segments[e];r.push(new Go(c.path,iD(t[0]))),i++;continue}let o=Gl(s)?s.outlets[Be]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Ap(a)?(r.push(new Go(o,iD(a))),i+=2):(r.push(new Go(o,{})),i++)}return new ft(r,{})}function TB(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=gy(new ft([],{}),0,r))}),e}function iD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function sD(n,e,t){return n==t.path&&Ii(e,t.parameters)}var $l="imperative",bn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(bn||{}),Lr=class{constructor(e,t){this.id=e,this.url=t}},ql=class extends Lr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=bn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ko=class extends Lr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=bn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yr=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(yr||{}),my=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(my||{}),es=class extends Lr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qo=class extends Lr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=bn.NavigationSkipped}},Kl=class extends Lr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=bn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rp=class extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vy=class extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_y=class extends Lr{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=bn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yy=class extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xy=class extends Lr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=bn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wy=class{constructor(e){this.route=e,this.type=bn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ey=class{constructor(e){this.route=e,this.type=bn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iy=class{constructor(e){this.snapshot=e,this.type=bn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ty=class{constructor(e){this.snapshot=e,this.type=bn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sy=class{constructor(e){this.snapshot=e,this.type=bn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cy=class{constructor(e){this.snapshot=e,this.type=bn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ql=class{},Fc=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function SB(n,e){return n.providers&&!n._injector&&(n._injector=V_(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ni(n){return n.outlet||Be}function CB(n,e){let t=n.filter(r=>ni(r)===e);return t.push(...n.filter(r=>ni(r)!==e)),t}function tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var by=class{get injector(){return tf(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Vp(this.rootInjector),this.attachRef=null}},Vp=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new by(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(Me(Pr))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Np=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Dy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Dy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ay(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ay(e,this._root).map(t=>t.value)}};function Dy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Dy(n,t);if(r)return r}return null}function Ay(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ay(n,t);if(r.length)return r.unshift(e),r}return[]}var _r=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mp=class extends Np{constructor(e,t){super(e),this.snapshot=t,By(this,e)}toString(){return this.snapshot.toString()}};function ID(n){let e=bB(n),t=new In([new Go("",{})]),r=new In({}),i=new In({}),s=new In({}),o=new In(""),a=new ar(t,r,s,o,i,Be,n,e.root);return a.snapshot=e.root,new Mp(new _r(a,[]),e)}function bB(n){let e={},t={},r={},i="",s=new Mc([],e,r,i,t,Be,n,null,{});return new Op("",new _r(s,[]))}var ar=class{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ge(u=>u[ef]))??Ve(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ge(e=>Oc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ge(e=>Oc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:he(he({},e.params),n.params),data:he(he({},e.data),n.data),resolve:he(he(he(he({},n.data),e.data),i?.data),n._resolvedData)}:r={params:he({},n.params),data:he({},n.data),resolve:he(he({},n.data),n._resolvedData??{})},i&&SD(i)&&(r.resolve[ef]=i.title),r}var Mc=class{get title(){return this.data?.[ef]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Op=class extends Np{constructor(e,t){super(t),this.url=e,By(this,t)}toString(){return TD(this._root)}};function By(n,e){e.value._routerState=n,e.children.forEach(t=>By(n,t))}function TD(n){let e=n.children.length>0?` { ${n.children.map(TD).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ii(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ii(e.params,t.params)||n.paramsSubject.next(t.params),eB(e.url,t.url)||n.urlSubject.next(t.url),Ii(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ky(n,e){let t=Ii(n.params,e.params)&&iB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ky(n.parent,e.parent))}function SD(n){return typeof n.title=="string"||n.title===null}var Uy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new on,this.deactivateEvents=new on,this.attachEvents=new on,this.detachEvents=new on,this.parentContexts=pe(Vp),this.location=pe(bc),this.changeDetector=pe(zo),this.inputBinder=pe(jy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Ry(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Or({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tc]})}}return n})(),Ry=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ar?this.route:e===Vp?this.childContexts:this.parent.get(e,t)}},jy=new De("");function DB(n,e,t){let r=Xl(n,e._root,t?t._root:void 0);return new Mp(r,e)}function Xl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=AB(n,e,t);return new _r(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xl(n,a)),o}}let r=kB(e.value),i=e.children.map(s=>Xl(n,s));return new _r(r,i)}}function AB(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xl(n,r,i);return Xl(n,r)})}function kB(n){return new ar(new In(n.url),new In(n.params),new In(n.queryParams),new In(n.fragment),new In(n.data),n.outlet,n.component,n)}var Yl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CD="ngNavigationCancelingError";function Fp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Wl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bD(!1,yr.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function bD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CD]=!0,t.cancellationCode=e,t}function RB(n){return DD(n)&&Wl(n.url)}function DD(n){return!!n&&n[CD]}var NB=(n,e,t,r)=>Ge(i=>(new Ny(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Ny=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Rc(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Rc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ty(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(uy(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),uy(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Lp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Pc=class{constructor(e,t){this.component=e,this.route=t}};function MB(n,e,t){let r=n._root,i=e?e._root:null;return Bl(r,i,t,[r.value])}function PB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vc(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!rS(n)?n:e.get(n):r}function Bl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Rc(e);return n.children.forEach(o=>{OB(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Hl(a,t.getContext(o),i)),i}function OB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=FB(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Lp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Bl(n,e,a?a.children:null,r,i):Bl(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Pc(a.outlet.component,o))}else o&&Hl(e,a,i),i.canActivateChecks.push(new Lp(r)),s.component?Bl(n,null,a?a.children:null,r,i):Bl(n,null,t,r,i);return i}function FB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!Ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ky(n,e)||!Ii(n.queryParams,e.queryParams);case"paramsChange":default:return!ky(n,e)}}function Hl(n,e,t){let r=Rc(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Hl(o,e.children.getContext(s),t):Hl(o,null,t):Hl(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Pc(e.outlet.component,i)):t.canDeactivateChecks.push(new Pc(null,i)):t.canDeactivateChecks.push(new Pc(null,i))}function nf(n){return typeof n=="function"}function LB(n){return typeof n=="boolean"}function VB(n){return n&&nf(n.canLoad)}function BB(n){return n&&nf(n.canActivate)}function UB(n){return n&&nf(n.canActivateChild)}function jB(n){return n&&nf(n.canDeactivate)}function $B(n){return n&&nf(n.canMatch)}function AD(n){return n instanceof Kr||n?.name==="EmptyError"}var Sp=Symbol("INITIAL_VALUE");function Lc(){return Xr(n=>uh(n.map(e=>e.pipe(Hi(1),Qm(Sp)))).pipe(Ge(e=>{for(let t of e)if(t!==!0){if(t===Sp)return Sp;if(t===!1||HB(t))return t}return!0}),Qr(e=>e!==Sp),Hi(1)))}function HB(n){return Wl(n)||n instanceof Yl}function zB(n,e){return rn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?Ve(Je(he({},t),{guardsResult:!0})):WB(o,r,i,n).pipe(rn(a=>a&&LB(a)?GB(r,s,n,e):Ve(a)),Ge(a=>Je(he({},t),{guardsResult:a})))})}function WB(n,e,t,r){return $t(n).pipe(rn(i=>YB(i.component,i.route,t,e,r)),pi(i=>i!==!0,!0))}function GB(n,e,t,r){return $t(e).pipe(sc(i=>ic(KB(i.route.parent,r),qB(i.route,r),XB(n,i.path,t),QB(n,i.route,t))),pi(i=>i!==!0,!0))}function qB(n,e){return n!==null&&e&&e(new Sy(n)),Ve(!0)}function KB(n,e){return n!==null&&e&&e(new Iy(n)),Ve(!0)}function QB(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Ve(!0);let i=r.map(s=>lh(()=>{let o=tf(e)??t,a=Vc(s,o),c=BB(a)?a.canActivate(e,n):qi(o,()=>a(e,n));return $s(c).pipe(pi())}));return Ve(i).pipe(Lc())}function XB(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>PB(o)).filter(o=>o!==null).map(o=>lh(()=>{let a=o.guards.map(c=>{let u=tf(o.node)??t,f=Vc(c,u),d=UB(f)?f.canActivateChild(r,n):qi(u,()=>f(r,n));return $s(d).pipe(pi())});return Ve(a).pipe(Lc())}));return Ve(s).pipe(Lc())}function YB(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Ve(!0);let o=s.map(a=>{let c=tf(e)??i,u=Vc(a,c),f=jB(u)?u.canDeactivate(n,e,t,r):qi(c,()=>u(n,e,t,r));return $s(f).pipe(pi())});return Ve(o).pipe(Lc())}function JB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Ve(!0);let s=i.map(o=>{let a=Vc(o,n),c=VB(a)?a.canLoad(e,t):qi(n,()=>a(e,t));return $s(c)});return Ve(s).pipe(Lc(),kD(r))}function kD(n){return Pm(sn(e=>{if(typeof e!="boolean")throw Fp(n,e)}),Ge(e=>e===!0))}function ZB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Ve(!0);let s=i.map(o=>{let a=Vc(o,n),c=$B(a)?a.canMatch(e,t):qi(n,()=>a(e,t));return $s(c)});return Ve(s).pipe(Lc(),kD(r))}var Jl=class{constructor(e){this.segmentGroup=e||null}},Zl=class extends Error{constructor(e){super(),this.urlTree=e}};function kc(n){return rc(new Jl(n))}function eU(n){return rc(new be(4e3,!1))}function tU(n){return rc(bD(!1,yr.GuardRejected))}var My=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Ve(r);if(i.numberOfChildren>1||!i.children[Be])return eU(`${e.redirectTo}`);i=i.children[Be]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:f,url:d,outlet:p,params:g,data:_,title:m}=i,y=qi(s,()=>a({params:g,data:_,queryParams:c,fragment:u,routeConfig:f,url:d,outlet:p,title:m}));if(y instanceof ts)throw new Zl(y);t=y}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Zl(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new ts(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new ft(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new be(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nU(n,e,t,r,i){let s=RD(n,e,t);return s.matched?(r=SB(e,r),ZB(r,e,t,i).pipe(Ge(o=>o===!0?s:he({},Py)))):Ve(s)}function RD(n,e,t){if(e.path==="**")return rU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?he({},Py):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Z3)(t,n,e);if(!i)return he({},Py);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?he(he({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function rU(n){return{matched:!0,parameters:n.length>0?lD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oD(n,e,t,r){return t.length>0&&oU(n,t,r)?{segmentGroup:new ft(e,sU(r,new ft(t,n.children))),slicedSegments:[]}:t.length===0&&aU(n,t,r)?{segmentGroup:new ft(n.segments,iU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ft(n.segments,n.children),slicedSegments:t}}function iU(n,e,t,r){let i={};for(let s of t)if(Bp(n,e,s)&&!r[ni(s)]){let o=new ft([],{});i[ni(s)]=o}return he(he({},r),i)}function sU(n,e){let t={};t[Be]=e;for(let r of n)if(r.path===""&&ni(r)!==Be){let i=new ft([],{});t[ni(r)]=i}return t}function oU(n,e,t){return t.some(r=>Bp(n,e,r)&&ni(r)!==Be)}function aU(n,e,t){return t.some(r=>Bp(n,e,r))}function Bp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function cU(n,e,t){return e.length===0&&!n.children[t]}var Oy=class{};function uU(n,e,t,r,i,s,o="emptyOnly"){return new Fy(n,e,t,r,i,o,s).recognize()}var lU=31,Fy=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new My(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new be(4002,`'${e.segmentGroup}'`)}recognize(){let e=oD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ge(({children:t,rootSnapshot:r})=>{let i=new _r(r,t),s=new Op("",i),o=_B(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Mc([],Object.freeze({}),Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Be,t).pipe(Ge(r=>({children:r,rootSnapshot:t})),Ds(r=>{if(r instanceof Zl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Jl?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Ge(o=>o instanceof _r?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return $t(s).pipe(sc(o=>{let a=r.children[o],c=CB(t,o);return this.processSegmentGroup(e,c,a,o,i)}),Km((o,a)=>(o.push(...a),o)),As(null),qm(),rn(o=>{if(o===null)return kc(r);let a=ND(o);return fU(a),Ve(a)}))}processSegment(e,t,r,i,s,o,a){return $t(t).pipe(sc(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a).pipe(Ds(u=>{if(u instanceof Jl)return Ve(null);throw u}))),pi(c=>!!c),Ds(c=>{if(AD(c))return cU(r,i,s)?Ve(new Oy):kc(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,c){return ni(r)!==o&&(o===Be||!Bp(i,s,r))?kc(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c):kc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:f,positionalParamSegments:d,remainingSegments:p}=RD(t,i,s);if(!c)return kc(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lU&&(this.allowRedirects=!1));let g=new Mc(s,u,Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,aD(i),ni(i),i.component??i._loadedComponent??null,i,cD(i)),_=Pp(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let m=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,d,g,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(rn(y=>this.processSegment(e,r,t,y.concat(p),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=nU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Xr(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xr(({routes:u})=>{let f=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:g}=c,_=new Mc(p,d,Object.freeze(he({},this.urlTree.queryParams)),this.urlTree.fragment,aD(r),ni(r),r.component??r._loadedComponent??null,r,cD(r)),m=Pp(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(m.params),_.data=Object.freeze(m.data);let{segmentGroup:y,slicedSegments:P}=oD(t,p,g,u);if(P.length===0&&y.hasChildren())return this.processChildren(f,u,y,_).pipe(Ge(O=>new _r(_,O)));if(u.length===0&&P.length===0)return Ve(new _r(_,[]));let F=ni(r)===s;return this.processSegment(f,u,y,P,F?Be:s,!0,_).pipe(Ge(O=>new _r(_,O instanceof _r?[O]:[])))}))):kc(t)))}getChildConfig(e,t,r){return t.children?Ve({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Ve({routes:t._loadedRoutes,injector:t._loadedInjector}):JB(e,t,r,this.urlSerializer).pipe(rn(i=>i?this.configLoader.loadChildren(e,t).pipe(sn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):tU(t))):Ve({routes:[],injector:e})}};function fU(n){n.sort((e,t)=>e.value.outlet===Be?-1:t.value.outlet===Be?1:e.value.outlet.localeCompare(t.value.outlet))}function dU(n){let e=n.value.routeConfig;return e&&e.path===""}function ND(n){let e=[],t=new Set;for(let r of n){if(!dU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ND(r.children);e.push(new _r(r.value,i))}return e.filter(r=>!t.has(r))}function aD(n){return n.data||{}}function cD(n){return n.resolve||{}}function hU(n,e,t,r,i,s){return rn(o=>uU(n,e,t,r,o.extractedUrl,i,s).pipe(Ge(({state:a,tree:c})=>Je(he({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function pU(n,e){return rn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ve(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of MD(c))o.add(u);let a=0;return $t(o).pipe(sc(c=>s.has(c)?gU(c,r,n,e):(c.data=Pp(c,c.parent,n).resolve,Ve(void 0))),sn(()=>a++),oc(1),rn(c=>a===o.size?Ve(t):gr))})}function MD(n){let e=n.children.map(t=>MD(t)).flat();return[n,...e]}function gU(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!SD(i)&&(s[ef]=i.title),mU(s,n,e,r).pipe(Ge(o=>(n._resolvedData=o,n.data=Pp(n,n.parent,t).resolve,null)))}function mU(n,e,t,r){let i=dy(n);if(i.length===0)return Ve({});let s={};return $t(i).pipe(rn(o=>vU(n[o],e,t,r).pipe(pi(),sn(a=>{if(a instanceof Yl)throw Fp(new zl,a);s[o]=a}))),oc(1),Gm(s),Ds(o=>AD(o)?gr:rc(o)))}function vU(n,e,t,r){let i=tf(e)??r,s=Vc(n,i),o=s.resolve?s.resolve(e,t):qi(i,()=>s(e,t));return $s(o)}function ly(n){return Xr(e=>{let t=n(e);return t?$t(t).pipe(Ge(()=>e)):Ve(e)})}var PD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Be);return r}getResolvedTitleForRoute(t){return t.data[ef]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(_U),providedIn:"root"})}}return n})(),_U=(()=>{class n extends PD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(Me(tD))}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$y=new De("",{providedIn:"root",factory:()=>({})}),yU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Vn],decls:1,vars:0,template:function(r,i){r&1&&et(0,"router-outlet")},dependencies:[Uy],encapsulation:2})}}return n})();function Hy(n){let e=n.children&&n.children.map(Hy),t=e?Je(he({},n),{children:e}):he({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Be&&(t.component=yU),t}var zy=new De(""),xU=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=pe(G_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ve(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=$s(t.loadComponent()).pipe(Ge(OD),sn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),hl(()=>{this.componentLoaders.delete(t)})),i=new Za(r,()=>new En).pipe(Ja());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=wU(r,this.compiler,t,this.onLoadEndListener).pipe(hl(()=>{this.childrenLoaders.delete(r)})),o=new Za(s,()=>new En).pipe(Ja());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wU(n,e,t,r){return $s(n.loadChildren()).pipe(Ge(OD),rn(i=>i instanceof Il||Array.isArray(i)?Ve(i):$t(e.compileModuleAsync(i))),Ge(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(zy,[],{optional:!0,self:!0}).flat()),{routes:o.map(Hy),injector:s}}))}function EU(n){return n&&typeof n=="object"&&"default"in n}function OD(n){return EU(n)?n.default:n}var Wy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(IU),providedIn:"root"})}}return n})(),IU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TU=new De("");var SU=new De(""),CU=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new En,this.transitionAbortSubject=new En,this.configLoader=pe(xU),this.environmentInjector=pe(Pr),this.urlSerializer=pe(Vy),this.rootContexts=pe(Vp),this.location=pe(Pl),this.inputBindingEnabled=pe(jy,{optional:!0})!==null,this.titleStrategy=pe(PD),this.options=pe($y,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=pe(Wy),this.createViewTransition=pe(TU,{optional:!0}),this.navigationErrorHandler=pe(SU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ve(void 0),this.rootComponentType=null;let t=i=>this.events.next(new wy(i)),r=i=>this.events.next(new Ey(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Je(he(he({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new In({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$l,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qr(s=>s.id!==0),Ge(s=>Je(he({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Xr(s=>{let o=!1,a=!1;return Ve(s).pipe(Xr(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",yr.SupersededByNewNavigation),gr;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Je(he({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&f!=="reload"){let d="";return this.events.next(new Qo(c.id,this.urlSerializer.serialize(c.rawUrl),d,my.IgnoredSameUrlNavigation)),c.resolve(!1),gr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ve(c).pipe(Xr(d=>{let p=this.transitions?.getValue();return this.events.next(new ql(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),p!==this.transitions?.getValue()?gr:Promise.resolve(d)}),hU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),sn(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Je(he({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let p=new Rp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:p,source:g,restoredState:_,extras:m}=c,y=new ql(d,this.urlSerializer.serialize(p),g,_);this.events.next(y);let P=ID(this.rootComponentType).snapshot;return this.currentTransition=s=Je(he({},c),{targetSnapshot:P,urlAfterRedirects:p,extras:Je(he({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Ve(s)}else{let d="";return this.events.next(new Qo(c.id,this.urlSerializer.serialize(c.extractedUrl),d,my.IgnoredByUrlHandlingStrategy)),c.resolve(!1),gr}}),sn(c=>{let u=new vy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ge(c=>(this.currentTransition=s=Je(he({},c),{guards:MB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),zB(this.environmentInjector,c=>this.events.next(c)),sn(c=>{if(s.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Fp(this.urlSerializer,c.guardsResult);let u=new _y(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Qr(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",yr.GuardRejected),!1)),ly(c=>{if(c.guards.canActivateChecks.length)return Ve(c).pipe(sn(u=>{let f=new yy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Xr(u=>{let f=!1;return Ve(u).pipe(pU(this.paramsInheritanceStrategy,this.environmentInjector),sn({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",yr.NoDataFromResolver)}}))}),sn(u=>{let f=new xy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),ly(c=>{let u=f=>{let d=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(f.routeConfig).pipe(sn(p=>{f.component=p}),Ge(()=>{})));for(let p of f.children)d.push(...u(p));return d};return uh(u(c.targetSnapshot.root)).pipe(As(null),Hi(1))}),ly(()=>this.afterPreactivation()),Xr(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?$t(f).pipe(Ge(()=>s)):Ve(s)}),Ge(c=>{let u=DB(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Je(he({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),sn(()=>{this.events.next(new Ql)}),NB(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Hi(1),sn({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ko(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Xm(this.transitionAbortSubject.pipe(sn(c=>{throw c}))),hl(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",yr.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ds(c=>{if(a=!0,DD(c))this.events.next(new es(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),RB(c)?this.events.next(new Fc(c.url,c.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Kl(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0);try{let f=qi(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Yl){let{message:d,cancellationCode:p}=Fp(this.urlSerializer,f);this.events.next(new es(s.id,this.urlSerializer.serialize(s.extractedUrl),d,p)),this.events.next(new Fc(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(u);let d=t.errorHandler(c);s.resolve(!!d)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return gr}))}))}cancelNavigationTransition(t,r,i){let s=new es(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bU(n){return n!==$l}var DU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(AU),providedIn:"root"})}}return n})(),Ly=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},AU=(()=>{class n extends Ly{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Al(n)))(i||n)}})()}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),FD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:()=>pe(kU),providedIn:"root"})}}return n})(),kU=(()=>{class n extends FD{constructor(){super(...arguments),this.location=pe(Pl),this.urlSerializer=pe(Vy),this.options=pe($y,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=pe(Wy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ts,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ID(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ql)this.stateMemento=this.createStateMemento();else if(t instanceof Qo)this.rawUrlTree=r.initialUrl;else if(t instanceof Rp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ql?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof es&&(t.code===yr.GuardRejected||t.code===yr.NoDataFromResolver)?this.restoreHistory(r):t instanceof Kl?this.restoreHistory(r,!0):t instanceof Ko&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ts?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=he(he({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=he(he({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Al(n)))(i||n)}})()}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ul=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ul||{});function RU(n,e){n.events.pipe(Qr(t=>t instanceof Ko||t instanceof es||t instanceof Kl||t instanceof Qo),Ge(t=>t instanceof Ko||t instanceof Qo?Ul.COMPLETE:(t instanceof es?t.code===yr.Redirect||t.code===yr.SupersededByNewNavigation:!1)?Ul.REDIRECTING:Ul.FAILED),Qr(t=>t!==Ul.REDIRECTING),Hi(1)).subscribe(()=>{e()})}function NU(n){throw n}var MU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qt=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=pe(hp),this.stateManager=pe(FD),this.options=pe($y,{optional:!0})||{},this.pendingTasks=pe(Cc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=pe(CU),this.urlSerializer=pe(Vy),this.location=pe(Pl),this.urlHandlingStrategy=pe(Wy),this._events=new En,this.errorHandler=this.options.errorHandler||NU,this.navigated=!1,this.routeReuseStrategy=pe(DU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=pe(zy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!pe(jy,{optional:!0}),this.eventsSubscription=new Lt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof es&&r.code!==yr.Redirect&&r.code!==yr.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ko)this.navigated=!0;else if(r instanceof Fc){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=he({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bU(i.source)},o);this.scheduleNavigation(a,$l,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}FU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$l,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=he({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Hy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=he(he({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let d;try{let p=i?i.snapshot:this.routerState.snapshot.root;d=yD(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return xD(d,t,f,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Wl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,$l,null,r)}navigate(t,r={skipLocationChange:!1}){return OU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=he({},MU):r===!1?i=he({},PU):i=r,Wl(t))return nD(this.currentUrlTree,t,i);let s=this.parseUrl(t);return nD(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,p)=>{a=d,c=p});let f=this.pendingTasks.add();return RU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new be(4008,!1)}function FU(n){return!(n instanceof Ql)&&!(n instanceof Fc)}var LU=new De("");function LD(n,...e){return Ei([{provide:zy,multi:!0,useValue:n},[],{provide:ar,useFactory:VU,deps:[Qt]},{provide:W_,multi:!0,useFactory:BU},e.map(t=>t.\u0275providers)])}function VU(n){return n.routerState.root}function BU(){let n=pe(ir);return e=>{let t=n.get(Ho);if(e!==t.components[0])return;let r=n.get(Qt),i=n.get(UU);n.get(jU)===1&&r.initialNavigation(),n.get($U,null,$e.Optional)?.setUpPreloading(),n.get(LU,null,$e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var UU=new De("",{factory:()=>new En}),jU=new De("",{providedIn:"root",factory:()=>1});var $U=new De("");var WD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Ae(jo),Ae(Vs))}}static{this.\u0275dir=Or({type:n})}}return n})(),HU=(()=>{class n extends WD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Al(n)))(i||n)}})()}static{this.\u0275dir=Or({type:n,features:[Dc]})}}return n})(),GD=new De("");var zU={provide:GD,useExisting:Cl(()=>zp),multi:!0};function WU(){let n=Ji()?Ji().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var GU=new De(""),zp=(()=>{class n extends WD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!WU())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Ae(jo),Ae(Vs),Ae(GU,8))}}static{this.\u0275dir=Or({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Sn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[z_([zU]),Dc]})}}return n})();var qU=new De(""),KU=new De("");function qD(n){return n!=null}function KD(n){return $o(n)?$t(n):n}function QD(n){let e={};return n.forEach(t=>{e=t!=null?he(he({},e),t):e}),Object.keys(e).length===0?null:e}function XD(n,e){return e.map(t=>t(n))}function QU(n){return!n.validate}function YD(n){return n.map(e=>QU(e)?e:t=>e.validate(t))}function XU(n){if(!n)return null;let e=n.filter(qD);return e.length==0?null:function(t){return QD(XD(t,e))}}function JD(n){return n!=null?XU(YD(n)):null}function YU(n){if(!n)return null;let e=n.filter(qD);return e.length==0?null:function(t){let r=XD(t,e).map(KD);return Wm(r).pipe(Ge(QD))}}function ZD(n){return n!=null?YU(YD(n)):null}function VD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JU(n){return n._rawValidators}function ZU(n){return n._rawAsyncValidators}function Gy(n){return n?Array.isArray(n)?n:[n]:[]}function jp(n,e){return Array.isArray(n)?n.includes(e):n===e}function BD(n,e){let t=Gy(e);return Gy(n).forEach(i=>{jp(t,i)||t.push(i)}),t}function UD(n,e){return Gy(e).filter(t=>!jp(n,t))}var $p=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=JD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},qy=class extends $p{get formDirective(){return null}get path(){return null}},cf=class extends $p{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ky=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},e8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lie=Je(he({},e8),{"[class.ng-submitted]":"isSubmitted"}),eA=(()=>{class n extends Ky{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ae(cf,2))}}static{this.\u0275dir=Or({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&U_("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dc]})}}return n})();var rf="VALID",Up="INVALID",Bc="PENDING",sf="DISABLED",jc=class{},Hp=class extends jc{constructor(e,t){super(),this.value=e,this.source=t}},of=class extends jc{constructor(e,t){super(),this.pristine=e,this.source=t}},af=class extends jc{constructor(e,t){super(),this.touched=e,this.source=t}},Uc=class extends jc{constructor(e,t){super(),this.status=e,this.source=t}};function t8(n){return(Wp(n)?n.validators:n)||null}function n8(n){return Array.isArray(n)?JD(n):n||null}function r8(n,e){return(Wp(e)?e.asyncValidators:n)||null}function i8(n){return Array.isArray(n)?ZD(n):n||null}function Wp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var Qy=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=gp(()=>this.statusReactive()),this.statusReactive=dp(void 0),this._pristine=gp(()=>this.pristineReactive()),this.pristineReactive=dp(!0),this._touched=gp(()=>this.touchedReactive()),this.touchedReactive=dp(!1),this._events=new En,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return js(this.statusReactive)}set status(e){js(()=>this.statusReactive.set(e))}get valid(){return this.status===rf}get invalid(){return this.status===Up}get pending(){return this.status==Bc}get disabled(){return this.status===sf}get enabled(){return this.status!==sf}get pristine(){return js(this.pristineReactive)}set pristine(e){js(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return js(this.touchedReactive)}set touched(e){js(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UD(e,this._rawAsyncValidators))}hasValidator(e){return jp(this._rawValidators,e)}hasAsyncValidator(e){return jp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Je(he({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new af(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new af(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Je(he({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new of(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new of(!0,r))}markAsPending(e={}){this.status=Bc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Je(he({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sf,this.errors=null,this._forEachChild(i=>{i.disable(Je(he({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hp(this.value,r)),this._events.next(new Uc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Je(he({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=rf,this._forEachChild(r=>{r.enable(Je(he({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Je(he({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rf||this.status===Bc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hp(this.value,t)),this._events.next(new Uc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Je(he({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sf:rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Bc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=KD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Uc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new on,this.statusChanges=new on}_calculateStatus(){return this._allControlsDisabled()?sf:this.errors?Up:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bc)?Bc:this._anyControlsHaveStatus(Up)?Up:rf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new of(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new af(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=n8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=i8(this._rawAsyncValidators)}};var tA=new De("CallSetDisabledState",{providedIn:"root",factory:()=>Xy}),Xy="always";function s8(n,e){return[...e.path,n]}function o8(n,e,t=Xy){c8(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),u8(n,e),f8(n,e),l8(n,e),a8(n,e)}function jD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function a8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function c8(n,e){let t=JU(n);e.validator!==null?n.setValidators(VD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=ZU(n);e.asyncValidator!==null?n.setAsyncValidators(VD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();jD(e._rawValidators,i),jD(e._rawAsyncValidators,i)}function u8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nA(n,e)})}function l8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function f8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function d8(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function h8(n){return Object.getPrototypeOf(n.constructor)===HU}function p8(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===zp?t=s:h8(s)?r=s:i=s}),i||r||t||null}function $D(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function HD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var g8=class extends Qy{constructor(e=null,t,r){super(t8(t),r8(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(HD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$D(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$D(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){HD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var m8={provide:cf,useExisting:Cl(()=>Yy)},zD=Promise.resolve(),Yy=(()=>{class n extends cf{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new g8,this._registered=!1,this.name="",this.update=new on,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=p8(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),d8(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){o8(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&pp(r);zD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?s8(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Ae(qy,9),Ae(qU,10),Ae(KU,10),Ae(GD,10),Ae(zo,8),Ae(tA,8))}}static{this.\u0275dir=Or({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[z_([m8]),Dc,Tc]})}}return n})();var v8=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Uo({type:n})}static{this.\u0275inj=Bo({})}}return n})();var rA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:tA,useValue:t.callSetDisabledState??Xy}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Uo({type:n})}static{this.\u0275inj=Bo({imports:[v8]})}}return n})();var sA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},y8=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,f=s>>2,d=(s&3)<<4|a>>4,p=(a&15)<<2|u>>6,g=u&63;c||(g=64,o||(p=64)),r.push(t[f],t[d],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):y8(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Zy;let p=s<<2|a>>4;if(r.push(p),u!==64){let g=a<<4&240|u>>2;if(r.push(g),d!==64){let _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Zy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},x8=function(n){let e=sA(n);return oA.encodeByteArray(e,!0)},uf=function(n){return x8(n).replace(/\./g,"")},tx=function(n){try{return oA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function w8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var E8=()=>w8().__FIREBASE_DEFAULTS__,I8=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},T8=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&tx(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return E8()||I8()||T8()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aA=n=>{var e,t;return(t=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Kp=n=>{let e=aA(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nx=()=>{var n;return(n=qp())===null||n===void 0?void 0:n.config},cA=n=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${n}`]};var Gp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Qp(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uf(JSON.stringify(t)),uf(JSON.stringify(o)),""].join(".")}function Bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bn())}function S8(){var n;let e=(n=qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rx(){return!S8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xp(){try{return typeof indexedDB=="object"}catch{return!1}}function hA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var C8="FirebaseError",cr=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=C8,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rs.prototype.create)}},rs=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?b8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new cr(i,a,r)}};function b8(n,e){return n.replace(D8,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var D8=/\{\$([^}]+)}/g;function $c(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(iA(s)&&iA(o)){if(!$c(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function iA(n){return n!==null&&typeof n=="object"}function ix(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pA(n,e){let t=new ex(n,e);return t.subscribe.bind(t)}var ex=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");A8(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Jy),i.error===void 0&&(i.error=Jy),i.complete===void 0&&(i.complete=Jy);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function A8(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jy(){}var hie=4*60*60*1e3;function xr(n){return n&&n._delegate?n._delegate:n}var ur=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xo="[DEFAULT]";var sx=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Gp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R8(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return B(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k8(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function k8(n){return n===Xo?void 0:n}function R8(n){return n.instantiationMode==="EAGER"}var Yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new sx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var N8=[],Xe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Xe||{}),M8={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},P8=Xe.INFO,O8={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},F8=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=O8[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Hs=class{constructor(e){this.name=e,this._logLevel=P8,this._logHandler=F8,this._userLogHandler=null,N8.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}};var L8=(n,e)=>e.some(t=>n instanceof t),gA,mA;function V8(){return gA||(gA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B8(){return mA||(mA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vA=new WeakMap,ax=new WeakMap,_A=new WeakMap,ox=new WeakMap,ux=new WeakMap;function U8(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ti(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&vA.set(t,n)}).catch(()=>{}),ux.set(e,n),e}function j8(n){if(ax.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});ax.set(n,e)}var cx={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ax.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_A.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function yA(n){cx=n(cx)}function $8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Jp(this),e,...t);return _A.set(r,e.sort?e.sort():[e]),Ti(r)}:B8().includes(n)?function(...e){return n.apply(Jp(this),e),Ti(vA.get(this))}:function(...e){return Ti(n.apply(Jp(this),e))}}function H8(n){return typeof n=="function"?$8(n):(n instanceof IDBTransaction&&j8(n),L8(n,V8())?new Proxy(n,cx):n)}function Ti(n){if(n instanceof IDBRequest)return U8(n);if(ox.has(n))return ox.get(n);let e=H8(n);return e!==n&&(ox.set(n,e),ux.set(e,n)),e}var Jp=n=>ux.get(n);function wA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=Ti(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ti(o.result),c.oldVersion,c.newVersion,Ti(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var z8=["get","getKey","getAll","getAllKeys","count"],W8=["put","add","delete","clear"],lx=new Map;function xA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lx.get(e))return lx.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=W8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z8.includes(t)))return;let s=function(o,...a){return B(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return lx.set(e,s),s}yA(n=>Je(he({},n),{get:(e,t,r)=>xA(e,t)||n.get(e,t,r),has:(e,t)=>!!xA(e,t)||n.has(e,t)}));var dx=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G8(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function G8(n){let e=n.getComponent();return e?.type==="VERSION"}var hx="@firebase/app",EA="0.10.13";var is=new Hs("@firebase/app"),q8="@firebase/app-compat",K8="@firebase/analytics-compat",Q8="@firebase/analytics",X8="@firebase/app-check-compat",Y8="@firebase/app-check",J8="@firebase/auth",Z8="@firebase/auth-compat",e6="@firebase/database",t6="@firebase/data-connect",n6="@firebase/database-compat",r6="@firebase/functions",i6="@firebase/functions-compat",s6="@firebase/installations",o6="@firebase/installations-compat",a6="@firebase/messaging",c6="@firebase/messaging-compat",u6="@firebase/performance",l6="@firebase/performance-compat",f6="@firebase/remote-config",d6="@firebase/remote-config-compat",h6="@firebase/storage",p6="@firebase/storage-compat",g6="@firebase/firestore",m6="@firebase/vertexai-preview",v6="@firebase/firestore-compat",_6="firebase",y6="10.14.1";var px="[DEFAULT]",x6={[hx]:"fire-core",[q8]:"fire-core-compat",[Q8]:"fire-analytics",[K8]:"fire-analytics-compat",[Y8]:"fire-app-check",[X8]:"fire-app-check-compat",[J8]:"fire-auth",[Z8]:"fire-auth-compat",[e6]:"fire-rtdb",[t6]:"fire-data-connect",[n6]:"fire-rtdb-compat",[r6]:"fire-fn",[i6]:"fire-fn-compat",[s6]:"fire-iid",[o6]:"fire-iid-compat",[a6]:"fire-fcm",[c6]:"fire-fcm-compat",[u6]:"fire-perf",[l6]:"fire-perf-compat",[f6]:"fire-rc",[d6]:"fire-rc-compat",[h6]:"fire-gcs",[p6]:"fire-gcs-compat",[g6]:"fire-fst",[v6]:"fire-fst-compat",[m6]:"fire-vertex","fire-js":"fire-js",[_6]:"fire-js-all"};var lf=new Map,w6=new Map,gx=new Map;function IA(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Si(n){let e=n.name;if(gx.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;gx.set(e,n);for(let t of lf.values())IA(t,n);for(let t of w6.values())IA(t,n);return!0}function df(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Hc(n){return n.settings!==void 0}var E6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new rs("app","Firebase",E6);var mx=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}};var Ws=y6;function yx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:px,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zs.create("bad-app-name",{appName:String(i)});if(t||(t=nx()),!t)throw zs.create("no-options");let s=lf.get(i);if(s){if($c(t,s.options)&&$c(r,s.config))return s;throw zs.create("duplicate-app",{appName:i})}let o=new Yp(i);for(let c of gx.values())o.addComponent(c);let a=new mx(t,r,o);return lf.set(i,a),a}function Yo(n=px){let e=lf.get(n);if(!e&&n===px&&nx())return yx();if(!e)throw zs.create("no-app",{appName:n});return e}function Zp(){return Array.from(lf.values())}function Pt(n,e,t){var r;let i=(r=x6[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(a.join(" "));return}Si(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var I6="firebase-heartbeat-database",T6=1,ff="firebase-heartbeat-store",fx=null;function bA(){return fx||(fx=wA(I6,T6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ff)}catch(t){console.warn(t)}}}}).catch(n=>{throw zs.create("idb-open",{originalErrorMessage:n.message})})),fx}function S6(n){return B(this,null,function*(){try{let t=(yield bA()).transaction(ff),r=yield t.objectStore(ff).get(DA(n));return yield t.done,r}catch(e){if(e instanceof cr)is.warn(e.message);else{let t=zs.create("idb-get",{originalErrorMessage:e?.message});is.warn(t.message)}}})}function TA(n,e){return B(this,null,function*(){try{let r=(yield bA()).transaction(ff,"readwrite");yield r.objectStore(ff).put(e,DA(n)),yield r.done}catch(t){if(t instanceof cr)is.warn(t.message);else{let r=zs.create("idb-set",{originalErrorMessage:t?.message});is.warn(r.message)}}})}function DA(n){return`${n.name}!${n.options.appId}`}var C6=1024,b6=30*24*60*60*1e3,vx=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new _x(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return B(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=SA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=b6}),this._storage.overwrite(this._heartbeatsCache))}catch(r){is.warn(r)}})}getHeartbeatsHeader(){return B(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=SA(),{heartbeatsToSend:r,unsentEntries:i}=D6(this._heartbeatsCache.heartbeats),s=uf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return is.warn(t),""}})}};function SA(){return new Date().toISOString().substring(0,10)}function D6(n,e=C6){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CA(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),CA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var _x=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return B(this,null,function*(){return Xp()?hA().then(()=>!0).catch(()=>!1):!1})}read(){return B(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield S6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return B(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return B(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return TA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CA(n){return uf(JSON.stringify({version:2,heartbeats:n})).length}function A6(n){Si(new ur("platform-logger",e=>new dx(e),"PRIVATE")),Si(new ur("heartbeat",e=>new vx(e),"PRIVATE")),Pt(hx,EA,n),Pt(hx,EA,"esm2017"),Pt("fire-js","")}A6("");var k6="firebase",R6="10.14.1";Pt(k6,R6,"app");var Gs=new Gi("ANGULARFIRE2_VERSION");function hf(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ea=(n,e)=>{let t=e?[e]:Zp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Zo=class{constructor(){return ea(N6)}},N6="app-check";function zc(){}var e0=class{zone;delegate;constructor(e,t=Um){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},xx=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zc,{},zc,zc)),t.pipe(sn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ta=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new e0(Zone.current)),this.insideAngular=t.run(()=>new e0(Zone.current,Bm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Me(vt))};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t0(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function M6(n){return t0().ngZone.runOutsideAngular(()=>n())}function Jo(n){return t0().ngZone.run(()=>n())}function P6(n){return O6(t0())(n)}function O6(n){return function(t){return t=t.lift(new xx(n.ngZone)),t.pipe(bs(n.outsideAngular),Cs(n.insideAngular))}}var F6=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Jo(()=>n.apply(void 0,r))},wr=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zc,{},zc,zc))),r[s]=F6(r[s],t));let i=M6(()=>n.apply(this,r));if(!e)if(i instanceof nt){let s=t0();return i.pipe(bs(s.outsideAngular),Cs(s.insideAngular))}else return Jo(()=>i);return i instanceof nt?i.pipe(P6):i instanceof Promise?Jo(()=>new Promise((s,o)=>i.then(a=>Jo(()=>s(a)),a=>Jo(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Jo(()=>i)};var ss=class{constructor(e){return e}},na=class{constructor(){return Zp()}};function L6(n){return n&&n.length===1?n[0]:new ss(Yo())}var wx=new De("angularfire2._apps"),V6={provide:ss,useFactory:L6,deps:[[new Tn,wx]]},B6={provide:na,deps:[[new Tn,wx]]};function U6(n){return(e,t)=>{let r=t.get(Bs);Pt("angularfire",Gs.full,"core"),Pt("angularfire",Gs.full,"app"),Pt("angular",Tb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ss(i)}}function AA(n,...e){return Ei([V6,B6,{provide:wx,useFactory:U6(n),multi:!0,deps:[vt,ir,ta,...e]}])}var kA=wr(yx,!0);function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var BA=VA,UA=new rs("auth","Firebase",VA());var s0=new Hs("@firebase/auth");function j6(n,...e){s0.logLevel<=Xe.WARN&&s0.warn(`Auth (${Ws}): ${n}`,...e)}function r0(n,...e){s0.logLevel<=Xe.ERROR&&s0.error(`Auth (${Ws}): ${n}`,...e)}function RA(n,...e){throw Mx(n,...e)}function Nx(n,...e){return Mx(n,...e)}function jA(n,e,t){let r=Object.assign(Object.assign({},BA()),{[e]:t});return new rs("auth","Firebase",r).create(e,{appName:n.name})}function i0(n){return jA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mx(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return UA.create(n,...e)}function ut(n,e,...t){if(!n)throw Mx(e,...t)}function pf(n){let e="INTERNAL ASSERTION FAILED: "+n;throw r0(e),new Error(e)}function o0(n,e){n||pf(e)}function $6(){return NA()==="http:"||NA()==="https:"}function NA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function H6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($6()||fA()||"connection"in navigator)?navigator.onLine:!0}function z6(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ia=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,o0(t>e,"Short delay should be less than long delay!"),this.isMobile=uA()||dA()}get(){return H6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function W6(n,e){o0(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var a0=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var G6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var q6=new ia(3e4,6e4);function $A(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function f0(s,o,a,c){return B(this,arguments,function*(n,e,t,r,i={}){return HA(n,i,()=>B(this,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let d=ix(Object.assign({key:n.config.apiKey},f)).slice(1),p=yield n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:p},u);return lA()||(g.referrerPolicy="no-referrer"),a0.fetch()(zA(n,n.config.apiHost,t,d),g)}))})}function HA(n,e,t){return B(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},G6),e);try{let i=new Tx(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw n0(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw n0(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw n0(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw n0(n,"user-disabled",o);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jA(n,f,u);RA(n,f)}}catch(i){if(i instanceof cr)throw i;RA(n,"network-request-failed",{message:String(i)})}})}function zA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?W6(n.config,i):`${n.config.apiScheme}://${i}`}var Tx=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Nx(this.auth,"network-request-failed")),q6.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function n0(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Nx(n,e,r);return i.customData._tokenResponse=t,i}function K6(n,e){return B(this,null,function*(){return f0(n,"POST","/v1/accounts:delete",e)})}function WA(n,e){return B(this,null,function*(){return f0(n,"POST","/v1/accounts:lookup",e)})}function gf(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Px(n,e=!1){return B(this,null,function*(){let t=xr(n),r=yield t.getIdToken(e),i=GA(r);ut(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gf(Ex(i.auth_time)),issuedAtTime:gf(Ex(i.iat)),expirationTime:gf(Ex(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ex(n){return Number(n)*1e3}function GA(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return r0("JWT malformed, contained fewer than 3 sections"),null;try{let i=tx(t);return i?JSON.parse(i):(r0("Failed to decode base64 JWT payload"),null)}catch(i){return r0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MA(n){let e=GA(n);return ut(e,"internal-error"),ut(typeof e.exp<"u","internal-error"),ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Sx(n,e,t=!1){return B(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof cr&&Q6(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Q6({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Cx=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>B(this,null,function*(){yield this.iteration()}),t)}iteration(){return B(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vf=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gf(this.lastLoginAt),this.creationTime=gf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function c0(n){return B(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Sx(n,WA(t,{idToken:r}));ut(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?qA(s.providerUserInfo):[],a=X6(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,f=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vf(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,d)})}function Ox(n){return B(this,null,function*(){let e=xr(n);yield c0(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function X6(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function qA(n){return n.map(e=>{var{providerId:t}=e,r=jm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Y6(n,e){return B(this,null,function*(){let t=yield HA(n,{},()=>B(this,null,function*(){let r=ix({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=zA(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",a0.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function J6(n,e){return B(this,null,function*(){return f0(n,"POST","/v2/accounts:revokeToken",$A(n,e))})}var mf=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ut(e.idToken,"internal-error"),ut(typeof e.idToken<"u","internal-error"),ut(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ut(e.length!==0,"internal-error");let t=MA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return B(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return B(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Y6(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(ut(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ut(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ut(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return pf("not implemented")}};function qs(n,e){ut(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _f=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return B(this,null,function*(){let t=yield Sx(this,this.stsTokenManager.getToken(this.auth,e));return ut(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Px(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return B(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield c0(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return B(this,null,function*(){if(Hc(this.auth.app))return Promise.reject(i0(this.auth));let e=yield this.getIdToken();return yield Sx(this,K6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,f;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,p=(i=t.email)!==null&&i!==void 0?i:void 0,g=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=t.photoURL)!==null&&o!==void 0?o:void 0,m=(a=t.tenantId)!==null&&a!==void 0?a:void 0,y=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,P=(u=t.createdAt)!==null&&u!==void 0?u:void 0,F=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:O,emailVerified:j,isAnonymous:Q,providerData:ee,stsTokenManager:w}=t;ut(O&&w,e,"internal-error");let E=mf.fromJSON(this.name,w);ut(typeof O=="string",e,"internal-error"),qs(d,e.name),qs(p,e.name),ut(typeof j=="boolean",e,"internal-error"),ut(typeof Q=="boolean",e,"internal-error"),qs(g,e.name),qs(_,e.name),qs(m,e.name),qs(y,e.name),qs(P,e.name),qs(F,e.name);let I=new n({uid:O,auth:e,email:p,emailVerified:j,displayName:d,isAnonymous:Q,photoURL:_,phoneNumber:g,tenantId:m,stsTokenManager:E,createdAt:P,lastLoginAt:F});return ee&&Array.isArray(ee)&&(I.providerData=ee.map(C=>Object.assign({},C))),y&&(I._redirectEventId=y),I}static _fromIdTokenResponse(e,t,r=!1){return B(this,null,function*(){let i=new mf;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield c0(s),s})}static _fromGetAccountInfoResponse(e,t,r){return B(this,null,function*(){let i=t.users[0];ut(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?qA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new mf;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var PA=new Map;function ra(n){o0(n instanceof Function,"Expected a class definition");let e=PA.get(n);return e?(o0(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,PA.set(n,e),e)}var Z6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return B(this,null,function*(){return!0})}_set(t,r){return B(this,null,function*(){this.storage[t]=r})}_get(t){return B(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return B(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),bx=Z6;function Ix(n,e,t){return`firebase:${n}:${e}:${t}`}var u0=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ix(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ix("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return B(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?_f._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return B(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return B(this,null,function*(){if(!t.length)return new n(ra(bx),e,r);let i=(yield Promise.all(t.map(u=>B(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||ra(bx),o=Ix(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let f=yield u._get(o);if(f){let d=_f._fromJSON(e,f);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>B(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function OA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(r5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s5(e))return"Blackberry";if(o5(e))return"Webos";if(t5(e))return"Safari";if((e.includes("chrome/")||n5(e))&&!e.includes("edge/"))return"Chrome";if(i5(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function e5(n=Bn()){return/firefox\//i.test(n)}function t5(n=Bn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n5(n=Bn()){return/crios\//i.test(n)}function r5(n=Bn()){return/iemobile/i.test(n)}function i5(n=Bn()){return/android/i.test(n)}function s5(n=Bn()){return/blackberry/i.test(n)}function o5(n=Bn()){return/webos/i.test(n)}function KA(n,e=[]){let t;switch(n){case"Browser":t=OA(Bn());break;case"Worker":t=`${OA(Bn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ws}/${r}`}var Dx=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return B(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function a5(t){return B(this,arguments,function*(n,e={}){return f0(n,"GET","/v2/passwordPolicy",$A(n,e))})}var c5=6,Ax=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:c5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var kx=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l0(this),this.idTokenSubscription=new l0(this),this.beforeStateQueue=new Dx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ra(t)),this._initializationPromise=this.queue(()=>B(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield u0.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return B(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return B(this,null,function*(){try{let t=yield WA(this,{idToken:e}),r=yield _f._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return B(this,null,function*(){var t;if(Hc(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ut(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return B(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return B(this,null,function*(){try{yield c0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=z6()}_delete(){return B(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return B(this,null,function*(){if(Hc(this.app))return Promise.reject(i0(this));let t=e?xr(e):null;return t&&ut(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return B(this,null,function*(){if(!this._deleted)return e&&ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>B(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return B(this,null,function*(){return Hc(this.app)?Promise.reject(i0(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Hc(this.app)?Promise.reject(i0(this)):this.queue(()=>B(this,null,function*(){yield this.assertedPersistence.setPersistence(ra(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return B(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return B(this,null,function*(){let e=yield a5(this),t=new Ax(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return B(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield J6(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return B(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return B(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ra(e)||this._popupRedirectResolver;ut(t,this,"argument-error"),this.redirectPersistenceManager=yield u0.create(this,[ra(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return B(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>B(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return B(this,null,function*(){if(e===this.currentUser)return this.queue(()=>B(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ut(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return B(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return B(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return B(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&j6(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function u5(n){return xr(n)}var l0=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pA(t=>this.observer=t)}get next(){return ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var l5={loadJS(){return B(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f5(n){l5=n}function d5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function h5(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ra);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var lse=d5("rcb"),fse=new ia(3e4,6e4);var dse=new ia(2e3,1e4);var hse=10*60*1e3;var pse=new ia(3e4,6e4);var gse=new ia(5e3,15e3);var mse=encodeURIComponent("fac");var FA="@firebase/auth",LA="1.7.9";var Rx=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return B(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g5(n){Si(new ur("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ut(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KA(n)},u=new kx(r,i,s,c);return h5(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Si(new ur("auth-internal",e=>{let t=u5(e.getProvider("auth").getImmediate());return(r=>new Rx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(FA,LA,p5(n)),Pt(FA,LA,"esm2017")}var m5=5*60,vse=cA("authIdTokenMaxAge")||m5;function v5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}f5({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Nx("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",v5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g5("Browser");var mj="auth";var Wc=class{constructor(){return ea(mj)}};var QA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XA={};var Ks,Fx;(function(){var n;function e(w,E){function I(){}I.prototype=E.prototype,w.D=E.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(C,D,M){for(var A=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)A[Ue-2]=arguments[Ue];return E.prototype[D].apply(C,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,E,I){I||(I=0);var C=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)C[D]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(D=0;16>D;++D)C[D]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=w.g[0],I=w.g[1],D=w.g[2];var M=w.g[3],A=E+(M^I&(D^M))+C[0]+3614090360&4294967295;E=I+(A<<7&4294967295|A>>>25),A=M+(D^E&(I^D))+C[1]+3905402710&4294967295,M=E+(A<<12&4294967295|A>>>20),A=D+(I^M&(E^I))+C[2]+606105819&4294967295,D=M+(A<<17&4294967295|A>>>15),A=I+(E^D&(M^E))+C[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(M^I&(D^M))+C[4]+4118548399&4294967295,E=I+(A<<7&4294967295|A>>>25),A=M+(D^E&(I^D))+C[5]+1200080426&4294967295,M=E+(A<<12&4294967295|A>>>20),A=D+(I^M&(E^I))+C[6]+2821735955&4294967295,D=M+(A<<17&4294967295|A>>>15),A=I+(E^D&(M^E))+C[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(M^I&(D^M))+C[8]+1770035416&4294967295,E=I+(A<<7&4294967295|A>>>25),A=M+(D^E&(I^D))+C[9]+2336552879&4294967295,M=E+(A<<12&4294967295|A>>>20),A=D+(I^M&(E^I))+C[10]+4294925233&4294967295,D=M+(A<<17&4294967295|A>>>15),A=I+(E^D&(M^E))+C[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(M^I&(D^M))+C[12]+1804603682&4294967295,E=I+(A<<7&4294967295|A>>>25),A=M+(D^E&(I^D))+C[13]+4254626195&4294967295,M=E+(A<<12&4294967295|A>>>20),A=D+(I^M&(E^I))+C[14]+2792965006&4294967295,D=M+(A<<17&4294967295|A>>>15),A=I+(E^D&(M^E))+C[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=E+(D^M&(I^D))+C[1]+4129170786&4294967295,E=I+(A<<5&4294967295|A>>>27),A=M+(I^D&(E^I))+C[6]+3225465664&4294967295,M=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(M^E))+C[11]+643717713&4294967295,D=M+(A<<14&4294967295|A>>>18),A=I+(M^E&(D^M))+C[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^M&(I^D))+C[5]+3593408605&4294967295,E=I+(A<<5&4294967295|A>>>27),A=M+(I^D&(E^I))+C[10]+38016083&4294967295,M=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(M^E))+C[15]+3634488961&4294967295,D=M+(A<<14&4294967295|A>>>18),A=I+(M^E&(D^M))+C[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^M&(I^D))+C[9]+568446438&4294967295,E=I+(A<<5&4294967295|A>>>27),A=M+(I^D&(E^I))+C[14]+3275163606&4294967295,M=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(M^E))+C[3]+4107603335&4294967295,D=M+(A<<14&4294967295|A>>>18),A=I+(M^E&(D^M))+C[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(D^M&(I^D))+C[13]+2850285829&4294967295,E=I+(A<<5&4294967295|A>>>27),A=M+(I^D&(E^I))+C[2]+4243563512&4294967295,M=E+(A<<9&4294967295|A>>>23),A=D+(E^I&(M^E))+C[7]+1735328473&4294967295,D=M+(A<<14&4294967295|A>>>18),A=I+(M^E&(D^M))+C[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=E+(I^D^M)+C[5]+4294588738&4294967295,E=I+(A<<4&4294967295|A>>>28),A=M+(E^I^D)+C[8]+2272392833&4294967295,M=E+(A<<11&4294967295|A>>>21),A=D+(M^E^I)+C[11]+1839030562&4294967295,D=M+(A<<16&4294967295|A>>>16),A=I+(D^M^E)+C[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^M)+C[1]+2763975236&4294967295,E=I+(A<<4&4294967295|A>>>28),A=M+(E^I^D)+C[4]+1272893353&4294967295,M=E+(A<<11&4294967295|A>>>21),A=D+(M^E^I)+C[7]+4139469664&4294967295,D=M+(A<<16&4294967295|A>>>16),A=I+(D^M^E)+C[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^M)+C[13]+681279174&4294967295,E=I+(A<<4&4294967295|A>>>28),A=M+(E^I^D)+C[0]+3936430074&4294967295,M=E+(A<<11&4294967295|A>>>21),A=D+(M^E^I)+C[3]+3572445317&4294967295,D=M+(A<<16&4294967295|A>>>16),A=I+(D^M^E)+C[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(I^D^M)+C[9]+3654602809&4294967295,E=I+(A<<4&4294967295|A>>>28),A=M+(E^I^D)+C[12]+3873151461&4294967295,M=E+(A<<11&4294967295|A>>>21),A=D+(M^E^I)+C[15]+530742520&4294967295,D=M+(A<<16&4294967295|A>>>16),A=I+(D^M^E)+C[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=E+(D^(I|~M))+C[0]+4096336452&4294967295,E=I+(A<<6&4294967295|A>>>26),A=M+(I^(E|~D))+C[7]+1126891415&4294967295,M=E+(A<<10&4294967295|A>>>22),A=D+(E^(M|~I))+C[14]+2878612391&4294967295,D=M+(A<<15&4294967295|A>>>17),A=I+(M^(D|~E))+C[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~M))+C[12]+1700485571&4294967295,E=I+(A<<6&4294967295|A>>>26),A=M+(I^(E|~D))+C[3]+2399980690&4294967295,M=E+(A<<10&4294967295|A>>>22),A=D+(E^(M|~I))+C[10]+4293915773&4294967295,D=M+(A<<15&4294967295|A>>>17),A=I+(M^(D|~E))+C[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~M))+C[8]+1873313359&4294967295,E=I+(A<<6&4294967295|A>>>26),A=M+(I^(E|~D))+C[15]+4264355552&4294967295,M=E+(A<<10&4294967295|A>>>22),A=D+(E^(M|~I))+C[6]+2734768916&4294967295,D=M+(A<<15&4294967295|A>>>17),A=I+(M^(D|~E))+C[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=E+(D^(I|~M))+C[4]+4149444226&4294967295,E=I+(A<<6&4294967295|A>>>26),A=M+(I^(E|~D))+C[11]+3174756917&4294967295,M=E+(A<<10&4294967295|A>>>22),A=D+(E^(M|~I))+C[2]+718787259&4294967295,D=M+(A<<15&4294967295|A>>>17),A=I+(M^(D|~E))+C[9]+3951481745&4294967295,w.g[0]=w.g[0]+E&4294967295,w.g[1]=w.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+M&4294967295}r.prototype.u=function(w,E){E===void 0&&(E=w.length);for(var I=E-this.blockSize,C=this.B,D=this.h,M=0;M<E;){if(D==0)for(;M<=I;)i(this,w,M),M+=this.blockSize;if(typeof w=="string"){for(;M<E;)if(C[D++]=w.charCodeAt(M++),D==this.blockSize){i(this,C),D=0;break}}else for(;M<E;)if(C[D++]=w[M++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var E=1;E<w.length-8;++E)w[E]=0;var I=8*this.o;for(E=w.length-8;E<w.length;++E)w[E]=I&255,I/=256;for(this.u(w),w=Array(16),E=I=0;4>E;++E)for(var C=0;32>C;C+=8)w[I++]=this.g[E]>>>C&255;return w};function s(w,E){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=E(w)}function o(w,E){this.h=E;for(var I=[],C=!0,D=w.length-1;0<=D;D--){var M=w[D]|0;C&&M==E||(I[D]=M,C=!1)}this.g=I}var a={};function c(w){return-128<=w&&128>w?s(w,function(E){return new o([E|0],0>E?-1:0)}):new o([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return d;if(0>w)return y(u(-w));for(var E=[],I=1,C=0;w>=I;C++)E[C]=w/I|0,I*=4294967296;return new o(E,0)}function f(w,E){if(w.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(w.charAt(0)=="-")return y(f(w.substring(1),E));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(E,8)),C=d,D=0;D<w.length;D+=8){var M=Math.min(8,w.length-D),A=parseInt(w.substring(D,D+M),E);8>M?(M=u(Math.pow(E,M)),C=C.j(M).add(u(A))):(C=C.j(I),C=C.add(u(A)))}return C}var d=c(0),p=c(1),g=c(16777216);n=o.prototype,n.m=function(){if(m(this))return-y(this).m();for(var w=0,E=1,I=0;I<this.g.length;I++){var C=this.i(I);w+=(0<=C?C:4294967296+C)*E,E*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(_(this))return"0";if(m(this))return"-"+y(this).toString(w);for(var E=u(Math.pow(w,6)),I=this,C="";;){var D=j(I,E).g;I=P(I,D.j(E));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=D,_(I))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function _(w){if(w.h!=0)return!1;for(var E=0;E<w.g.length;E++)if(w.g[E]!=0)return!1;return!0}function m(w){return w.h==-1}n.l=function(w){return w=P(this,w),m(w)?-1:_(w)?0:1};function y(w){for(var E=w.g.length,I=[],C=0;C<E;C++)I[C]=~w.g[C];return new o(I,~w.h).add(p)}n.abs=function(){return m(this)?y(this):this},n.add=function(w){for(var E=Math.max(this.g.length,w.g.length),I=[],C=0,D=0;D<=E;D++){var M=C+(this.i(D)&65535)+(w.i(D)&65535),A=(M>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);C=A>>>16,M&=65535,A&=65535,I[D]=A<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function P(w,E){return w.add(y(E))}n.j=function(w){if(_(this)||_(w))return d;if(m(this))return m(w)?y(this).j(y(w)):y(y(this).j(w));if(m(w))return y(this.j(y(w)));if(0>this.l(g)&&0>w.l(g))return u(this.m()*w.m());for(var E=this.g.length+w.g.length,I=[],C=0;C<2*E;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<w.g.length;D++){var M=this.i(C)>>>16,A=this.i(C)&65535,Ue=w.i(D)>>>16,Te=w.i(D)&65535;I[2*C+2*D]+=A*Te,F(I,2*C+2*D),I[2*C+2*D+1]+=M*Te,F(I,2*C+2*D+1),I[2*C+2*D+1]+=A*Ue,F(I,2*C+2*D+1),I[2*C+2*D+2]+=M*Ue,F(I,2*C+2*D+2)}for(C=0;C<E;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=E;C<2*E;C++)I[C]=0;return new o(I,0)};function F(w,E){for(;(w[E]&65535)!=w[E];)w[E+1]+=w[E]>>>16,w[E]&=65535,E++}function O(w,E){this.g=w,this.h=E}function j(w,E){if(_(E))throw Error("division by zero");if(_(w))return new O(d,d);if(m(w))return E=j(y(w),E),new O(y(E.g),y(E.h));if(m(E))return E=j(w,y(E)),new O(y(E.g),E.h);if(30<w.g.length){if(m(w)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var I=p,C=E;0>=C.l(w);)I=Q(I),C=Q(C);var D=ee(I,1),M=ee(C,1);for(C=ee(C,2),I=ee(I,2);!_(C);){var A=M.add(C);0>=A.l(w)&&(D=D.add(I),M=A),C=ee(C,1),I=ee(I,1)}return E=P(w,D.j(E)),new O(D,E)}for(D=d;0<=w.l(E);){for(I=Math.max(1,Math.floor(w.m()/E.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(I),A=M.j(E);m(A)||0<A.l(w);)I-=C,M=u(I),A=M.j(E);_(M)&&(M=p),D=D.add(M),w=P(w,A)}return new O(D,w)}n.A=function(w){return j(this,w).h},n.and=function(w){for(var E=Math.max(this.g.length,w.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)&w.i(C);return new o(I,this.h&w.h)},n.or=function(w){for(var E=Math.max(this.g.length,w.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)|w.i(C);return new o(I,this.h|w.h)},n.xor=function(w){for(var E=Math.max(this.g.length,w.g.length),I=[],C=0;C<E;C++)I[C]=this.i(C)^w.i(C);return new o(I,this.h^w.h)};function Q(w){for(var E=w.g.length+1,I=[],C=0;C<E;C++)I[C]=w.i(C)<<1|w.i(C-1)>>>31;return new o(I,w.h)}function ee(w,E){var I=E>>5;E%=32;for(var C=w.g.length-I,D=[],M=0;M<C;M++)D[M]=0<E?w.i(M+I)>>>E|w.i(M+I+1)<<32-E:w.i(M+I);return new o(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fx=XA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Ks=XA.Integer=o}).apply(typeof QA<"u"?QA:typeof self<"u"?self:typeof window<"u"?window:{});var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},os={};var Lx,vj,Gc,Vx,yf,h0,Bx,Ux,jx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,v){return l==Array.prototype||l==Object.prototype||(l[h]=v.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof d0=="object"&&d0];for(var h=0;h<l.length;++h){var v=l[h];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var v=r;l=l.split(".");for(var T=0;T<l.length-1;T++){var H=l[T];if(!(H in v))break e;v=v[H]}l=l[l.length-1],T=v[l],h=h(T),h!=T&&h!=null&&e(v,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var v=0,T=!1,H={next:function(){if(!T&&v<l.length){var X=v++;return{value:h(X,l[X]),done:!1}}return T=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,v){return v})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,v){return l.call.apply(l.bind,arguments)}function d(l,h,v){if(!l)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,T),l.apply(h,H)}}return function(){return l.apply(h,arguments)}}function p(l,h,v){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,p.apply(null,arguments)}function g(l,h){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),l.apply(this,T)}}function _(l,h){function v(){}v.prototype=h.prototype,l.aa=h.prototype,l.prototype=new v,l.prototype.constructor=l,l.Qb=function(T,H,X){for(var fe=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)fe[wt-2]=arguments[wt];return h.prototype[H].apply(T,fe)}}function m(l){let h=l.length;if(0<h){let v=Array(h);for(let T=0;T<h;T++)v[T]=l[T];return v}return[]}function y(l,h){for(let v=1;v<arguments.length;v++){let T=arguments[v];if(c(T)){let H=l.length||0,X=T.length||0;l.length=H+X;for(let fe=0;fe<X;fe++)l[H+fe]=T[fe]}else l.push(T)}}class P{constructor(h,v){this.i=h,this.j=v,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function F(l){return/^[\s\xa0]*$/.test(l)}function O(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var Q=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function ee(l,h,v){for(let T in l)h.call(v,l[T],T,l)}function w(l,h){for(let v in l)h.call(void 0,l[v],v,l)}function E(l){let h={};for(let v in l)h[v]=l[v];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let v,T;for(let H=1;H<arguments.length;H++){T=arguments[H];for(v in T)l[v]=T[v];for(let X=0;X<I.length;X++)v=I[X],Object.prototype.hasOwnProperty.call(T,v)&&(l[v]=T[v])}}function D(l){var h=1;l=l.split(":");let v=[];for(;0<h&&l.length;)v.push(l.shift()),h--;return l.length&&v.push(l.join(":")),v}function M(l){a.setTimeout(()=>{throw l},0)}function A(){var l=tn;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Ue{constructor(){this.h=this.g=null}add(h,v){let T=Te.get();T.set(h,v),this.h?this.h.next=T:this.g=T,this.h=T}}var Te=new P(()=>new zt,l=>l.reset());class zt{constructor(){this.next=this.g=this.h=null}set(h,v){this.h=h,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,Wt=!1,tn=new Ue,Gt=()=>{let l=a.Promise.resolve(void 0);Rt=()=>{l.then(On)}};var On=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(v){M(v)}var h=Te;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Wt=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let v=()=>{};a.addEventListener("test",v,h),a.removeEventListener("test",v,h)}catch{}return l}();function V(l,h){if(Y.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var v=this.type=l.type,T=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Q){e:{try{j(h.nodeName);var H=!0;break e}catch{}H=!1}H||(h=null)}}else v=="mouseover"?h=l.fromElement:v=="mouseout"&&(h=l.toElement);this.relatedTarget=h,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&V.aa.h.call(this)}}_(V,Y);var re={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),ke=0;function ye(l,h,v,T,H){this.listener=l,this.proxy=null,this.src=h,this.type=v,this.capture=!!T,this.ha=H,this.key=++ke,this.da=this.fa=!1}function oe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function st(l){this.src=l,this.g={},this.h=0}st.prototype.add=function(l,h,v,T,H){var X=l.toString();l=this.g[X],l||(l=this.g[X]=[],this.h++);var fe=Ut(l,h,T,H);return-1<fe?(h=l[fe],v||(h.fa=!1)):(h=new ye(h,this.src,X,!!T,H),h.fa=v,l.push(h)),h};function We(l,h){var v=h.type;if(v in l.g){var T=l.g[v],H=Array.prototype.indexOf.call(T,h,void 0),X;(X=0<=H)&&Array.prototype.splice.call(T,H,1),X&&(oe(h),l.g[v].length==0&&(delete l.g[v],l.h--))}}function Ut(l,h,v,T){for(var H=0;H<l.length;++H){var X=l[H];if(!X.da&&X.listener==h&&X.capture==!!v&&X.ha==T)return H}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),zn={};function Dt(l,h,v,T,H){if(T&&T.once)return Ar(l,h,v,T,H);if(Array.isArray(h)){for(var X=0;X<h.length;X++)Dt(l,h[X],v,T,H);return null}return v=vo(v),l&&l[ve]?l.K(h,v,u(T)?!!T.capture:!!T,H):xe(l,h,v,!1,T,H)}function xe(l,h,v,T,H,X){if(!h)throw Error("Invalid event type");var fe=u(H)?!!H.capture:!!H,wt=tr(l);if(wt||(l[Ye]=wt=new st(l)),v=wt.add(h,v,T,fe,X),v.proxy)return v;if(T=er(),v.proxy=T,T.src=l,T.listener=v,l.addEventListener)U||(H=fe),H===void 0&&(H=!1),l.addEventListener(h.toString(),T,H);else if(l.attachEvent)l.attachEvent(Gu(h.toString()),T);else if(l.addListener&&l.removeListener)l.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function er(){function l(v){return h.call(l.src,l.listener,v)}let h=qu;return l}function Ar(l,h,v,T,H){if(Array.isArray(h)){for(var X=0;X<h.length;X++)Ar(l,h[X],v,T,H);return null}return v=vo(v),l&&l[ve]?l.L(h,v,u(T)?!!T.capture:!!T,H):xe(l,h,v,!0,T,H)}function fi(l,h,v,T,H){if(Array.isArray(h))for(var X=0;X<h.length;X++)fi(l,h[X],v,T,H);else T=u(T)?!!T.capture:!!T,v=vo(v),l&&l[ve]?(l=l.i,h=String(h).toString(),h in l.g&&(X=l.g[h],v=Ut(X,v,T,H),-1<v&&(oe(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete l.g[h],l.h--)))):l&&(l=tr(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Ut(h,v,T,H)),(v=-1<l?h[l]:null)&&di(v))}function di(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ve])We(h.i,l);else{var v=l.type,T=l.proxy;h.removeEventListener?h.removeEventListener(v,T,l.capture):h.detachEvent?h.detachEvent(Gu(v),T):h.addListener&&h.removeListener&&h.removeListener(T),(v=tr(h))?(We(v,l),v.h==0&&(v.src=null,h[Ye]=null)):oe(l)}}}function Gu(l){return l in zn?zn[l]:zn[l]="on"+l}function qu(l,h){if(l.da)l=!0;else{h=new V(h,this);var v=l.listener,T=l.ha||l.src;l.fa&&di(l),l=v.call(T,h)}return l}function tr(l){return l=l[Ye],l instanceof st?l:null}var ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(l){return typeof l=="function"?l:(l[ys]||(l[ys]=function(h){return l.handleEvent(h)}),l[ys])}function qt(){L.call(this),this.i=new st(this),this.M=this,this.F=null}_(qt,L),qt.prototype[ve]=!0,qt.prototype.removeEventListener=function(l,h,v,T){fi(this,l,h,v,T)};function Mt(l,h){var v,T=l.F;if(T)for(v=[];T;T=T.F)v.push(T);if(l=l.M,T=h.type||h,typeof h=="string")h=new Y(h,l);else if(h instanceof Y)h.target=h.target||l;else{var H=h;h=new Y(T,l),C(h,H)}if(H=!0,v)for(var X=v.length-1;0<=X;X--){var fe=h.g=v[X];H=Ua(fe,T,!0,h)&&H}if(fe=h.g=l,H=Ua(fe,T,!0,h)&&H,H=Ua(fe,T,!1,h)&&H,v)for(X=0;X<v.length;X++)fe=h.g=v[X],H=Ua(fe,T,!1,h)&&H}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var v=l.g[h],T=0;T<v.length;T++)oe(v[T]);delete l.g[h],l.h--}}this.F=null},qt.prototype.K=function(l,h,v,T){return this.i.add(String(l),h,!1,v,T)},qt.prototype.L=function(l,h,v,T){return this.i.add(String(l),h,!0,v,T)};function Ua(l,h,v,T){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var H=!0,X=0;X<h.length;++X){var fe=h[X];if(fe&&!fe.da&&fe.capture==v){var wt=fe.listener,wn=fe.ha||fe.src;fe.fa&&We(l.i,fe),H=wt.call(wn,T)!==!1&&H}}return H&&!T.defaultPrevented}function Ku(l,h,v){if(typeof l=="function")v&&(l=p(l,v));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Qu(l){l.g=Ku(()=>{l.g=null,l.i&&(l.i=!1,Qu(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class yd extends L{constructor(h,v){super(),this.m=h,this.l=v,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(l){L.call(this),this.h=l,this.g={}}_(xs,L);var Xu=[];function Yu(l){ee(l.g,function(h,v){this.g.hasOwnProperty(v)&&di(h)},l),l.g={}}xs.prototype.N=function(){xs.aa.N.call(this),Yu(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ju=a.JSON.stringify,dm=a.JSON.parse,xd=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ja(){}ja.prototype.h=null;function Zu(l){return l.h||(l.h=l.i())}function wd(){}var _o={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){Y.call(this,"d")}_(ws,Y);function el(){Y.call(this,"c")}_(el,Y);var Vi={},Ed=null;function $a(){return Ed=Ed||new qt}Vi.La="serverreachability";function Id(l){Y.call(this,Vi.La,l)}_(Id,Y);function yo(l){let h=$a();Mt(h,new Id(h))}Vi.STAT_EVENT="statevent";function Td(l,h){Y.call(this,Vi.STAT_EVENT,l),this.stat=h}_(Td,Y);function xn(l){let h=$a();Mt(h,new Td(h,l))}Vi.Ma="timingevent";function Ha(l,h){Y.call(this,Vi.Ma,l),this.size=h}_(Ha,Y);function xo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function wo(){this.g=!0}wo.prototype.xa=function(){this.g=!1};function hm(l,h,v,T,H,X){l.info(function(){if(l.g)if(X)for(var fe="",wt=X.split("&"),wn=0;wn<wt.length;wn++){var at=wt[wn].split("=");if(1<at.length){var Fn=at[0];at=at[1];var Ln=Fn.split("_");fe=2<=Ln.length&&Ln[1]=="type"?fe+(Fn+"="+at+"&"):fe+(Fn+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+T+") [attempt "+H+"]: "+h+`
`+v+`
`+fe})}function x(l,h,v,T,H,X,fe){l.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+H+"]: "+h+`
`+v+`
`+X+" "+fe})}function k(l,h,v,T){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+b(l,v)+(T?" "+T:"")})}function S(l,h){l.info(function(){return"TIMEOUT: "+h})}wo.prototype.info=function(){};function b(l,h){if(!l.g)return h;if(!h)return null;try{var v=JSON.parse(h);if(v){for(l=0;l<v.length;l++)if(Array.isArray(v[l])){var T=v[l];if(!(2>T.length)){var H=T[1];if(Array.isArray(H)&&!(1>H.length)){var X=H[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<H.length;fe++)H[fe]=""}}}}return Ju(v)}catch{return h}}var R={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},N={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},W;function J(){}_(J,ja),J.prototype.g=function(){return new XMLHttpRequest},J.prototype.i=function(){return{}},W=new J;function z(l,h,v,T){this.j=l,this.i=h,this.l=v,this.R=T||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new G}function G(){this.i=null,this.g="",this.h=!1}var q={},ie={};function ae(l,h,v){l.L=1,l.v=bd(Ui(h)),l.m=v,l.P=!0,_e(l,null)}function _e(l,h){l.F=Date.now(),Ne(l),l.A=Ui(l.v);var v=l.A,T=l.R;Array.isArray(T)||(T=[String(T)]),tI(v.i,"t",T),l.C=0,v=l.j.J,l.h=new G,l.g=yI(l.j,v?h:null,!l.m),0<l.O&&(l.M=new yd(p(l.Y,l,l.g),l.O)),h=l.U,v=l.g,T=l.ca;var H="readystatechange";Array.isArray(H)||(H&&(Xu[0]=H.toString()),H=Xu);for(var X=0;X<H.length;X++){var fe=Dt(v,H[X],T||h.handleEvent,!1,h.h||h);if(!fe)break;h.g[fe.key]=fe}h=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),yo(),hm(l.i,l.u,l.A,l.l,l.R,l.m)}z.prototype.ca=function(l){l=l.target;let h=this.M;h&&ji(l)==3?h.j():this.Y(l)},z.prototype.Y=function(l){try{if(l==this.g)e:{let Ln=ji(this.g);var h=this.g.Ba();let qa=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||cI(this.g)))){this.J||Ln!=4||h==7||(h==8||0>=qa?yo(3):yo(2)),hn(this);var v=this.g.Z();this.X=v;t:if(ce(this)){var T=cI(this.g);l="";var H=T.length,X=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),bt(this);var fe="";break t}this.h.i=new a.TextDecoder}for(h=0;h<H;h++)this.h.h=!0,l+=this.h.i.decode(T[h],{stream:!(X&&h==H-1)});T.length=0,this.h.g+=l,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=v==200,x(this.i,this.u,this.A,this.l,this.R,Ln,v),this.o){if(this.T&&!this.K){t:{if(this.g){var wt,wn=this.g;if((wt=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(wt)){var at=wt;break t}}at=null}if(v=at)k(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bi(this,v);else{this.o=!1,this.s=3,xn(12),jt(this),bt(this);break e}}if(this.P){v=!0;let Gr;for(;!this.J&&this.C<fe.length;)if(Gr=de(this,fe),Gr==ie){Ln==4&&(this.s=4,xn(14),v=!1),k(this.i,this.l,null,"[Incomplete Response]");break}else if(Gr==q){this.s=4,xn(15),k(this.i,this.l,fe,"[Invalid Chunk]"),v=!1;break}else k(this.i,this.l,Gr,null),Bi(this,Gr);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||fe.length!=0||this.h.h||(this.s=1,xn(16),v=!1),this.o=this.o&&v,!v)k(this.i,this.l,fe,"[Invalid Chunked Response]"),jt(this),bt(this);else if(0<fe.length&&!this.W){this.W=!0;var Fn=this.j;Fn.g==this&&Fn.ba&&!Fn.M&&(Fn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),ym(Fn),Fn.M=!0,xn(11))}}else k(this.i,this.l,fe,null),Bi(this,fe);Ln==4&&jt(this),this.o&&!this.J&&(Ln==4?gI(this.j,this):(this.o=!1,Ne(this)))}else CP(this.g),v==400&&0<fe.indexOf("Unknown SID")?(this.s=3,xn(12)):(this.s=0,xn(13)),jt(this),bt(this)}}}catch{}finally{}};function ce(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function de(l,h){var v=l.C,T=h.indexOf(`
`,v);return T==-1?ie:(v=Number(h.substring(v,T)),isNaN(v)?q:(T+=1,T+v>h.length?ie:(h=h.slice(T,T+v),l.C=T+v,h)))}z.prototype.cancel=function(){this.J=!0,jt(this)};function Ne(l){l.S=Date.now()+l.I,mt(l,l.I)}function mt(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xo(p(l.ba,l),h)}function hn(l){l.B&&(a.clearTimeout(l.B),l.B=null)}z.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(S(this.i,this.A),this.L!=2&&(yo(),xn(17)),jt(this),this.s=2,bt(this)):mt(this,this.S-l)};function bt(l){l.j.G==0||l.J||gI(l.j,l)}function jt(l){hn(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Yu(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Bi(l,h){try{var v=l.j;if(v.G!=0&&(v.g==l||pm(v.h,l))){if(!l.K&&pm(v.h,l)&&v.G==3){try{var T=v.Da.g.parse(h)}catch{T=null}if(Array.isArray(T)&&T.length==3){var H=T;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<l.F)Nd(v),kd(v);else break e;_m(v),xn(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=xo(p(v.Za,v),6e3));if(1>=kr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else To(v,11)}else if((l.K||v.g==l)&&Nd(v),!F(h))for(H=v.Da.g.parse(h),h=0;h<H.length;h++){let at=H[h];if(v.T=at[0],at=at[1],v.G==2)if(at[0]=="c"){v.K=at[1],v.ia=at[2];let Fn=at[3];Fn!=null&&(v.la=Fn,v.j.info("VER="+v.la));let Ln=at[4];Ln!=null&&(v.Aa=Ln,v.j.info("SVER="+v.Aa));let qa=at[5];qa!=null&&typeof qa=="number"&&0<qa&&(T=1.5*qa,v.L=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;let Gr=l.g;if(Gr){let Pd=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pd){var X=T.h;X.g||Pd.indexOf("spdy")==-1&&Pd.indexOf("quic")==-1&&Pd.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(gm(X,X.h),X.h=null))}if(T.D){let xm=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(T.ya=xm,At(T.I,T.D,xm))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-l.F,v.j.info("Handshake RTT: "+v.R+"ms")),T=v;var fe=l;if(T.qa=_I(T,T.J?T.ia:null,T.W),fe.K){qE(T.h,fe);var wt=fe,wn=T.L;wn&&(wt.I=wn),wt.B&&(hn(wt),Ne(wt)),T.g=fe}else hI(T);0<v.i.length&&Rd(v)}else at[0]!="stop"&&at[0]!="close"||To(v,7);else v.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?To(v,7):vm(v):at[0]!="noop"&&v.l&&v.l.ta(at),v.v=0)}}yo(4)}catch{}}var Eo=class{constructor(l,h){this.g=l,this.map=h}};function hi(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function za(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function kr(l){return l.h?1:l.g?l.g.size:0}function pm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function gm(l,h){l.g?l.g.add(h):l.h=h}function qE(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}hi.prototype.cancel=function(){if(this.i=KE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function KE(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let v of l.g.values())h=h.concat(v.D);return h}return m(l.i)}function fP(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],v=l.length,T=0;T<v;T++)h.push(l[T]);return h}h=[],v=0;for(T in l)h[v++]=l[T];return h}function dP(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var v=0;v<l;v++)h.push(v);return h}h=[],v=0;for(let T in l)h[v++]=T;return h}}}function QE(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var v=dP(l),T=fP(l),H=T.length,X=0;X<H;X++)h.call(void 0,T[X],v&&v[X],l)}var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hP(l,h){if(l){l=l.split("&");for(var v=0;v<l.length;v++){var T=l[v].indexOf("="),H=null;if(0<=T){var X=l[v].substring(0,T);H=l[v].substring(T+1)}else X=l[v];h(X,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Io(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Io){this.h=l.h,Sd(this,l.j),this.o=l.o,this.g=l.g,Cd(this,l.s),this.l=l.l;var h=l.i,v=new rl;v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),YE(this,v),this.m=l.m}else l&&(h=String(l).match(XE))?(this.h=!1,Sd(this,h[1]||"",!0),this.o=tl(h[2]||""),this.g=tl(h[3]||"",!0),Cd(this,h[4]),this.l=tl(h[5]||"",!0),YE(this,h[6]||"",!0),this.m=tl(h[7]||"")):(this.h=!1,this.i=new rl(null,this.h))}Io.prototype.toString=function(){var l=[],h=this.j;h&&l.push(nl(h,JE,!0),":");var v=this.g;return(v||h=="file")&&(l.push("//"),(h=this.o)&&l.push(nl(h,JE,!0),"@"),l.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&l.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(nl(v,v.charAt(0)=="/"?mP:gP,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",nl(v,_P)),l.join("")};function Ui(l){return new Io(l)}function Sd(l,h,v){l.j=v?tl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Cd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function YE(l,h,v){h instanceof rl?(l.i=h,yP(l.i,l.h)):(v||(h=nl(h,vP)),l.i=new rl(h,l.h))}function At(l,h,v){l.i.set(h,v)}function bd(l){return At(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function tl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function nl(l,h,v){return typeof l=="string"?(l=encodeURI(l).replace(h,pP),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function pP(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var JE=/[#\/\?@]/g,gP=/[#\?:]/g,mP=/[#\?]/g,vP=/[#\?@]/g,_P=/#/g;function rl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Es(l){l.g||(l.g=new Map,l.h=0,l.i&&hP(l.i,function(h,v){l.add(decodeURIComponent(h.replace(/\+/g," ")),v)}))}n=rl.prototype,n.add=function(l,h){Es(this),this.i=null,l=Wa(this,l);var v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(h),this.h+=1,this};function ZE(l,h){Es(l),h=Wa(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function eI(l,h){return Es(l),h=Wa(l,h),l.g.has(h)}n.forEach=function(l,h){Es(this),this.g.forEach(function(v,T){v.forEach(function(H){l.call(h,H,T,this)},this)},this)},n.na=function(){Es(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),v=[];for(let T=0;T<h.length;T++){let H=l[T];for(let X=0;X<H.length;X++)v.push(h[T])}return v},n.V=function(l){Es(this);let h=[];if(typeof l=="string")eI(this,l)&&(h=h.concat(this.g.get(Wa(this,l))));else{l=Array.from(this.g.values());for(let v=0;v<l.length;v++)h=h.concat(l[v])}return h},n.set=function(l,h){return Es(this),this.i=null,l=Wa(this,l),eI(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function tI(l,h,v){ZE(l,h),0<v.length&&(l.i=null,l.g.set(Wa(l,h),m(v)),l.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var v=0;v<h.length;v++){var T=h[v];let X=encodeURIComponent(String(T)),fe=this.V(T);for(T=0;T<fe.length;T++){var H=X;fe[T]!==""&&(H+="="+encodeURIComponent(String(fe[T]))),l.push(H)}}return this.i=l.join("&")};function Wa(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function yP(l,h){h&&!l.j&&(Es(l),l.i=null,l.g.forEach(function(v,T){var H=T.toLowerCase();T!=H&&(ZE(this,T),tI(this,H,v))},l)),l.j=h}function xP(l,h){let v=new wo;if(a.Image){let T=new Image;T.onload=g(Is,v,"TestLoadImage: loaded",!0,h,T),T.onerror=g(Is,v,"TestLoadImage: error",!1,h,T),T.onabort=g(Is,v,"TestLoadImage: abort",!1,h,T),T.ontimeout=g(Is,v,"TestLoadImage: timeout",!1,h,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=l}else h(!1)}function wP(l,h){let v=new wo,T=new AbortController,H=setTimeout(()=>{T.abort(),Is(v,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:T.signal}).then(X=>{clearTimeout(H),X.ok?Is(v,"TestPingServer: ok",!0,h):Is(v,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(H),Is(v,"TestPingServer: error",!1,h)})}function Is(l,h,v,T,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),T(v)}catch{}}function EP(){this.g=new xd}function IP(l,h,v){let T=v||"";try{QE(l,function(H,X){let fe=H;u(H)&&(fe=Ju(H)),h.push(T+X+"="+encodeURIComponent(fe))})}catch(H){throw h.push(T+"type="+encodeURIComponent("_badmap")),H}}function il(l){this.l=l.Ub||null,this.j=l.eb||!1}_(il,ja),il.prototype.g=function(){return new Dd(this.l,this.j)},il.prototype.i=function(l){return function(){return l}}({});function Dd(l,h){qt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Dd,qt),n=Dd.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,ol(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nI(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function nI(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?sl(this):ol(this),this.readyState==3&&nI(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,sl(this))},n.Qa=function(l){this.g&&(this.response=l,sl(this))},n.ga=function(){this.g&&sl(this)};function sl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ol(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var v=h.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=h.next();return l.join(`\r
`)};function ol(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function rI(l){let h="";return ee(l,function(v,T){h+=T,h+=":",h+=v,h+=`\r
`}),h}function mm(l,h,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=rI(v),typeof l=="string"?v!=null&&encodeURIComponent(String(v)):At(l,h,v))}function Ft(l){qt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ft,qt);var TP=/^https?$/i,SP=["POST","PUT"];n=Ft.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():W.g(),this.v=this.o?Zu(this.o):Zu(W),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(X){iI(this,X);return}if(l=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var H in T)v.set(H,T[H]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(let X of T.keys())v.set(X,T.get(X));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),H=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(SP,h,void 0))||T||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[X,fe]of v)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aI(this),this.u=!0,this.g.send(l),this.u=!1}catch(X){iI(this,X)}};function iI(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,sI(l),Ad(l)}function sI(l){l.A||(l.A=!0,Mt(l,"complete"),Mt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Mt(this,"complete"),Mt(this,"abort"),Ad(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ad(this,!0)),Ft.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oI(this):this.bb())},n.bb=function(){oI(this)};function oI(l){if(l.h&&typeof o<"u"&&(!l.v[1]||ji(l)!=4||l.Z()!=2)){if(l.u&&ji(l)==4)Ku(l.Ea,0,l);else if(Mt(l,"readystatechange"),ji(l)==4){l.h=!1;try{let fe=l.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var v;if(!(v=h)){var T;if(T=fe===0){var H=String(l.D).match(XE)[1]||null;!H&&a.self&&a.self.location&&(H=a.self.location.protocol.slice(0,-1)),T=!TP.test(H?H.toLowerCase():"")}v=T}if(v)Mt(l,"complete"),Mt(l,"success");else{l.m=6;try{var X=2<ji(l)?l.g.statusText:""}catch{X=""}l.l=X+" ["+l.Z()+"]",sI(l)}}finally{Ad(l)}}}}function Ad(l,h){if(l.g){aI(l);let v=l.g,T=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Mt(l,"ready");try{v.onreadystatechange=T}catch{}}}function aI(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ji(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),dm(h)}};function cI(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function CP(l){let h={};l=(l.g&&2<=ji(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<l.length;T++){if(F(l[T]))continue;var v=D(l[T]);let H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();let X=h[H]||[];h[H]=X,X.push(v)}w(h,function(T){return T.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function al(l,h,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||h}function uI(l){this.Aa=0,this.i=[],this.j=new wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=al("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=al("baseRetryDelayMs",5e3,l),this.cb=al("retryDelaySeedMs",1e4,l),this.Wa=al("forwardChannelMaxRetries",2,l),this.wa=al("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(l&&l.concurrentRequestLimit),this.Da=new EP,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=uI.prototype,n.la=8,n.G=1,n.connect=function(l,h,v,T){xn(0),this.W=l,this.H=h||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.I=_I(this,null,this.W),Rd(this)};function vm(l){if(lI(l),l.G==3){var h=l.U++,v=Ui(l.I);if(At(v,"SID",l.K),At(v,"RID",h),At(v,"TYPE","terminate"),cl(l,v),h=new z(l,l.j,h),h.L=2,h.v=bd(Ui(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!v&&a.Image&&(new Image().src=h.v,v=!0),v||(h.g=yI(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ne(h)}vI(l)}function kd(l){l.g&&(ym(l),l.g.cancel(),l.g=null)}function lI(l){kd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Nd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Rd(l){if(!za(l.h)&&!l.s){l.s=!0;var h=l.Ga;Rt||Gt(),Wt||(Rt(),Wt=!0),tn.add(h,l),l.B=0}}function bP(l,h){return kr(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xo(p(l.Ga,l,h),mI(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let H=new z(this,this.j,l),X=this.o;if(this.S&&(X?(X=E(X),C(X,this.S)):X=this.S),this.m!==null||this.O||(H.H=X,X=null),this.P)e:{for(var h=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(h+=T,4096<h){h=v;break e}if(h===4096||v===this.i.length-1){h=v+1;break e}}h=1e3}else h=1e3;h=dI(this,H,h),v=Ui(this.I),At(v,"RID",l),At(v,"CVER",22),this.D&&At(v,"X-HTTP-Session-Id",this.D),cl(this,v),X&&(this.O?h="headers="+encodeURIComponent(String(rI(X)))+"&"+h:this.m&&mm(v,this.m,X)),gm(this.h,H),this.Ua&&At(v,"TYPE","init"),this.P?(At(v,"$req",h),At(v,"SID","null"),H.T=!0,ae(H,v,null)):ae(H,v,h),this.G=2}}else this.G==3&&(l?fI(this,l):this.i.length==0||za(this.h)||fI(this))};function fI(l,h){var v;h?v=h.l:v=l.U++;let T=Ui(l.I);At(T,"SID",l.K),At(T,"RID",v),At(T,"AID",l.T),cl(l,T),l.m&&l.o&&mm(T,l.m,l.o),v=new z(l,l.j,v,l.B+1),l.m===null&&(v.H=l.o),h&&(l.i=h.D.concat(l.i)),h=dI(l,v,1e3),v.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),gm(l.h,v),ae(v,T,h)}function cl(l,h){l.H&&ee(l.H,function(v,T){At(h,T,v)}),l.l&&QE({},function(v,T){At(h,T,v)})}function dI(l,h,v){v=Math.min(l.i.length,v);var T=l.l?p(l.l.Na,l.l,l):null;e:{var H=l.i;let X=-1;for(;;){let fe=["count="+v];X==-1?0<v?(X=H[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let wt=!0;for(let wn=0;wn<v;wn++){let at=H[wn].g,Fn=H[wn].map;if(at-=X,0>at)X=Math.max(0,H[wn].g-100),wt=!1;else try{IP(Fn,fe,"req"+at+"_")}catch{T&&T(Fn)}}if(wt){T=fe.join("&");break e}}}return l=l.i.splice(0,v),h.D=l,T}function hI(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Rt||Gt(),Wt||(Rt(),Wt=!0),tn.add(h,l),l.v=0}}function _m(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xo(p(l.Fa,l),mI(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,pI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xo(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xn(10),kd(this),pI(this))};function ym(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function pI(l){l.g=new z(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Ui(l.qa);At(h,"RID","rpc"),At(h,"SID",l.K),At(h,"AID",l.T),At(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&At(h,"TO",l.ja),At(h,"TYPE","xmlhttp"),cl(l,h),l.m&&l.o&&mm(h,l.m,l.o),l.L&&(l.g.I=l.L);var v=l.g;l=l.ia,v.L=1,v.v=bd(Ui(h)),v.m=null,v.P=!0,_e(v,l)}n.Za=function(){this.C!=null&&(this.C=null,kd(this),_m(this),xn(19))};function Nd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function gI(l,h){var v=null;if(l.g==h){Nd(l),ym(l),l.g=null;var T=2}else if(pm(l.h,h))v=h.D,qE(l.h,h),T=1;else return;if(l.G!=0){if(h.o)if(T==1){v=h.m?h.m.length:0,h=Date.now()-h.F;var H=l.B;T=$a(),Mt(T,new Ha(T,v)),Rd(l)}else hI(l);else if(H=h.s,H==3||H==0&&0<h.X||!(T==1&&bP(l,h)||T==2&&_m(l)))switch(v&&0<v.length&&(h=l.h,h.i=h.i.concat(v)),H){case 1:To(l,5);break;case 4:To(l,10);break;case 3:To(l,6);break;default:To(l,2)}}}function mI(l,h){let v=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(v*=2),v*h}function To(l,h){if(l.j.info("Error code "+h),h==2){var v=p(l.fb,l),T=l.Xa;let H=!T;T=new Io(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sd(T,"https"),bd(T),H?xP(T.toString(),v):wP(T.toString(),v)}else xn(2);l.G=0,l.l&&l.l.sa(h),vI(l),lI(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),xn(2)):(this.j.info("Failed to ping google.com"),xn(1))};function vI(l){if(l.G=0,l.ka=[],l.l){let h=KE(l.h);(h.length!=0||l.i.length!=0)&&(y(l.ka,h),y(l.ka,l.i),l.h.i.length=0,m(l.i),l.i.length=0),l.l.ra()}}function _I(l,h,v){var T=v instanceof Io?Ui(v):new Io(v);if(T.g!="")h&&(T.g=h+"."+T.g),Cd(T,T.s);else{var H=a.location;T=H.protocol,h=h?h+"."+H.hostname:H.hostname,H=+H.port;var X=new Io(null);T&&Sd(X,T),h&&(X.g=h),H&&Cd(X,H),v&&(X.l=v),T=X}return v=l.D,h=l.ya,v&&h&&At(T,v,h),At(T,"VER",l.la),cl(l,T),T}function yI(l,h,v){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ft(new il({eb:v})):new Ft(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function xI(){}n=xI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Md(){}Md.prototype.g=function(l,h){return new hr(l,h)};function hr(l,h){qt.call(this),this.g=new uI(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!F(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!F(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ga(this)}_(hr,qt),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){vm(this.g)},hr.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.u&&(v={},v.__data__=Ju(l),l=v);h.i.push(new Eo(h.Ya++,l)),h.G==3&&Rd(h)},hr.prototype.N=function(){this.g.l=null,delete this.j,vm(this.g),delete this.g,hr.aa.N.call(this)};function wI(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let v in h){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(wI,ws);function EI(){el.call(this),this.status=1}_(EI,el);function Ga(l){this.g=l}_(Ga,xI),Ga.prototype.ua=function(){Mt(this.g,"a")},Ga.prototype.ta=function(l){Mt(this.g,new wI(l))},Ga.prototype.sa=function(l){Mt(this.g,new EI)},Ga.prototype.ra=function(){Mt(this.g,"b")},Md.prototype.createWebChannel=Md.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,jx=os.createWebChannelTransport=function(){return new Md},Ux=os.getStatEventTarget=function(){return $a()},Bx=os.Event=Vi,h0=os.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},R.NO_ERROR=0,R.TIMEOUT=8,R.HTTP_ERROR=6,yf=os.ErrorCode=R,N.COMPLETE="complete",Vx=os.EventType=N,wd.EventType=_o,_o.OPEN="a",_o.CLOSE="b",_o.ERROR="c",_o.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Gc=os.WebChannel=wd,vj=os.FetchXmlHttpFactory=il,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Lx=os.XhrIo=Ft}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var YA="@firebase/firestore";var cn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");var wu="10.14.0";var ga=new Hs("@firebase/firestore");function Yc(){return ga.logLevel}function se(n,...e){if(ga.logLevel<=Xe.DEBUG){let t=e.map(Mw);ga.debug(`Firestore (${wu}): ${n}`,...t)}}function Kn(n,...e){if(ga.logLevel<=Xe.ERROR){let t=e.map(Mw);ga.error(`Firestore (${wu}): ${n}`,...t)}}function ma(n,...e){if(ga.logLevel<=Xe.WARN){let t=e.map(Mw);ga.warn(`Firestore (${wu}): ${n}`,...t)}}function Mw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Ee(n="Unexpected state"){let e=`FIRESTORE (${wu}) INTERNAL ASSERTION FAILED: `+n;throw Kn(e),new Error(e)}function Ce(n,e){n||Ee()}function Oe(n,e){return n}var te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=class extends cr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Br=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var I0=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Gx=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(cn.UNAUTHENTICATED))}shutdown(){}},qx=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Kx=class{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ce(this.o===void 0);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Br,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>B(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Br)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new I0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new cn(e)}},Qx=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Xx=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Qx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yx=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Jx=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ce(this.o===void 0);let r=s=>{s.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ce(typeof t.token=="string"),this.R=t.token,new Yx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _j(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var T0=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=_j(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function Le(n,e){return n<e?-1:n>e?1:0}function ou(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Xk(n){return n+"\0"}var Ht=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ht(0,0))}static max(){return new n(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var S0=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Tt=class n extends S0{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,un=class n extends S0{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return yj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var me=class n{constructor(e){this.path=e}static fromPath(e){return new n(Tt.fromString(e))}static fromName(e){return new n(Tt.fromString(e).popFirst(5))}static empty(){return new n(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Tt(e.slice()))}};var au=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function Zx(n){return n.fields.find(e=>e.kind===2)}function oa(n){return n.fields.filter(e=>e.kind!==2)}au.UNKNOWN_ID=-1;var ru=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var kf=class n{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new n(0,jr.min())}};function xj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new Ht(t+1,0):new Ht(t,r));return new jr(i,me.empty(),e)}function Yk(n){return new jr(n.readTime,n.key,-1)}var jr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Re.min(),me.empty(),-1)}static max(){return new n(Re.max(),me.empty(),-1)}};function Pw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}var Jk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",C0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ta(n){return B(this,null,function*(){if(n.code!==te.FAILED_PRECONDITION||n.message!==Jk)throw n;se("LocalStore","Unexpectedly lost primary lease")})}var K=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(f=>{o[u]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};var b0=class n{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Br,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ha(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=Ow(r.target.error);this.V.reject(new ha(e,i))}}static open(e,t,r,i){try{return new n(t,e.transaction(i,r))}catch(s){throw new ha(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new t1(t)}},cu=class n{constructor(e,t,r){this.name=e,this.version=t,this.p=r,n.S(Bn())===12.2&&Kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),aa(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Xp())return!1;if(n.v())return!0;let e=Bn(),t=n.S(e),r=0<t&&t<10,i=Zk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,t){return e.store(t)}static S(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return B(this,null,function*(){return this.db||(se("SimpleDb","Opening database:",this.name),this.db=yield new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;t(o)},i.onblocked=()=>{r(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new ge(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ge(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ha(e,o))},i.onupgradeneeded=s=>{se("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{se("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=t=>this.N(t)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){return B(this,null,function*(){let s=t==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=b0.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),K.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(se("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function Zk(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}var e1=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return aa(this.B.delete())}},ha=class extends ge{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function co(n){return n.name==="IndexedDbTransactionError"}var t1=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(se("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),aa(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),aa(this.store.add(e))}get(e){return aa(this.store.get(e)).next(t=>(t===void 0&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),aa(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),aa(this.store.count())}U(e,t){let r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new K((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new K((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,t){se("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.W(i,t)}Y(e){let t=this.cursor({});return new K((r,i)=>{t.onerror=s=>{let o=Ow(s.target.error);i(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,t){let r=[];return new K((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new e1(a),u=t(a.primaryKey,a.value,c);if(u instanceof K){let f=u.catch(d=>(c.done(),K.reject(d)));r.push(f)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>K.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function aa(n){return new K((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=Ow(r.target.error);t(i)}})}var JA=!1;function Ow(n){let e=cu.S(Bn());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new ge("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return JA||(JA=!0,setTimeout(()=>{throw r},0)),r}}return n}var n1=class{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){se("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>B(this,null,function*(){this.task=null;try{se("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(t){co(t)?se("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",t):yield Ta(t)}yield this.X(6e4)}))}},r1=class{constructor(e,t){this.localStore=e,this.persistence=t}ee(e=50){return B(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.te(t,e))})}te(e,t){let r=new Set,i=t,s=!0;return K.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return se("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}ne(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(se("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}re(e,t){let r=e;return t.changes.forEach((i,s)=>{let o=Yk(s);Pw(o,r)>0&&(r=o)}),new jr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var ri=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function yg(n){return n==null}function Rf(n){return n===0&&1/n==-1/0}function wj(n){return typeof n=="number"&&Number.isInteger(n)&&!Rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Qn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZA(e)),e=Ej(n.get(t),e);return ZA(e)}function Ej(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function ZA(n){return n+""}function Ci(n){let e=n.length;if(Ce(e>=2),e===2)return Ce(n.charAt(0)===""&&n.charAt(1)===""),Tt.emptyPath();let t=e-2,r=[],i="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&Ee(),n.charAt(o+1)){case"":let a=n.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:Ee()}s=o+2}return new Tt(r)}var ek=["userId","batchId"];function _0(n,e){return[n,Qn(e)]}function eR(n,e,t){return[n,Qn(e),t]}var Ij={},Tj=["prefixPath","collectionGroup","readTime","documentId"],Sj=["prefixPath","collectionGroup","documentId"],Cj=["collectionGroup","readTime","prefixPath","documentId"],bj=["canonicalId","targetId"],Dj=["targetId","path"],Aj=["path","targetId"],kj=["collectionId","parent"],Rj=["indexId","uid"],Nj=["uid","sequenceNumber"],Mj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Pj=["indexId","uid","orderedDocumentKey"],Oj=["userId","collectionPath","documentId"],Fj=["userId","collectionPath","largestBatchId"],Lj=["userId","collectionGroup","largestBatchId"],tR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vj=[...tR,"documentOverlays"],nR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rR=nR,Fw=[...rR,"indexConfiguration","indexState","indexEntries"],Bj=Fw,Uj=[...Fw,"globals"];var Nf=class extends C0{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}};function fn(n,e){let t=Oe(n);return cu.F(t._e,e)}function tk(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Eu(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ot=class n{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nu(this.root,e,this.comparator,!0)}},nu=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Di=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();let e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}};Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1;Di.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Di(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var St=class n{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},D0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function qc(n){return n.hasNext()?n.getNext():void 0}var ii=class n{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new n([])}unionWith(e){let t=new St(un.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ou(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var A0=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ln=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new A0("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ln.EMPTY_BYTE_STRING=new ln("");var jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(n){if(Ce(!!n),typeof n=="string"){let e=0,t=jj.exec(n);if(Ce(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function eo(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}function Lw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Vw(n){let e=n.mapValue.fields.__previous_value__;return Lw(e)?Vw(e):e}function Mf(n){let e=cs(n.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}var i1=class{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},uu=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Js={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},y0={nullValue:"NULL_VALUE"};function va(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lw(n)?4:sR(n)?9007199254740991:xg(n)?10:11:Ee()}function Ai(n,e){if(n===e)return!0;let t=va(n);if(t!==va(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mf(n).isEqual(Mf(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=cs(i.timestampValue),a=cs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return eo(i.bytesValue).isEqual(eo(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Nt(i.doubleValue),a=Nt(s.doubleValue);return o===a?Rf(o)===Rf(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ou(n.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tk(o)!==tk(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ai(o[c],a[c])))return!1;return!0}(n,e);default:return Ee()}}function Pf(n,e){return(n.values||[]).find(t=>Ai(t,e))!==void 0}function to(n,e){if(n===e)return 0;let t=va(n),r=va(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Nt(s.integerValue||s.doubleValue),c=Nt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return nk(n.timestampValue,e.timestampValue);case 4:return nk(Mf(n),Mf(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,o){let a=eo(s),c=eo(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let f=Le(a[u],c[u]);if(f!==0)return f}return Le(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Le(Nt(s.latitude),Nt(o.latitude));return a!==0?a:Le(Nt(s.longitude),Nt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return rk(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,f;let d=s.fields||{},p=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,_=(c=p.value)===null||c===void 0?void 0:c.arrayValue,m=Le(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((f=_?.values)===null||f===void 0?void 0:f.length)||0);return m!==0?m:rk(g,_)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Js.mapValue&&o===Js.mapValue)return 0;if(s===Js.mapValue)return 1;if(o===Js.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let d=0;d<c.length&&d<f.length;++d){let p=Le(c[d],f[d]);if(p!==0)return p;let g=to(a[c[d]],u[f[d]]);if(g!==0)return g}return Le(c.length,f.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function nk(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);let t=cs(n),r=cs(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function rk(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=to(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function lu(n){return s1(n)}function s1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=cs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return eo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=s1(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${s1(t.fields[o])}`;return i+"}"}(n.mapValue):Ee()}function Bw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function o1(n){return!!n&&"integerValue"in n}function Of(n){return!!n&&"arrayValue"in n}function ik(n){return!!n&&"nullValue"in n}function sk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function x0(n){return!!n&&"mapValue"in n}function xg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Cf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Eu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cf(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var oR={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function $j(n){return"nullValue"in n?y0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Bw(uu.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?xg(n)?oR:{mapValue:{}}:Ee()}function Hj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Bw(uu.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?oR:"mapValue"in n?xg(n)?{mapValue:{}}:Js:Ee()}function ok(n,e){let t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ak(n,e){let t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Er=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!x0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(t)}setAll(e){let t=un.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Cf(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());x0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];x0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Eu(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(Cf(this.value))}};function aR(n){let e=[];return Eu(n.fields,(t,r)=>{let i=new un([t]);if(x0(r)){let s=aR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ii(e)}var Dn=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Re.min(),Re.min(),Re.min(),Er.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Re.min(),Re.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Re.min(),Re.min(),Er.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var no=class{constructor(e,t){this.position=e,this.inclusive=t}};function ck(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=me.comparator(me.fromName(o.referenceValue),t.key):r=to(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function uk(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ai(n.position[t],e.position[t]))return!1;return!0}var fu=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function zj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var k0=class{},tt=class n extends k0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new u1(e,t,r):t==="array-contains"?new d1(e,r):t==="in"?new R0(e,r):t==="not-in"?new h1(e,r):t==="array-contains-any"?new p1(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new l1(e,r):new f1(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(to(t,this.value)):t!==null&&va(this.value)===va(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},yt=class n extends k0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return du(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function du(n){return n.op==="and"}function a1(n){return n.op==="or"}function Uw(n){return cR(n)&&du(n)}function cR(n){for(let e of n.filters)if(e instanceof yt)return!1;return!0}function c1(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+lu(n.value);if(Uw(n))return n.filters.map(e=>c1(e)).join(",");{let e=n.filters.map(t=>c1(t)).join(",");return`${n.op}(${e})`}}function uR(n,e){return n instanceof tt?function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&Ai(r.value,i.value)}(n,e):n instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&uR(o,i.filters[a]),!0):!1}(n,e):void Ee()}function lR(n,e){let t=n.filters.concat(e);return yt.create(t,n.op)}function fR(n){return n instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${lu(t.value)}`}(n):n instanceof yt?function(t){return t.op.toString()+" {"+t.getFilters().map(fR).join(" ,")+"}"}(n):"Filter"}var u1=class extends tt{constructor(e,t,r){super(e,t,r),this.key=me.fromName(r.referenceValue)}matches(e){let t=me.comparator(e.key,this.key);return this.matchesComparison(t)}},l1=class extends tt{constructor(e,t){super(e,"in",t),this.keys=dR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},f1=class extends tt{constructor(e,t){super(e,"not-in",t),this.keys=dR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function dR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>me.fromName(r.referenceValue))}var d1=class extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Of(t)&&Pf(t.arrayValue,this.value)}},R0=class extends tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Pf(this.value.arrayValue,t)}},h1=class extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Pf(this.value.arrayValue,t)}},p1=class extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pf(this.value.arrayValue,r))}};var g1=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function m1(n,e=null,t=[],r=[],i=null,s=null,o=null){return new g1(n,e,t,r,i,s,o)}function _a(n){let e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>c1(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),yg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lu(r)).join(",")),e.ue=t}return e.ue}function Gf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uk(n.startAt,e.startAt)&&uk(n.endAt,e.endAt)}function N0(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function M0(n,e){return n.filters.filter(t=>t instanceof tt&&t.field.isEqual(e))}function lk(n,e,t){let r=y0,i=!0;for(let s of M0(n,e)){let o=y0,a=!0;switch(s.op){case"<":case"<=":o=$j(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=y0}ok({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];ok({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function fk(n,e,t){let r=Js,i=!0;for(let s of M0(n,e)){let o=Js,a=!0;switch(s.op){case">=":case">":o=Hj(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Js}ak({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];ak({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}var hu=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Wj(n,e,t,r,i,s,o,a){return new hu(n,e,t,r,i,s,o,a)}function wg(n){return new hu(n)}function dk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Gj(n){return n.collectionGroup!==null}function bf(n){let e=Oe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(un.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new fu(s,r))}),t.has(un.keyField().canonicalString())||e.ce.push(new fu(un.keyField(),r))}return e.ce}function Ur(n){let e=Oe(n);return e.le||(e.le=qj(e,bf(n))),e.le}function qj(n,e){if(n.limitType==="F")return m1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new fu(i.field,s)});let t=n.endAt?new no(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new no(n.startAt.position,n.startAt.inclusive):null;return m1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function v1(n,e,t){return new hu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Eg(n,e){return Gf(Ur(n),Ur(e))&&n.limitType===e.limitType}function hR(n){return`${_a(Ur(n))}|lt:${n.limitType}`}function Jc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fR(i)).join(", ")}]`),yg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>lu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>lu(i)).join(",")),`Target(${r})`}(Ur(n))}; limitType=${n.limitType})`}function qf(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):me.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of bf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=ck(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,bf(r),i)||r.endAt&&!function(o,a,c){let u=ck(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,bf(r),i))}(n,e)}function Kj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pR(n){return(e,t)=>{let r=!1;for(let i of bf(n)){let s=Qj(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Qj(n,e,t){let r=n.field.isKeyField()?me.comparator(e.key,t.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?to(c,u):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}var ki=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Eu(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}};var Xj=new Ot(me.comparator);function Ir(){return Xj}var gR=new Ot(me.comparator);function Tf(...n){let e=gR;for(let t of n)e=e.insert(t.key,t);return e}function mR(n){let e=gR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bi(){return Df()}function vR(){return Df()}function Df(){return new ki(n=>n.toString(),(n,e)=>n.isEqual(e))}var Yj=new Ot(me.comparator),Jj=new St(me.comparator);function ze(...n){let e=Jj;for(let t of n)e=e.add(t);return e}var Zj=new St(Le);function e9(){return Zj}function jw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(e)?"-0":e}}function _R(n){return{integerValue:""+n}}function t9(n,e){return wj(e)?_R(e):jw(n,e)}var pu=class{constructor(){this._=void 0}};function n9(n,e,t){return n instanceof ya?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lw(s)&&(s=Vw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof ro?xR(n,e):n instanceof io?wR(n,e):function(i,s){let o=yR(i,s),a=hk(o)+hk(i.Pe);return o1(o)&&o1(i.Pe)?_R(a):jw(i.serializer,a)}(n,e)}function r9(n,e,t){return n instanceof ro?xR(n,e):n instanceof io?wR(n,e):t}function yR(n,e){return n instanceof xa?function(r){return o1(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ya=class extends pu{},ro=class extends pu{constructor(e){super(),this.elements=e}};function xR(n,e){let t=ER(e);for(let r of n.elements)t.some(i=>Ai(i,r))||t.push(r);return{arrayValue:{values:t}}}var io=class extends pu{constructor(e){super(),this.elements=e}};function wR(n,e){let t=ER(e);for(let r of n.elements)t=t.filter(i=>!Ai(i,r));return{arrayValue:{values:t}}}var xa=class extends pu{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function hk(n){return Nt(n.integerValue||n.doubleValue)}function ER(n){return Of(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var _1=class{constructor(e,t){this.field=e,this.transform=t}};function i9(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ro&&i instanceof ro||r instanceof io&&i instanceof io?ou(r.elements,i.elements,Ai):r instanceof xa&&i instanceof xa?Ai(r.Pe,i.Pe):r instanceof ya&&i instanceof ya}(n.transform,e.transform)}var y1=class{constructor(e,t){this.version=e,this.transformResults=t}},si=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function w0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var gu=class{};function IR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ff(n.key,si.none()):new so(n.key,n.data,si.none());{let t=n.data,r=Er.empty(),i=new St(un.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ri(n.key,r,new ii(i.toArray()),si.none())}}function s9(n,e,t){n instanceof so?function(i,s,o){let a=i.value.clone(),c=gk(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ri?function(i,s,o){if(!w0(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=gk(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(TR(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Af(n,e,t,r){return n instanceof so?function(s,o,a,c){if(!w0(s.precondition,o))return a;let u=s.value.clone(),f=mk(s.fieldTransforms,c,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ri?function(s,o,a,c){if(!w0(s.precondition,o))return a;let u=mk(s.fieldTransforms,c,o),f=o.data;return f.setAll(TR(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(s,o,a){return w0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function o9(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=yR(r.transform,i||null);s!=null&&(t===null&&(t=Er.empty()),t.set(r.field,s))}return t||null}function pk(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ou(r,i,(s,o)=>i9(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var so=class extends gu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ri=class extends gu{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function TR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function gk(n,e,t){let r=new Map;Ce(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,r9(o,a,t[i]))}return r}function mk(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,n9(s,o,e))}return r}var Ff=class extends gu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},P0=class extends gu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Lf=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&s9(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=vR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=IR(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&ou(this.mutations,e.mutations,(t,r)=>pk(t,r))&&ou(this.baseMutations,e.baseMutations,(t,r)=>pk(t,r))}},x1=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ce(e.mutations.length===r.length);let i=function(){return Yj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Vf=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var w1=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Xt,it;function a9(n){switch(n){default:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function SR(n){if(n===void 0)return Kn("GRPC error has no .code"),te.UNKNOWN;switch(n){case Xt.OK:return te.OK;case Xt.CANCELLED:return te.CANCELLED;case Xt.UNKNOWN:return te.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return te.INTERNAL;case Xt.UNAVAILABLE:return te.UNAVAILABLE;case Xt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Xt.NOT_FOUND:return te.NOT_FOUND;case Xt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Xt.ABORTED:return te.ABORTED;case Xt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Xt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(it=Xt||(Xt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";var vk=null;function c9(){return new TextEncoder}var u9=new Ks([4294967295,4294967295],0);function _k(n){let e=c9().encode(n),t=new Fx;return t.update(e),new Uint8Array(t.digest())}function yk(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ks([t,r],0),new Ks([i,s],0)]}var E1=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new fa(`Invalid padding: ${t}`);if(r<0)throw new fa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fa(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new fa(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ks.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Ks.fromNumber(r)));return i.compare(u9)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=_k(e),[r,i]=yk(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=_k(e),[r,i]=yk(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},fa=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var O0=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Re.min(),i,new Ot(Le),Ir(),ze())}},Bf=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ze(),ze(),ze())}};var iu=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},F0=class{constructor(e,t){this.targetId=e,this.me=t}},L0=class{constructor(e,t,r=ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},V0=class{constructor(){this.fe=0,this.ge=wk(),this.pe=ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),r=ze();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Bf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=wk()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ce(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},I1=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=xk(),this.Qe=new Ot(Le)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(N0(s))if(r===0){let o=new me(s.path);this.Ue(t,o,Dn.newNoDocument(o,Re.min()))}else Ce(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}vk?.et(function(f,d,p,g,_){var m,y,P,F,O,j;let Q={localCacheCount:f,existenceFilterCount:d.count,databaseId:p.database,projectId:p.projectId},ee=d.unchangedNames;return ee&&(Q.bloomFilter={applied:_===0,hashCount:(m=ee?.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(F=(P=(y=ee?.bits)===null||y===void 0?void 0:y.bitmap)===null||P===void 0?void 0:P.length)!==null&&F!==void 0?F:0,padding:(j=(O=ee?.bits)===null||O===void 0?void 0:O.padding)!==null&&j!==void 0?j:0,mightContain:w=>{var E;return(E=g?.mightContain(w))!==null&&E!==void 0&&E}}),Q}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=eo(r).toUint8Array()}catch(c){if(c instanceof A0)return ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new E1(o,i,s)}catch(c){return ma(c instanceof fa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&N0(a.target)){let c=new me(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Dn.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=ze();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new O0(e,t,this.Qe,this.ke,r);return this.ke=Ir(),this.qe=xk(),this.Qe=new Ot(Le),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new V0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new St(Le),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new V0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function xk(){return new Ot(me.comparator)}function wk(){return new Ot(me.comparator)}var l9={asc:"ASCENDING",desc:"DESCENDING"},f9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d9={and:"AND",or:"OR"},T1=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function S1(n,e){return n.useProto3Json||yg(e)?e:{value:e}}function mu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function h9(n,e){return mu(n,e.toTimestamp())}function Xn(n){return Ce(!!n),Re.fromTimestamp(function(t){let r=cs(t);return new Ht(r.seconds,r.nanos)}(n))}function $w(n,e){return C1(n,e).canonicalString()}function C1(n,e){let t=function(i){return new Tt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function bR(n){let e=Tt.fromString(n);return Ce(FR(e)),e}function B0(n,e){return $w(n.databaseId,e.path)}function pa(n,e){let t=bR(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(kR(t))}function DR(n,e){return $w(n.databaseId,e)}function AR(n){let e=bR(n);return e.length===4?Tt.emptyPath():kR(e)}function b1(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kR(n){return Ce(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Ek(n,e,t){return{name:B0(n,e),fields:t.value.mapValue.fields}}function p9(n,e,t){let r=pa(n,e.name),i=Xn(e.updateTime),s=e.createTime?Xn(e.createTime):Re.min(),o=new Er({mapValue:{fields:e.fields}}),a=Dn.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function g9(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ce(f===void 0||typeof f=="string"),ln.fromBase64String(f||"")):(Ce(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ln.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let f=u.code===void 0?te.UNKNOWN:SR(u.code);return new ge(f,u.message||"")}(o);t=new L0(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pa(n,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):Re.min(),a=new Er({mapValue:{fields:r.document.fields}}),c=Dn.newFoundDocument(i,s,o,a),u=r.targetIds||[],f=r.removedTargetIds||[];t=new iu(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pa(n,r.document),s=r.readTime?Xn(r.readTime):Re.min(),o=Dn.newNoDocument(i,s),a=r.removedTargetIds||[];t=new iu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pa(n,r.document),s=r.removedTargetIds||[];t=new iu([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new w1(i,s),a=r.targetId;t=new F0(a,o)}}return t}function U0(n,e){let t;if(e instanceof so)t={update:Ek(n,e.key,e.value)};else if(e instanceof Ff)t={delete:B0(n,e.key)};else if(e instanceof Ri)t={update:Ek(n,e.key,e.data),updateMask:w9(e.fieldMask)};else{if(!(e instanceof P0))return Ee();t={verify:B0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ya)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ro)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof io)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:h9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function D1(n,e){let t=e.currentDocument?function(s){return s.updateTime!==void 0?si.updateTime(Xn(s.updateTime)):s.exists!==void 0?si.exists(s.exists):si.none()}(e.currentDocument):si.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)Ce(a.setToServerValue==="REQUEST_TIME"),c=new ya;else if("appendMissingElements"in a){let f=a.appendMissingElements.values||[];c=new ro(f)}else if("removeAllFromArray"in a){let f=a.removeAllFromArray.values||[];c=new io(f)}else"increment"in a?c=new xa(o,a.increment):Ee();let u=un.fromServerFormat(a.fieldPath);return new _1(u,c)}(n,i)):[];if(e.update){e.update.name;let i=pa(n,e.update.name),s=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let u=c.fieldPaths||[];return new ii(u.map(f=>un.fromServerFormat(f)))}(e.updateMask);return new Ri(i,s,o,t,r)}return new so(i,s,t,r)}if(e.delete){let i=pa(n,e.delete);return new Ff(i,t)}if(e.verify){let i=pa(n,e.verify);return new P0(i,t)}return Ee()}function m9(n,e){return n&&n.length>0?(Ce(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?Xn(i.updateTime):Xn(s);return o.isEqual(Re.min())&&(o=Xn(s)),new y1(o,i.transformResults||[])}(t,e))):[]}function RR(n,e){return{documents:[DR(n,e.path)]}}function NR(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=DR(n,i);let s=function(u){if(u.length!==0)return OR(yt.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:Zc(p.field),direction:_9(p.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=S1(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i}}function MR(n){let e=AR(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ce(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(d){let p=PR(d);return p instanceof yt&&Uw(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(d){return d.map(p=>function(_){return new fu(eu(_.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(t.orderBy));let a=null;t.limit&&(a=function(d){let p;return p=typeof d=="object"?d.value:d,yg(p)?null:p}(t.limit));let c=null;t.startAt&&(c=function(d){let p=!!d.before,g=d.values||[];return new no(g,p)}(t.startAt));let u=null;return t.endAt&&(u=function(d){let p=!d.before,g=d.values||[];return new no(g,p)}(t.endAt)),Wj(e,i,o,s,a,"F",c,u)}function v9(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function PR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=eu(t.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=eu(t.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=eu(t.unaryFilter.field);return tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=eu(t.unaryFilter.field);return tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return tt.create(eu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yt.create(t.compositeFilter.filters.map(r=>PR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function _9(n){return l9[n]}function y9(n){return f9[n]}function x9(n){return d9[n]}function Zc(n){return{fieldPath:n.canonicalString()}}function eu(n){return un.fromServerFormat(n.fieldPath)}function OR(n){return n instanceof tt?function(t){if(t.op==="=="){if(sk(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NAN"}};if(ik(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sk(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NAN"}};if(ik(t.value))return{unaryFilter:{field:Zc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zc(t.field),op:y9(t.op),value:t.value}}}(n):n instanceof yt?function(t){let r=t.getFilters().map(i=>OR(i));return r.length===1?r[0]:{compositeFilter:{op:x9(t.op),filters:r}}}(n):Ee()}function w9(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var vu=class n{constructor(e,t,r,i,s=Re.min(),o=Re.min(),a=ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var j0=class{constructor(e){this.ct=e}};function E9(n,e){let t;if(e.document)t=p9(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=me.fromSegments(e.noDocument.path),i=Ea(e.noDocument.readTime);t=Dn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{let r=me.fromSegments(e.unknownDocument.path),i=Ea(e.unknownDocument.version);t=Dn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){let s=new Ht(i[0],i[1]);return Re.fromTimestamp(s)}(e.readTime)),t}function Ik(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:B0(s,o.key),fields:o.data.value.mapValue.fields,updateTime:mu(s,o.version.toTimestamp()),createTime:mu(s,o.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:wa(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:wa(e.version)}}return r}function $0(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wa(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ea(n){let e=new Ht(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function ca(n,e){let t=(e.baseMutations||[]).map(s=>D1(n.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>D1(n.ct,s)),i=Ht.fromMillis(e.localWriteTimeMs);return new Lf(e.batchId,i,t,r)}function Sf(n){let e=Ea(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Ea(n.lastLimboFreeSnapshotVersion):Re.min(),r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Ce(s.documents.length===1),Ur(wg(AR(s.documents[0])))}(n.query):function(s){return Ur(MR(s))}(n.query),new vu(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ln.fromBase64String(n.resumeToken))}function LR(n,e){let t=wa(e.snapshotVersion),r=wa(e.lastLimboFreeSnapshotVersion),i;i=N0(e.target)?RR(n.ct,e.target):NR(n.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_a(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function VR(n){let e=MR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?v1(e,e.limit,"L"):e}function $x(n,e){return new Vf(e.largestBatchId,D1(n.ct,e.overlayMutation))}function Tk(n,e){let t=e.path.lastSegment();return[n,Qn(e.path.popLast()),t]}function Sk(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:wa(r.readTime),documentKey:Qn(r.documentKey.path),largestBatchId:r.largestBatchId}}var A1=class{getBundleMetadata(e,t){return Ck(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Ea(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return Ck(e).put(function(i){return{bundleId:i.id,createTime:wa(Xn(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return bk(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:VR(s.bundledQuery),readTime:Ea(s.readTime)}}(r)})}saveNamedQuery(e,t){return bk(e).put(function(i){return{name:i.name,readTime:wa(Xn(i.readTime)),bundledQuery:i.bundledQuery}}(t))}};function Ck(n){return fn(n,"bundles")}function bk(n){return fn(n,"namedQueries")}var H0=class n{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){let r=t.uid||"";return new n(e,r)}getOverlay(e,t){return xf(e).get(Tk(this.userId,t)).next(r=>r?$x(this.serializer,r):null)}getOverlays(e,t){let r=bi();return K.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((s,o)=>{let a=new Vf(t,o);i.push(this.ht(e,a))}),K.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(o=>i.add(Qn(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(xf(e).j("collectionPathOverlayIndex",a))}),K.waitFor(s)}getOverlaysForCollection(e,t,r){let i=bi(),s=Qn(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return xf(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=$x(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let s=bi(),o,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xf(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,f)=>{let d=$x(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):f.done()}).next(()=>s)}ht(e,t){return xf(e).put(function(i,s,o){let[a,c,u]=Tk(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:U0(i.ct,o.mutation)}}(this.serializer,this.userId,t))}};function xf(n){return fn(n,"documentOverlays")}var k1=class{Pt(e){return fn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(t=>{let r=t?.value;return r?ln.fromUint8Array(r):ln.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}};var as=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Nt(e.integerValue));else if("doubleValue"in e){let r=Nt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Rf(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=cs(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(eo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?sR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):xg(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Nt(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),me.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};as.vt=new as;function I9(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Dk(n){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=I9(255&r[s]);if(i+=o,o!==8)break}return i}(n);return Math.ceil(e/8)}var R1=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Ot(r.value),r=t.next();this.Nt()}Lt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{let i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{let i=t.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){let t=this.qt(e),r=Dk(t);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Kt(e){let t=this.qt(e),r=Dk(t);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){let t=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ft(e){let t=255&e;t===0?(this.Ut(0),this.Ut(255)):t===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){let t=255&e;t===0?(this.Gt(0),this.Gt(255)):t===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},N1=class{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}},M1=class{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}},ua=class{constructor(){this.jt=new R1,this.Ht=new N1(this.jt),this.Jt=new M1(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}};var la=class n{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Zt(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new n(this.indexId,this.documentKey,this.arrayValue,r)}};function Qs(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=Ak(n.arrayValue,e.arrayValue),t!==0?t:(t=Ak(n.directionalValue,e.directionalValue),t!==0?t:me.comparator(n.documentKey,e.documentKey)))}function Ak(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var z0=class{constructor(e){this.Xt=new St((t,r)=>un.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(let t of e.filters){let r=t;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(Ce(e.collectionGroup===this.collectionId),this.nn)return!1;let t=Zx(e);if(t!==void 0&&!this.sn(t))return!1;let r=oa(e),i=new Set,s=0,o=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){let a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.on(a,c)||!this._n(this.en[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.en.length||!this._n(this.en[o++],a))return!1}return!0}an(){if(this.nn)return null;let e=new St(un.comparator),t=[];for(let r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new ru(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new ru(r.field,0))}for(let r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new ru(r.field,r.dir==="asc"?0:1)));return new au(au.UNKNOWN_ID,this.collectionId,t,kf.empty())}sn(e){for(let t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function BR(n){var e,t;if(Ce(n instanceof tt||n instanceof yt),n instanceof tt){if(n instanceof R0){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>tt.create(n.field,"==",s)))||[];return yt.create(i,"or")}return n}let r=n.filters.map(i=>BR(i));return yt.create(r,n.op)}function T9(n){if(n.getFilters().length===0)return[];let e=F1(BR(n));return Ce(UR(e)),P1(e)||O1(e)?[e]:e.getFilters()}function P1(n){return n instanceof tt}function O1(n){return n instanceof yt&&Uw(n)}function UR(n){return P1(n)||O1(n)||function(t){if(t instanceof yt&&a1(t)){for(let r of t.getFilters())if(!P1(r)&&!O1(r))return!1;return!0}return!1}(n)}function F1(n){if(Ce(n instanceof tt||n instanceof yt),n instanceof tt)return n;if(n.filters.length===1)return F1(n.filters[0]);let e=n.filters.map(r=>F1(r)),t=yt.create(e,n.op);return t=W0(t),UR(t)?t:(Ce(t instanceof yt),Ce(du(t)),Ce(t.filters.length>1),t.filters.reduce((r,i)=>Hw(r,i)))}function Hw(n,e){let t;return Ce(n instanceof tt||n instanceof yt),Ce(e instanceof tt||e instanceof yt),t=n instanceof tt?e instanceof tt?function(i,s){return yt.create([i,s],"and")}(n,e):kk(n,e):e instanceof tt?kk(e,n):function(i,s){if(Ce(i.filters.length>0&&s.filters.length>0),du(i)&&du(s))return lR(i,s.getFilters());let o=a1(i)?i:s,a=a1(i)?s:i,c=o.filters.map(u=>Hw(u,a));return yt.create(c,"or")}(n,e),W0(t)}function kk(n,e){if(du(e))return lR(e,n.getFilters());{let t=e.filters.map(r=>Hw(n,r));return yt.create(t,"or")}}function W0(n){if(Ce(n instanceof tt||n instanceof yt),n instanceof tt)return n;let e=n.getFilters();if(e.length===1)return W0(e[0]);if(cR(n))return n;let t=e.map(i=>W0(i)),r=[];return t.forEach(i=>{i instanceof tt?r.push(i):i instanceof yt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:yt.create(r,n.op)}var L1=class{constructor(){this.un=new Uf}addToCollectionParentIndex(e,t){return this.un.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(jr.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(jr.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}},Uf=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new St(Tt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Tt.comparator)).toArray()}};var p0=new Uint8Array(0),V1=class{constructor(e,t){this.databaseId=t,this.cn=new Uf,this.ln=new ki(r=>_a(r),(r,i)=>Gf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.cn.add(t)});let s={collectionId:r,parent:Qn(i)};return Rk(e).put(s)}return K.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[Xk(t),""],!1,!0);return Rk(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==t)break;r.push(Ci(o.parent))}return r})}addFieldIndex(e,t){let r=wf(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(t);delete i.indexId;let s=r.add(i);if(t.indexState){let o=Qc(e);return s.next(a=>{o.put(Sk(a,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let r=wf(e),i=Qc(e),s=Kc(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=wf(e),r=Kc(e),i=Qc(e);return t.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,t){return K.forEach(this.hn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new z0(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){let r=Kc(e),i=!0,s=new Map;return K.forEach(this.hn(t),o=>this.Pn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ze(),a=[];return K.forEach(s,(c,u)=>{se("IndexedDbIndexManager",`Using index ${function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(j=>`${j.fieldPath}:${j.kind}`).join(",")}`}(c)} to execute ${_a(t)}`);let f=function(O,j){let Q=Zx(j);if(Q===void 0)return null;for(let ee of M0(O,Q.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null}(u,c),d=function(O,j){let Q=new Map;for(let ee of oa(j))for(let w of M0(O,ee.fieldPath))switch(w.op){case"==":case"in":Q.set(ee.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return Q.set(ee.fieldPath.canonicalString(),w.value),Array.from(Q.values())}return null}(u,c),p=function(O,j){let Q=[],ee=!0;for(let w of oa(j)){let E=w.kind===0?lk(O,w.fieldPath,O.startAt):fk(O,w.fieldPath,O.startAt);Q.push(E.value),ee&&(ee=E.inclusive)}return new no(Q,ee)}(u,c),g=function(O,j){let Q=[],ee=!0;for(let w of oa(j)){let E=w.kind===0?fk(O,w.fieldPath,O.endAt):lk(O,w.fieldPath,O.endAt);Q.push(E.value),ee&&(ee=E.inclusive)}return new no(Q,ee)}(u,c),_=this.In(c,u,p),m=this.In(c,u,g),y=this.Tn(c,u,d),P=this.En(c.indexId,f,_,p.inclusive,m,g.inclusive,y);return K.forEach(P,F=>r.G(F,t.limit).next(O=>{O.forEach(j=>{let Q=me.fromSegments(j.documentKey);o.has(Q)||(o=o.add(Q),a.push(Q))})}))}).next(()=>a)}return K.resolve(null)})}hn(e){let t=this.ln.get(e);return t||(e.filters.length===0?t=[e]:t=T9(yt.create(e.filters,"and")).map(r=>m1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,t),t)}En(e,t,r,i,s,o,a){let c=(t!=null?t.length:1)*Math.max(r.length,s.length),u=c/(t!=null?t.length:1),f=[];for(let d=0;d<c;++d){let p=t?this.dn(t[d/u]):p0,g=this.An(e,p,r[d%u],i),_=this.Rn(e,p,s[d%u],o),m=a.map(y=>this.An(e,p,y,!0));f.push(...this.createRange(g,_,m))}return f}An(e,t,r,i){let s=new la(e,me.empty(),t,r);return i?s:s.Zt()}Rn(e,t,r,i){let s=new la(e,me.empty(),t,r);return i?s.Zt():s}Pn(e,t){let r=new z0(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2,i=this.hn(t);return K.forEach(i,s=>this.Pn(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new St(un.comparator),f=!1;for(let d of c.filters)for(let p of d.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:u=u.add(p.field));for(let d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(f?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(t)&&i.length>1&&r===2?1:r)}Vn(e,t){let r=new ua;for(let i of oa(e)){let s=t.data.field(i.fieldPath);if(s==null)return null;let o=r.Yt(i.kind);as.vt.It(s,o)}return r.zt()}dn(e){let t=new ua;return as.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){let r=new ua;return as.vt.It(Bw(this.databaseId,t),r.Yt(function(s){let o=oa(s);return o.length===0?0:o[o.length-1].kind}(e))),r.zt()}Tn(e,t,r){if(r===null)return[];let i=[];i.push(new ua);let s=0;for(let o of oa(e)){let a=r[s++];for(let c of i)if(this.fn(t,o.fieldPath)&&Of(a))i=this.gn(i,o,a);else{let u=c.Yt(o.kind);as.vt.It(a,u)}}return this.pn(i)}In(e,t,r){return this.Tn(e,t,r.position)}pn(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].zt();return t}gn(e,t,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new ua;c.seed(a.zt()),as.vt.It(o,c.Yt(t.kind)),s.push(c)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof tt&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=wf(e),i=Qc(e);return(t?r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.U()).next(s=>{let o=[];return K.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(f,d){let p=d?new kf(d.sequenceNumber,new jr(Ea(d.readTime),new me(Ci(d.documentKey)),d.largestBatchId)):kf.empty(),g=f.fields.map(([_,m])=>new ru(un.fromServerFormat(_),m));return new au(f.indexId,f.collectionGroup,g,p)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=wf(e),s=Qc(e);return this.yn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>K.forEach(a,c=>s.put(Sk(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,t){let r=new Map;return K.forEach(t,(i,s)=>{let o=r.get(i.collectionGroup);return(o?K.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),K.forEach(a,c=>this.wn(e,i,c).next(u=>{let f=this.Sn(s,c);return u.isEqual(f)?K.resolve():this.bn(e,s,c,u,f)}))))})}Dn(e,t,r,i){return Kc(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return Kc(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}wn(e,t,r){let i=Kc(e),s=new St(Qs);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(o,a)=>{s=s.add(new la(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(e,t){let r=new St(Qs),i=this.Vn(t,e);if(i==null)return r;let s=Zx(t);if(s!=null){let o=e.data.field(s.fieldPath);if(Of(o))for(let a of o.arrayValue.values||[])r=r.add(new la(t.indexId,e.key,this.dn(a),i))}else r=r.add(new la(t.indexId,e.key,p0,i));return r}bn(e,t,r,i,s){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(c,u,f,d,p){let g=c.getIterator(),_=u.getIterator(),m=qc(g),y=qc(_);for(;m||y;){let P=!1,F=!1;if(m&&y){let O=f(m,y);O<0?F=!0:O>0&&(P=!0)}else m!=null?F=!0:P=!0;P?(d(y),y=qc(_)):F?(p(m),m=qc(g)):(m=qc(g),y=qc(_))}}(i,s,Qs,a=>{o.push(this.Dn(e,t,r,a))},a=>{o.push(this.vn(e,t,r,a))}),K.waitFor(o)}yn(e){let t=1;return Qc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>Qs(o,a)).filter((o,a,c)=>!a||Qs(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Qs(o,e),c=Qs(o,t);if(a===0)i[0]=e.Zt();else if(a>0&&c<0)i.push(o),i.push(o.Zt());else if(c>0)break}i.push(t);let s=[];for(let o=0;o<i.length;o+=2){if(this.Cn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,p0,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,p0,[]];s.push(IDBKeyRange.bound(a,c))}return s}Cn(e,t){return Qs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nk)}getMinOffset(e,t){return K.mapArray(this.hn(t),r=>this.Pn(e,r).next(i=>i||Ee())).next(Nk)}};function Rk(n){return fn(n,"collectionParents")}function Kc(n){return fn(n,"indexEntries")}function wf(n){return fn(n,"indexConfiguration")}function Qc(n){return fn(n,"indexState")}function Nk(n){Ce(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;Pw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new jr(e.readTime,e.documentKey,t)}var Mk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vr=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function jR(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,c=r.J({range:o},(f,d,p)=>(a++,p.delete()));s.push(c.next(()=>{Ce(a===1)}));let u=[];for(let f of t.mutations){let d=eR(e,f.key.path,t.batchId);s.push(i.delete(d)),u.push(f.key)}return K.waitFor(s).next(()=>u)}function G0(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);var q0=class n{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,t,r,i){Ce(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new n(s,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let s=tu(e),o=Xs(e);return o.add({}).next(a=>{Ce(typeof a=="number");let c=new Lf(a,t,r,i),u=function(g,_,m){let y=m.baseMutations.map(F=>U0(g.ct,F)),P=m.mutations.map(F=>U0(g.ct,F));return{userId:_,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:y,mutations:P}}(this.serializer,this.userId,c),f=[],d=new St((p,g)=>Le(p.canonicalString(),g.canonicalString()));for(let p of i){let g=eR(this.userId,p.key.path,a);d=d.add(p.key.path.popLast()),f.push(o.put(u)),f.push(s.put(g,Ij))}return d.forEach(p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),K.waitFor(f).next(()=>c)})}lookupMutationBatch(e,t){return Xs(e).get(t).next(r=>r?(Ce(r.userId===this.userId),ca(this.serializer,r)):null)}Mn(e,t){return this.Fn[t]?K.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.Fn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Xs(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Ce(a.batchId>=r),s=ca(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Xs(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xs(e).U("userMutationsIndex",t).next(r=>r.map(i=>ca(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=_0(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return tu(e).J({range:i},(o,a,c)=>{let[u,f,d]=o,p=Ci(f);if(u===this.userId&&t.path.isEqual(p))return Xs(e).get(d).next(g=>{if(!g)throw Ee();Ce(g.userId===this.userId),s.push(ca(this.serializer,g))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Le),i=[];return t.forEach(s=>{let o=_0(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=tu(e).J({range:a},(u,f,d)=>{let[p,g,_]=u,m=Ci(g);p===this.userId&&s.path.isEqual(m)?r=r.add(_):d.done()});i.push(c)}),K.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=_0(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new St(Le);return tu(e).J({range:o},(c,u,f)=>{let[d,p,g]=c,_=Ci(p);d===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(g)):f.done()}).next(()=>this.xn(e,a))}xn(e,t){let r=[],i=[];return t.forEach(s=>{i.push(Xs(e).get(s).next(o=>{if(o===null)throw Ee();Ce(o.userId===this.userId),r.push(ca(this.serializer,o))}))}),K.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return jR(e._e,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.On(t.batchId)}),K.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return K.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return tu(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=Ci(s[1]);i.push(c)}else a.done()}).next(()=>{Ce(i.length===0)})})}containsKey(e,t){return $R(e,this.userId,t)}Nn(e){return HR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function $R(n,e,t){let r=_0(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return tu(n).J({range:s,H:!0},(a,c,u)=>{let[f,d,p]=a;f===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function Xs(n){return fn(n,"mutations")}function tu(n){return fn(n,"documentMutations")}function HR(n){return fn(n,"mutationQueues")}var _u=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var B1=class{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next(t=>{let r=new _u(t.highestTargetId);return t.highestTargetId=r.next(),this.Qn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(t=>Re.fromTimestamp(new Ht(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Qn(e,i)))}addTargetData(e,t){return this.Kn(e,t).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(t,r),this.Qn(e,r))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Xc(e).delete(t.targetId)).next(()=>this.qn(e)).next(r=>(Ce(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,t,r){let i=0,s=[];return Xc(e).J((o,a)=>{let c=Sf(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>K.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Xc(e).J((r,i)=>{let s=Sf(i);t(s)})}qn(e){return Pk(e).get("targetGlobalKey").next(t=>(Ce(t!==null),t))}Qn(e,t){return Pk(e).put("targetGlobalKey",t)}Kn(e,t){return Xc(e).put(LR(this.serializer,t))}$n(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=_a(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Xc(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=Sf(a);Gf(t,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){let i=[],s=Ys(e);return t.forEach(o=>{let a=Qn(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),K.waitFor(i)}removeMatchingKeys(e,t,r){let i=Ys(e);return K.forEach(t,s=>{let o=Qn(s.path);return K.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){let r=Ys(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ys(e),s=ze();return i.J({range:r,H:!0},(o,a,c)=>{let u=Ci(o[1]),f=new me(u);s=s.add(f)}).next(()=>s)}containsKey(e,t){let r=Qn(t.path),i=IDBKeyRange.bound([r],[Xk(r)],!1,!0),s=0;return Ys(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,t){return Xc(e).get(t).next(r=>r?Sf(r):null)}};function Xc(n){return fn(n,"targets")}function Pk(n){return fn(n,"targetGlobal")}function Ys(n){return fn(n,"targetDocuments")}function Ok([n,e],[t,r]){let i=Le(n,t);return i===0?Le(e,r):i}var U1=class{constructor(e){this.Un=e,this.buffer=new St(Ok),this.Wn=0}Gn(){return++this.Wn}zn(e){let t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Ok(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},j1=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>B(this,null,function*(){this.jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){co(t)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):yield Ta(t)}yield this.Hn(3e5)}))}},$1=class{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(ri.oe);let r=new U1(t);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Mk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mk):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,i,s,o,a,c,u,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Yc()<=Xe.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}};function S9(n,e){return new $1(n,e)}var H1=class{constructor(e,t){this.db=e,this.garbageCollector=S9(this,t)}Yn(e){let t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,(r,i)=>t(i))}addReference(e,t,r){return g0(e,r)}removeReference(e,t,r){return g0(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return g0(e,t)}nr(e,t){return function(i,s){let o=!1;return HR(i).Y(a=>$R(i,a,s).next(c=>(c&&(o=!0),K.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.tr(e,(o,a)=>{if(a<=t){let c=this.nr(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Re.min()),Ys(e).delete(function(d){return[0,Qn(d.path)]}(o))))});i.push(c)}}).next(()=>K.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return g0(e,t)}tr(e,t){let r=Ys(e),i,s=ri.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==ri.oe&&t(new me(Ci(i)),s),s=u,i=c):s=ri.oe}).next(()=>{s!==ri.oe&&t(new me(Ci(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function g0(n,e){return Ys(n).put(function(r,i){return{targetId:0,path:Qn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}var K0=class{constructor(){this.changes=new ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var z1=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sa(e).put(r)}removeEntry(e,t,r){return sa(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],$0(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.rr(e,r)))}getEntry(e,t){let r=Dn.newInvalidDocument(t);return sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ef(t))},(i,s)=>{r=this.ir(t,s)}).next(()=>r)}sr(e,t){let r={size:0,document:Dn.newInvalidDocument(t)};return sa(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ef(t))},(i,s)=>{r={document:this.ir(t,s),size:G0(s)}}).next(()=>r)}getEntries(e,t){let r=Ir();return this._r(e,t,(i,s)=>{let o=this.ir(i,s);r=r.insert(i,o)}).next(()=>r)}ar(e,t){let r=Ir(),i=new Ot(me.comparator);return this._r(e,t,(s,o)=>{let a=this.ir(s,o);r=r.insert(s,a),i=i.insert(s,G0(o))}).next(()=>({documents:r,ur:i}))}_r(e,t,r){if(t.isEmpty())return K.resolve();let i=new St(Vk);t.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(Ef(i.first()),Ef(i.last())),o=i.getIterator(),a=o.getNext();return sa(e).J({index:"documentKeyIndex",range:s},(c,u,f)=>{let d=me.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&Vk(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?f.$(Ef(a)):f.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){let o=t.path,a=[o.popLast().toArray(),o.lastSegment(),$0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sa(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let f=Ir();for(let d of u){let p=this.ir(me.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);p.isFoundDocument()&&(qf(t,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f})}getAllFromCollectionGroup(e,t,r,i){let s=Ir(),o=Lk(t,r),a=Lk(t,jr.max());return sa(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,f)=>{let d=this.ir(me.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&f.done()}).next(()=>s)}newChangeBuffer(e){return new W1(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fk(e).get("remoteDocumentGlobalKey").next(t=>(Ce(!!t),t))}rr(e,t){return Fk(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){let r=E9(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return Dn.newInvalidDocument(e)}};function zR(n){return new z1(n)}var W1=class extends K0{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new ki(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new St((s,o)=>Le(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.lr.get(s);if(t.push(this.cr.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=Ik(this.cr.serializer,o);i=i.add(s.path.popLast());let u=G0(c);r+=u-a.size,t.push(this.cr.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=Ik(this.cr.serializer,o.convertToNoDocument(Re.min()));t.push(this.cr.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.cr.updateMetadata(e,r)),K.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next(r=>(this.lr.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.cr.ar(e,t).next(({documents:r,ur:i})=>(i.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function Fk(n){return fn(n,"remoteDocumentGlobal")}function sa(n){return fn(n,"remoteDocumentsV14")}function Ef(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Lk(n,e){let t=e.documentKey.path.toArray();return[n,$0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Vk(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}var G1=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Q0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Af(r.mutation,i,ii.empty(),Ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ze()){let i=bi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Tf();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=bi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ze()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ir(),o=Df(),a=function(){return Df()}();return t.forEach((c,u)=>{let f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ri)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Af(f.mutation,u,f.mutation.getFieldMask(),Ht.now())):o.set(u.key,ii.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>o.set(u,f)),t.forEach((u,f)=>{var d;return a.set(u,new G1(f,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Df(),i=new Ot((o,a)=>o-a),s=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let f=r.get(c)||ii.empty();f=a.applyToLocalView(u,f),r.set(c,f);let d=(i.get(a.batchId)||ze()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,f=c.value,d=vR();f.forEach(p=>{if(!s.has(p)){let g=IR(t.get(p),r.get(p));g!==null&&d.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return me.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Gj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):K.resolve(bi()),a=-1,c=s;return o.next(u=>K.forEach(u,(f,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(f)?K.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ze())).next(f=>({batchId:a,changes:mR(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=Tf();return this.indexManager.getCollectionParents(e,s).next(a=>K.forEach(a,c=>{let u=function(d,p){return new hu(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((d,p)=>{o=o.insert(d,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{let f=u.getKey();o.get(f)===null&&(o=o.insert(f,Dn.newInvalidDocument(f)))});let a=Tf();return o.forEach((c,u)=>{let f=s.get(c);f!==void 0&&Af(f.mutation,u,ii.empty(),Ht.now()),qf(t,u)&&(a=a.insert(c,u))}),a})}};var q1=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return K.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:VR(i.bundledQuery),readTime:Xn(i.readTime)}}(t)),K.resolve()}};var K1=class{constructor(){this.overlays=new Ot(me.comparator),this.Ir=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){let r=bi();return K.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),K.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){let i=bi(),s=t.length+1,o=new me(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return K.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ot((u,f)=>u-f),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=bi(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let a=bi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return K.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Vf(t,r));let s=this.Ir.get(t);s===void 0&&(s=ze(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var Q1=class{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}};var jf=class{constructor(){this.Tr=new St(Yt.Er),this.dr=new St(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Yt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Yt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new me(new Tt([])),r=new Yt(t,e),i=new Yt(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new me(new Tt([])),r=new Yt(t,e),i=new Yt(t,e+1),s=ze();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Yt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Yt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return me.comparator(e.key,t.key)||Le(e.wr,t.wr)}static Ar(e,t){return Le(e.wr,t.wr)||me.comparator(e.key,t.key)}};var X1=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new St(Yt.Er)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Lf(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,t){return K.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return K.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),K.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Le);return t.forEach(i=>{let s=new Yt(i,0),o=new Yt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),K.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;me.isDocumentKey(s)||(s=s.child(""));let o=new Yt(new me(s),0),a=new St(Le);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),K.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ce(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return K.forEach(t.mutations,i=>{let s=new Yt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Yt(t,0),i=this.br.firstAfterOrEqual(r);return K.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Y1=class{constructor(e){this.Mr=e,this.docs=function(){return new Ot(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dn.newInvalidDocument(i))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ir(),o=t.path,a=new me(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:f}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Pw(Yk(f),r)<=0||(i.has(f.key)||qf(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return K.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}Or(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new J1(this)}getSize(e){return K.resolve(this.size)}},J1=class extends K0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Z1=class{constructor(e){this.persistence=e,this.Nr=new ki(t=>_a(t),Gf),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new jf,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),K.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Kn(t),K.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),K.waitFor(s).next(()=>i)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),K.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),K.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this.Br.containsKey(t))}};var X0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new ri(0),this.Kr=!1,this.Kr=!0,this.$r=new Q1,this.referenceDelegate=e(this),this.Ur=new Z1(this),this.indexManager=new L1,this.remoteDocumentCache=function(i){return new Y1(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new j0(t),this.Gr=new q1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new K1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new X1(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);let i=new ew(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return K.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},ew=class extends C0{constructor(e){super(),this.currentSequenceNumber=e}},Y0=class n{constructor(e){this.persistence=e,this.Jr=new jf,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),K.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,r=>{let i=me.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return K.or([()=>K.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var tw=class{constructor(e){this.serializer=e}O(e,t,r,i){let s=new b0("createOrUpgrade",t);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ek,{unique:!0}),c.createObjectStore("documentMutations")}(e),Bk(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=K.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),Bk(e)),o=o.next(()=>function(c){let u=c.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",f)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(f=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ek,{unique:!0});let d=u.store("mutations"),p=f.map(g=>d.put(g));return K.waitFor(p)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.ni(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ri(s)))),r<7&&i>=7&&(o=o.next(()=>this.ii(s))),r<8&&i>=8&&(o=o.next(()=>this.si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.oi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:Oj});u.createIndex("collectionPathOverlayIndex",Fj,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Lj,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:Tj});u.createIndex("documentKeyIndex",Sj),u.createIndex("collectionGroupIndex",Cj)}(e)).next(()=>this._i(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ai(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:Rj}).createIndex("sequenceNumberIndex",Nj,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:Mj}).createIndex("documentKeyIndex",Pj,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{t.objectStore("indexState").clear()}).next(()=>{t.objectStore("indexEntries").clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(c){c.createObjectStore("globals",{keyPath:"name"})})(e)})),o}ri(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=G0(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.U().next(i=>K.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>K.forEach(a,c=>{Ce(c.userId===s.userId);let u=ca(this.serializer,c);return jR(e,s.userId,u).next(()=>{})}))}))}ii(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new Tt(o),u=function(d){return[0,Qn(d)]}(c);s.push(t.get(u).next(f=>f?K.resolve():(d=>t.put({targetId:0,path:Qn(d),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>K.waitFor(s))})}si(e,t){e.createObjectStore("collectionParents",{keyPath:kj});let r=t.store("collectionParents"),i=new Uf,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Qn(c)})}};return t.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new Tt(o);return s(c.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([o,a,c],u)=>{let f=Ci(a);return s(f.popLast())}))}oi(e){let t=e.store("targets");return t.J((r,i)=>{let s=Sf(i),o=LR(this.serializer,s);return t.put(o)})}_i(e,t){let r=t.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=t.store("remoteDocumentsV14"),c=function(d){return d.document?new me(Tt.fromString(d.document.name).popFirst(5)):d.noDocument?me.fromSegments(d.noDocument.path):d.unknownDocument?me.fromSegments(d.unknownDocument.path):Ee()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>K.waitFor(i))}ai(e,t){let r=t.store("mutations"),i=zR(this.serializer),s=new X0(Y0.Zr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var u;let f=(u=a.get(c.userId))!==null&&u!==void 0?u:ze();ca(this.serializer,c).keys().forEach(d=>f=f.add(d)),a.set(c.userId,f)}),K.forEach(a,(c,u)=>{let f=new cn(u),d=H0.lt(this.serializer,f),p=s.getIndexManager(f),g=q0.lt(f,this.serializer,p,s.referenceDelegate);return new Q0(i,g,d,p).recalculateAndSaveOverlaysForDocumentKeys(new Nf(t,ri.oe),c).next()})})}};function Bk(n){n.createObjectStore("targetDocuments",{keyPath:Dj}).createIndex("documentTargetsIndex",Aj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bj,{unique:!0}),n.createObjectStore("targetGlobal")}var Hx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nw=class n{constructor(e,t,r,i,s,o,a,c,u,f,d=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ui=s,this.window=o,this.document=a,this.ci=u,this.li=f,this.hi=d,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!n.D())throw new ge(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new H1(this,i),this.Ai=t+"main",this.serializer=new j0(c),this.Ri=new cu(this.Ai,this.hi,new tw(this.serializer)),this.$r=new k1,this.Ur=new B1(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zR(this.serializer),this.Gr=new A1,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,f===!1&&Kn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ge(te.FAILED_PRECONDITION,Hx);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new ri(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=t=>B(this,null,function*(){if(this.started)return e(t)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(t=>B(this,null,function*(){t.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(()=>B(this,null,function*(){this.started&&(yield this.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>m0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(t=>{t||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(t=>this.isPrimary&&!t?this.bi(e).next(()=>!1):!!t&&this.Di(e).next(()=>!0))).catch(e=>{if(co(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return If(e).get("owner").next(t=>K.resolve(this.vi(t)))}Ci(e){return m0(e).delete(this.clientId)}Fi(){return B(this,null,function*(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=fn(t,"clientMetadata");return r.U().next(i=>{let s=this.xi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return K.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Vi)for(let t of e)this.Vi.removeItem(this.Oi(t.clientId))}})}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?K.resolve(!0):If(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new ge(te.FAILED_PRECONDITION,Hx);return!1}}return!(!this.networkEnabled||!this.inForeground)||m0(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){return B(this,null,function*(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),yield this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Nf(e,ri.oe);return this.bi(t).next(()=>this.Ci(t))}),this.Ri.close(),this.qi()})}xi(e,t){return e.filter(r=>this.Mi(r.updateTimeMs,t)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>m0(e).U().next(t=>this.xi(t,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return q0.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new V1(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return H0.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,r){se("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",s=function(c){return c===17?Uj:c===16?Bj:c===15?Fw:c===14?rR:c===13?nR:c===12?Vj:c===11?tR:void Ee()}(this.hi),o;return this.Ri.runTransaction(e,i,s,a=>(o=new Nf(a,this.Qr?this.Qr.next():ri.oe),t==="readwrite-primary"?this.wi(o).next(c=>!!c||this.Si(o)).next(c=>{if(!c)throw Kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ge(te.FAILED_PRECONDITION,Jk);return r(o)}).next(c=>this.Di(o).next(()=>c)):this.Ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(e){return If(e).get("owner").next(t=>{if(t!==null&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)&&!this.vi(t)&&!(this.li||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ge(te.FAILED_PRECONDITION,Hx)})}Di(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return If(e).put("owner",t)}static D(){return cu.D()}bi(e){let t=If(e);return t.get("owner").next(r=>this.vi(r)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):K.resolve())}Mi(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(Kn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();let t=/(?:Version|Mobile)\/1[456]/;rx()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{let r=((t=this.Vi)===null||t===void 0?void 0:t.getItem(this.Oi(e)))!==null;return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Kn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Kn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function If(n){return fn(n,"owner")}function m0(n){return fn(n,"clientMetadata")}function C9(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var rw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=ze(),i=ze();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var iw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var J0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rx()?8:Zk(Bn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new iw;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Yc()<=Xe.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Jc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Yc()<=Xe.DEBUG&&se("QueryEngine","Query:",Jc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Yc()<=Xe.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Jc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):K.resolve())}Yi(e,t){if(dk(t))return K.resolve(null);let r=Ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=v1(t,null,"F"),r=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ze(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,v1(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return dk(t)||i.isEqual(Re.min())?K.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?K.resolve(null):(Yc()<=Xe.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Jc(t)),this.rs(e,o,t,xj(i,-1)).next(a=>a))})}ts(e,t){let r=new St(pR(e));return t.forEach((i,s)=>{qf(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Yc()<=Xe.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Jc(t)),this.Ji.getDocumentsMatchingQuery(e,t,jr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var sw=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ot(Le),this._s=new ki(s=>_a(s),Gf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function WR(n,e,t,r){return new sw(n,e,t,r)}function GR(n,e){return B(this,null,function*(){let t=Oe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ze();for(let u of i){o.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}for(let u of s){a.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function b9(n,e){let t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,f){let d=u.batch,p=d.keys(),g=K.resolve();return p.forEach(_=>{g=g.next(()=>f.getEntry(c,_)).next(m=>{let y=u.docVersions.get(_);Ce(y!==null),m.version.compareTo(y)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),f.addEntry(m)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ze();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function qR(n){let e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function D9(n,e){let t=Oe(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((f,d)=>{let p=i.get(d);if(!p)return;a.push(t.Ur.removeMatchingKeys(s,f.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(s,f.addedDocuments,d)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(ln.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(d,g),function(m,y,P){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(p,g,f)&&a.push(t.Ur.updateTargetData(s,g))});let c=Ir(),u=ze();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),a.push(A9(s,o,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(Re.min())){let f=t.Ur.getLastRemoteSnapshotVersion(s).next(d=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(f)}return K.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.os=i,s))}function A9(n,e,t){let r=ze(),i=ze();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ir();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Re.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function k9(n,e){let t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R9(n,e){let t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,K.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new vu(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function ow(n,e,t){return B(this,null,function*(){let r=Oe(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!co(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Uk(n,e,t){let r=Oe(n),i=Re.min(),s=ze();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,f){let d=Oe(c),p=d._s.get(f);return p!==void 0?K.resolve(d.os.get(p)):d.Ur.getTargetData(u,f)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:Re.min(),t?s:ze())).next(a=>(N9(r,Kj(e),a),{documents:a,Ts:s})))}function N9(n,e,t){let r=n.us.get(e)||Re.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Z0=class{constructor(){this.activeTargetIds=e9()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eg=class{constructor(){this.so=new Z0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Z0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var aw=class{_o(e){}shutdown(){}};var tg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var v0=null;function zx(){return v0===null?v0=function(){return 268435456+Math.round(2147483648*Math.random())}():v0++,"0x"+v0.toString(16)}var M9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var cw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Un="WebChannelConnection",uw=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=zx(),c=this.xo(t,r.toUriEncodedString());se("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,i).then(f=>(se("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw ma("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",c,"request:",i),f})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=M9[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=zx();return new Promise((o,a)=>{let c=new Lx;c.setWithCredentials(!0),c.listenOnce(Vx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yf.NO_ERROR:let f=c.getResponseJson();se(Un,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case yf.TIMEOUT:se(Un,`RPC '${e}' ${s} timed out`),a(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case yf.HTTP_ERROR:let d=c.getStatus();if(se(Un,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);let g=p?.error;if(g&&g.status&&g.message){let _=function(y){let P=y.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(P)>=0?P:te.UNKNOWN}(g.status);a(new ge(_,g.message))}else a(new ge(te.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{se(Un,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);se(Un,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let i=zx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jx(),a=Ux(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let f=s.join("");se(Un,`Creating RPC '${e}' stream ${i}: ${f}`,c);let d=o.createWebChannel(f,c),p=!1,g=!1,_=new cw({Io:y=>{g?se(Un,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(p||(se(Un,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),se(Un,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),m=(y,P,F)=>{y.listen(P,O=>{try{F(O)}catch(j){setTimeout(()=>{throw j},0)}})};return m(d,Gc.EventType.OPEN,()=>{g||(se(Un,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),m(d,Gc.EventType.CLOSE,()=>{g||(g=!0,se(Un,`RPC '${e}' stream ${i} transport closed`),_.So())}),m(d,Gc.EventType.ERROR,y=>{g||(g=!0,ma(Un,`RPC '${e}' stream ${i} transport errored:`,y),_.So(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),m(d,Gc.EventType.MESSAGE,y=>{var P;if(!g){let F=y.data[0];Ce(!!F);let O=F,j=O.error||((P=O[0])===null||P===void 0?void 0:P.error);if(j){se(Un,`RPC '${e}' stream ${i} received error:`,j);let Q=j.status,ee=function(I){let C=Xt[I];if(C!==void 0)return SR(C)}(Q),w=j.message;ee===void 0&&(ee=te.INTERNAL,w="Unknown error status: "+Q+" with message "+j.message),g=!0,_.So(new ge(ee,w)),d.close()}else se(Un,`RPC '${e}' stream ${i} received:`,F),_.bo(F)}}),m(a,Bx.STAT_EVENT,y=>{y.stat===h0.PROXY?se(Un,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===h0.NOPROXY&&se(Un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}};function P9(){return typeof window<"u"?window:null}function E0(){return typeof document<"u"?document:null}function Ig(n){return new T1(n,!0)}var ng=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var rg=class{constructor(e,t,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ng(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return B(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return B(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return B(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Kn(t.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new ge(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>B(this,null,function*(){this.state=0,this.start()}))}I_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lw=class extends rg{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=g9(this.serializer,e),r=function(s){if(!("targetChange"in s))return Re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Re.min():o.readTime?Xn(o.readTime):Re.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=b1(this.serializer),t.addTarget=function(s,o){let a,c=o.target;if(a=N0(c)?{documents:RR(s,c)}:{query:NR(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=CR(s,o.resumeToken);let u=S1(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Re.min())>0){a.readTime=mu(s,o.snapshotVersion.toTimestamp());let u=S1(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=v9(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=b1(this.serializer),t.removeTarget=e,this.a_(t)}},fw=class extends rg{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=m9(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=b1(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>U0(this.serializer,r))};this.a_(t)}};var dw=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,C1(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(te.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,C1(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(te.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},hw=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Kn(t),this.D_=!1):se("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var pw=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>B(this,null,function*(){Sa(this)&&(se("RemoteStore","Restarting streams for network reachability change."),yield function(c){return B(this,null,function*(){let u=Oe(c);u.L_.add(4),yield Kf(u),u.q_.set("Unknown"),u.L_.delete(4),yield Tg(u)})}(this))}))}),this.q_=new hw(r,i)}};function Tg(n){return B(this,null,function*(){if(Sa(n))for(let e of n.B_)yield e(!0)})}function Kf(n){return B(this,null,function*(){for(let e of n.B_)yield e(!1)})}function KR(n,e){let t=Oe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),qw(t)?Gw(t):Iu(t).r_()&&Ww(t,e))}function zw(n,e){let t=Oe(n),r=Iu(t);t.N_.delete(e),r.r_()&&QR(t,e),t.N_.size===0&&(r.r_()?r.o_():Sa(t)&&t.q_.set("Unknown"))}function Ww(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Iu(n).A_(e)}function QR(n,e){n.Q_.xe(e),Iu(n).R_(e)}function Gw(n){n.Q_=new I1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Iu(n).start(),n.q_.v_()}function qw(n){return Sa(n)&&!Iu(n).n_()&&n.N_.size>0}function Sa(n){return Oe(n).L_.size===0}function XR(n){n.Q_=void 0}function O9(n){return B(this,null,function*(){n.q_.set("Online")})}function F9(n){return B(this,null,function*(){n.N_.forEach((e,t)=>{Ww(n,e)})})}function L9(n,e){return B(this,null,function*(){XR(n),qw(n)?(n.q_.M_(e),Gw(n)):n.q_.set("Unknown")})}function V9(n,e,t){return B(this,null,function*(){if(n.q_.set("Online"),e instanceof L0&&e.state===2&&e.cause)try{yield function(i,s){return B(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ig(n,r)}else if(e instanceof iu?n.Q_.Ke(e):e instanceof F0?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Re.min()))try{let r=yield qR(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let f=s.N_.get(u);f&&s.N_.set(u,f.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let f=s.N_.get(c);if(!f)return;s.N_.set(c,f.withResumeToken(ln.EMPTY_BYTE_STRING,f.snapshotVersion)),QR(s,c);let d=new vu(f.target,c,u,f.sequenceNumber);Ww(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield ig(n,r)}})}function ig(n,e,t){return B(this,null,function*(){if(!co(e))throw e;n.L_.add(1),yield Kf(n),n.q_.set("Offline"),t||(t=()=>qR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>B(this,null,function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Tg(n)}))})}function YR(n,e){return e().catch(t=>ig(n,t,e))}function Qf(n){return B(this,null,function*(){let e=Oe(n),t=oo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B9(e);)try{let i=yield k9(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,U9(e,i)}catch(i){yield ig(e,i)}JR(e)&&ZR(e)})}function B9(n){return Sa(n)&&n.O_.length<10}function U9(n,e){n.O_.push(e);let t=oo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function JR(n){return Sa(n)&&!oo(n).n_()&&n.O_.length>0}function ZR(n){oo(n).start()}function j9(n){return B(this,null,function*(){oo(n).p_()})}function $9(n){return B(this,null,function*(){let e=oo(n);for(let t of n.O_)e.m_(t.mutations)})}function H9(n,e,t){return B(this,null,function*(){let r=n.O_.shift(),i=x1.from(r,e,t);yield YR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Qf(n)})}function z9(n,e){return B(this,null,function*(){e&&oo(n).V_&&(yield function(r,i){return B(this,null,function*(){if(function(o){return a9(o)&&o!==te.ABORTED}(i.code)){let s=r.O_.shift();oo(r).s_(),yield YR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Qf(r)}})}(n,e)),JR(n)&&ZR(n)})}function jk(n,e){return B(this,null,function*(){let t=Oe(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");let r=Sa(t);t.L_.add(3),yield Kf(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Tg(t)})}function W9(n,e){return B(this,null,function*(){let t=Oe(n);e?(t.L_.delete(2),yield Tg(t)):e||(t.L_.add(2),yield Kf(t),t.q_.set("Unknown"))})}function Iu(n){return n.K_||(n.K_=function(t,r,i){let s=Oe(t);return s.w_(),new lw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:O9.bind(null,n),Ro:F9.bind(null,n),mo:L9.bind(null,n),d_:V9.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.K_.s_(),qw(n)?Gw(n):n.q_.set("Unknown")):(yield n.K_.stop(),XR(n))}))),n.K_}function oo(n){return n.U_||(n.U_=function(t,r,i){let s=Oe(t);return s.w_(),new fw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j9.bind(null,n),mo:z9.bind(null,n),f_:$9.bind(null,n),g_:H9.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.U_.s_(),yield Qf(n)):(yield n.U_.stop(),n.O_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var gw=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Kw(n,e){if(Kn("AsyncQueue",`${e}: ${n}`),co(n))return new ge(te.UNAVAILABLE,`${e}: ${n}`);throw n}var sg=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||me.comparator(t.key,r.key):(t,r)=>me.comparator(t.key,r.key),this.keyedMap=Tf(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var og=class{constructor(){this.W_=new Ot(me.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},yu=class n{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,sg.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var mw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},vw=class{constructor(){this.queries=$k(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Oe(t),s=i.queries;i.queries=$k(),s.forEach((o,a)=>{for(let c of a.j_)c.onError(r)})})(this,new ge(te.ABORTED,"Firestore shutting down"))}};function $k(){return new ki(n=>hR(n),Eg)}function e2(n,e){return B(this,null,function*(){let t=Oe(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new mw,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=Kw(o,`Initialization of query '${Jc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Qw(t)})}function t2(n,e){return B(this,null,function*(){let t=Oe(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function G9(n,e){let t=Oe(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Qw(t)}function q9(n,e,t){let r=Oe(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function Qw(n){n.Y_.forEach(e=>{e.next()})}var _w,Hk;(Hk=_w||(_w={})).ea="default",Hk.Cache="cache";var ag=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_w.Cache}};var cg=class{constructor(e){this.key=e}},ug=class{constructor(e){this.key=e}},yw=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=pR(e),this.Ra=new sg(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new og,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{let p=i.get(f),g=qf(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),m=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),y=!1;p&&g?p.data.isEqual(g.data)?_!==m&&(r.track({type:3,doc:g}),y=!0):this.ga(p,g)||(r.track({type:2,doc:g}),y=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),y=!0):p&&!g&&(r.track({type:1,doc:p}),y=!0,(c||u)&&(a=!0)),y&&(g?(o=o.add(g),s=m?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,d)=>function(g,_){let m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return m(g)-m(_)}(f.type,d.type)||this.Aa(f.doc,d.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new yu(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new og,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ze(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new ug(r))}),this.da.forEach(r=>{e.has(r)||t.push(new cg(r))}),t}ba(e){this.Ta=e.Ts,this.da=ze();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return yu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},xw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},ww=class{constructor(e){this.key=e,this.va=!1}},Ew=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ki(a=>hR(a),Eg),this.Ma=new Map,this.xa=new Set,this.Oa=new Ot(me.comparator),this.Na=new Map,this.La=new jf,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function K9(n,e,t=!0){return B(this,null,function*(){let r=a2(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield n2(r,e,t,!0),i})}function Q9(n,e){return B(this,null,function*(){let t=a2(n);yield n2(t,e,!0,!1)})}function n2(n,e,t,r){return B(this,null,function*(){let i=yield R9(n.localStore,Ur(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield X9(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&KR(n.remoteStore,i),a})}function X9(n,e,t,r,i){return B(this,null,function*(){n.Ka=(d,p,g)=>function(m,y,P,F){return B(this,null,function*(){let O=y.view.ma(P);O.ns&&(O=yield Uk(m.localStore,y.query,!1).then(({documents:w})=>y.view.ma(w,O)));let j=F&&F.targetChanges.get(y.targetId),Q=F&&F.targetMismatches.get(y.targetId)!=null,ee=y.view.applyChanges(O,m.isPrimaryClient,j,Q);return Wk(m,y.targetId,ee.wa),ee.snapshot})}(n,d,p,g);let s=yield Uk(n.localStore,e,!0),o=new yw(e,s.Ts),a=o.ma(s.documents),c=Bf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);Wk(n,t,u.wa);let f=new xw(e,t,o);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function Y9(n,e,t){return B(this,null,function*(){let r=Oe(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Eg(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ow(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zw(r.remoteStore,i.targetId),Iw(r,i.targetId)}).catch(Ta))):(Iw(r,i.targetId),yield ow(r.localStore,i.targetId,!0))})}function J9(n,e){return B(this,null,function*(){let t=Oe(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zw(t.remoteStore,r.targetId))})}function Z9(n,e,t){return B(this,null,function*(){let r=c2(n);try{let i=yield function(o,a){let c=Oe(o),u=Ht.now(),f=a.reduce((g,_)=>g.add(_.key),ze()),d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=Ir(),m=ze();return c.cs.getEntries(g,f).next(y=>{_=y,_.forEach((P,F)=>{F.isValidDocument()||(m=m.add(P))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(y=>{d=y;let P=[];for(let F of a){let O=o9(F,d.get(F.key).overlayedDocument);O!=null&&P.push(new Ri(F.key,O,aR(O.value.mapValue),si.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,P,a)}).next(y=>{p=y;let P=y.applyToLocalDocumentSet(d,m);return c.documentOverlayCache.saveOverlays(g,y.batchId,P)})}).then(()=>({batchId:p.batchId,changes:mR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ot(Le)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Xf(r,i.changes),yield Qf(r.remoteStore)}catch(i){let s=Kw(i,"Failed to persist write");t.reject(s)}})}function r2(n,e){return B(this,null,function*(){let t=Oe(n);try{let r=yield D9(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(Ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ce(o.va):i.removedDocuments.size>0&&(Ce(o.va),o.va=!1))}),yield Xf(t,r,e)}catch(r){yield Ta(r)}})}function zk(n,e,t){let r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Oe(o);c.onlineState=a;let u=!1;c.queries.forEach((f,d)=>{for(let p of d.j_)p.Z_(a)&&(u=!0)}),u&&Qw(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function e$(n,e,t){return B(this,null,function*(){let r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ot(me.comparator);o=o.insert(s,Dn.newNoDocument(s,Re.min()));let a=ze().add(s),c=new O0(Re.min(),new Map,new Ot(Le),o,a);yield r2(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),Xw(r)}else yield ow(r.localStore,e,!1).then(()=>Iw(r,e,t)).catch(Ta)})}function t$(n,e){return B(this,null,function*(){let t=Oe(n),r=e.batch.batchId;try{let i=yield b9(t.localStore,e);s2(t,r,null),i2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xf(t,i)}catch(i){yield Ta(i)}})}function n$(n,e,t){return B(this,null,function*(){let r=Oe(n);try{let i=yield function(o,a){let c=Oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ce(d!==null),f=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);s2(r,e,t),i2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xf(r,i)}catch(i){yield Ta(i)}})}function i2(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function s2(n,e,t){let r=Oe(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Iw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||o2(n,r)})}function o2(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(zw(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),Xw(n))}function Wk(n,e,t){for(let r of t)r instanceof cg?(n.La.addReference(r.key,e),r$(n,r)):r instanceof ug?(se("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||o2(n,r.key)):Ee()}function r$(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(se("SyncEngine","New document in limbo: "+t),n.xa.add(r),Xw(n))}function Xw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new me(Tt.fromString(e)),r=n.qa.next();n.Na.set(r,new ww(t)),n.Oa=n.Oa.insert(t,r),KR(n.remoteStore,new vu(Ur(wg(t.path)),r,"TargetPurposeLimboResolution",ri.oe))}}function Xf(n,e,t){return B(this,null,function*(){let r=Oe(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,t).then(u=>{var f;if((u||t)&&r.isPrimaryClient){let d=u?!u.fromCache:(f=t?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);let d=rw.Wi(c.targetId,u);s.push(d)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(c,u){return B(this,null,function*(){let f=Oe(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,p=>K.forEach(p.$i,g=>f.persistence.referenceDelegate.addReference(d,p.targetId,g)).next(()=>K.forEach(p.Ui,g=>f.persistence.referenceDelegate.removeReference(d,p.targetId,g)))))}catch(d){if(!co(d))throw d;se("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let p=d.targetId;if(!d.fromCache){let g=f.os.get(p),_=g.snapshotVersion,m=g.withLastLimboFreeSnapshotVersion(_);f.os=f.os.insert(p,m)}}})}(r.localStore,s))})}function i$(n,e){return B(this,null,function*(){let t=Oe(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());let r=yield GR(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(c=>{c.reject(new ge(te.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xf(t,r.hs)}})}function s$(n,e){let t=Oe(n),r=t.Na.get(e);if(r&&r.va)return ze().add(r.key);{let i=ze(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function a2(n){let e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e$.bind(null,e),e.Ca.d_=G9.bind(null,e.eventManager),e.Ca.$a=q9.bind(null,e.eventManager),e}function c2(n){let e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n$.bind(null,e),e}var Tw=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return B(this,null,function*(){this.serializer=Ig(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return WR(this.persistence,new J0,t.initialUser,this.serializer)}Ga(t){return new X0(Y0.Zr,this.serializer)}Wa(t){return new eg}terminate(){return B(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Sw=class n extends Tw{constructor(e,t,r){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return B(this,null,function*(){yield wm(n.prototype,this,"initialize").call(this,e),yield this.Ja.initialize(this,e),yield c2(this.Ja.syncEngine),yield Qf(this.Ja.remoteStore),yield this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}za(e){return WR(this.persistence,new J0,e.initialUser,this.serializer)}ja(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new j1(r,e.asyncQueue,t)}Ha(e,t){let r=new r1(t,this.persistence);return new n1(e.asyncQueue,r)}Ga(e){let t=C9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new nw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,P9(),E0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new eg}};var u2=(()=>{class n{initialize(t,r){return B(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zk(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i$.bind(null,this.syncEngine),yield W9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new vw}()}createDatastore(t){let r=Ig(t.databaseInfo.databaseId),i=function(o){return new uw(o)}(t.databaseInfo);return function(o,a,c,u){return new dw(o,a,c,u)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,c){return new pw(i,s,o,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>zk(this.syncEngine,r,0),function(){return tg.D()?new tg:new aw}())}createSyncEngine(t,r){return function(s,o,a,c,u,f,d){let p=new Ew(s,o,a,c,u,f);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return B(this,null,function*(){var t,r;yield function(s){return B(this,null,function*(){let o=Oe(s);se("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Kf(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var lg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Cw=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=T0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>B(this,null,function*(){se("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Kw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Wx(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>B(this,null,function*(){r.isEqual(i)||(yield GR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function Gk(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield o$(n);se("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jk(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>jk(e.remoteStore,i)),n._onlineComponents=e})}function o$(n){return B(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wx(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),yield Wx(n,new Tw)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield Wx(n,new Tw);return n._offlineComponents})}function l2(n){return B(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gk(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield Gk(n,new u2))),n._onlineComponents})}function a$(n){return l2(n).then(e=>e.syncEngine)}function f2(n){return B(this,null,function*(){let e=yield l2(n),t=e.eventManager;return t.onListen=K9.bind(null,e.syncEngine),t.onUnlisten=Y9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Q9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=J9.bind(null,e.syncEngine),t})}function c$(n,e,t={}){let r=new Br;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,c,u){let f=new lg({next:p=>{f.Za(),o.enqueueAndForget(()=>t2(s,d));let g=p.docs.has(a);!g&&p.fromCache?u.reject(new ge(te.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&c.source==="server"?u.reject(new ge(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new ag(wg(a.path),f,{includeMetadataChanges:!0,_a:!0});return e2(s,d)}(yield f2(n),n.asyncQueue,e,t,r)})),r.promise}function u$(n,e,t={}){let r=new Br;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(s,o,a,c,u){let f=new lg({next:p=>{f.Za(),o.enqueueAndForget(()=>t2(s,d)),p.fromCache&&c.source==="server"?u.reject(new ge(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new ag(a,f,{includeMetadataChanges:!0,_a:!0});return e2(s,d)}(yield f2(n),n.asyncQueue,e,t,r)})),r.promise}function d2(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var qk=new Map;function h2(n,e,t){if(!t)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function l$(n,e,t,r){if(e===!0&&r===!0)throw new ge(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Kk(n){if(!me.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qk(n){if(me.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Yw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function ao(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Yw(n);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var fg=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xu=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gx;switch(r.type){case"firstParty":return new Xx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return B(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=qk.get(t);r&&(se("ComponentProvider","Removing Datastore"),qk.delete(t),r.terminate())}(this),Promise.resolve()}};function p2(n,e,t,r={}){var i;let s=(n=ao(n,xu))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=cn.MOCK_USER;else{a=Qp(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new cn(u)}n._authCredentials=new qx(new I0(a,c))}}var dg=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Tr=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Zs=class n extends dg{constructor(e,t,r){super(e,t,wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new me(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function g2(n,e,...t){if(n=xr(n),h2("collection","path",e),n instanceof xu){let r=Tt.fromString(e,...t);return Qk(r),new Zs(n,null,r)}{if(!(n instanceof Tr||n instanceof Zs))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Tt.fromString(e,...t));return Qk(r),new Zs(n.firestore,null,r)}}function m2(n,e,...t){if(n=xr(n),arguments.length===1&&(e=T0.newId()),h2("doc","path",e),n instanceof xu){let r=Tt.fromString(e,...t);return Kk(r),new Tr(n,null,new me(r))}{if(!(n instanceof Tr||n instanceof Zs))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Tt.fromString(e,...t));return Kk(r),new Tr(n.firestore,n instanceof Zs?n.converter:null,new me(r))}}var hg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ng(this,"async_queue_retry"),this.Vu=()=>{let r=E0();r&&se("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=E0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=E0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return B(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!co(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=gw.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}wu(){return B(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var Ia=class extends xu{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return B(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new hg(e),this._firestoreClient=void 0,yield e}})}};function v2(n,e){let t=typeof n=="object"?n:Yo(),r=typeof n=="string"?n:e||"(default)",i=df(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Kp("firestore");s&&p2(i,...s)}return i}function Jw(n){if(n._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||_2(n),n._firestoreClient}function _2(n){var e,t,r;let i=n._freezeSettings(),s=function(a,c,u,f){return new i1(a,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,d2(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Cw(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}function y2(n,e){ma("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings();return f$(n,u2.provider,{build:r=>new Sw(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function f$(n,e,t){if((n=ao(n,Ia))._firestoreClient||n._terminated)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ge(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},_2(n)}var $f=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ln.fromBase64String(e))}catch(t){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Hf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pg=class{constructor(e){this._methodName=e}};var zf=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}};var Wf=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var d$=/^__.*__$/,bw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new so(e,this.data,t,this.fieldTransforms)}};function x2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}var Dw=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(x2(this.Cu)&&d$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Aw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ig(e)}Qu(e,t,r,i=!1){return new Dw({Cu:e,methodName:t,qu:r,path:un.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function h$(n){let e=n._freezeSettings(),t=Ig(n._databaseId);return new Aw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function p$(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);T2("Data must be an object, but it was:",o,r);let a=E2(r,o),c,u;if(s.merge)c=new ii(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let d of s.mergeFields){let p=g$(e,d,t);if(!o.contains(p))throw new ge(te.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);v$(f,p)||f.push(p)}c=new ii(f),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new bw(new Er(a),c,u)}function w2(n,e){if(I2(n=xr(n)))return T2("Unsupported field value:",e,n),E2(n,e);if(n instanceof pg)return function(r,i){if(!x2(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=w2(a,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=xr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Ht.fromDate(r);return{timestampValue:mu(i.serializer,s)}}if(r instanceof Ht){let s=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mu(i.serializer,s)}}if(r instanceof zf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $f)return{bytesValue:CR(i.serializer,r._byteString)};if(r instanceof Tr){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$w(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Wf)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return jw(a.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yw(r)}`)}(n,e)}function E2(n,e){let t={};return iR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Eu(n,(r,i)=>{let s=w2(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function I2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof zf||n instanceof $f||n instanceof Tr||n instanceof pg||n instanceof Wf)}function T2(n,e,t){if(!I2(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Yw(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function g$(n,e,t){if((e=xr(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return S2(n,e);throw gg("Field path arguments must be of type string or ",n,!1,void 0,t)}var m$=new RegExp("[~\\*/\\[\\]]");function S2(n,e,t){if(e.search(m$)>=0)throw gg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw gg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gg(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ge(te.INVALID_ARGUMENT,a+n+c)}function v$(n,e){return n.some(t=>t.isEqual(e))}var mg=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(C2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},kw=class extends mg{data(){return super.data()}};function C2(n,e){return typeof e=="string"?S2(n,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}function _$(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rw=class{convertValue(e,t="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Eu(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Nt(o.doubleValue));return new Wf(s)}convertGeoPoint(e){return new zf(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Vw(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mf(e));default:return null}}convertTimestamp(e){let t=cs(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Tt.fromString(e);Ce(FR(r));let i=new uu(r.get(1),r.get(3)),s=new me(r.popFirst(5));return i.isEqual(t)||Kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function y$(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var da=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vg=class extends mg{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(C2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},su=class extends vg{data(e={}){return super.data(e)}},Nw=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new da(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new su(this._firestore,this._userDataWriter,r.key,r,new da(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new su(i._firestore,i._userDataWriter,a.doc.key,a.doc,new da(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new su(i._firestore,i._userDataWriter,a.doc.key,a.doc,new da(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,f=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:x$(a.type),doc:c,oldIndex:u,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function x$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function b2(n){n=ao(n,Tr);let e=ao(n.firestore,Ia);return c$(Jw(e),n._key).then(t=>E$(e,n,t))}var _g=class extends Rw{constructor(e){super(),this.firestore=e}convertBytes(e){return new $f(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,t)}};function D2(n){n=ao(n,dg);let e=ao(n.firestore,Ia),t=Jw(e),r=new _g(e);return _$(n._query),u$(t,n._query).then(i=>new Nw(e,r,n,i))}function A2(n,e,t){n=ao(n,Tr);let r=ao(n.firestore,Ia),i=y$(n.converter,e,t);return w$(r,[p$(h$(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,si.none())])}function w$(n,e){return function(r,i){let s=new Br;return r.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return Z9(yield a$(r),i,s)})),s.promise}(Jw(n),e)}function E$(n,e,t){let r=t.docs.get(e._key),i=new _g(n);return new vg(n,i,e._key,r,new da(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){wu=i})(Ws),Si(new ur("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Ia(new Kx(r.getProvider("auth-internal")),new Jx(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(u.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pt(YA,"4.7.3",e),Pt(YA,"4.7.3","esm2017")})();var us=class{constructor(e){return e}},k2="firestore",Zw=class{constructor(){return ea(k2)}};var eE=new De("angularfire2.firestore-instances");function I$(n,e){let t=hf(k2,n,e);return t&&new us(t)}function T$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new us(r)}}var S$={provide:Zw,deps:[[new Tn,eE]]},C$={provide:us,useFactory:I$,deps:[[new Tn,eE],ss]};function R2(n,...e){return Pt("angularfire",Gs.full,"fst"),Ei([C$,S$,{provide:eE,useFactory:T$(n),multi:!0,deps:[vt,ir,ta,na,[new Tn,Wc],[new Tn,Zo],...e]}])}var Tu=wr(g2,!0);var $r=wr(m2,!0);var N2=wr(y2,!0);var Ni=wr(b2,!0);var Su=wr(D2,!0);var M2=wr(v2,!0);var Yf=wr(A2,!0);var Cu=class n{cache={};get(e){return this.cache[e]}set(e,t){this.cache[e]=t}clear(e){delete this.cache[e]}clearAll(){this.cache={}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})};var jn=class n{constructor(e,t){this.firestore=e;this.cacheService=t;N2(this.firestore).catch(r=>{r.code=="failed-precondition"?console.warn("Persistencia fallida: m\xFAltiples pesta\xF1as abiertas en AuthService."):r.code=="unimplemented"&&console.warn("Persistencia no soportada en este navegador.")})}userExists(e){return B(this,null,function*(){try{if(this.cacheService.get(`user_${e}`))return console.log("Usuario encontrado en cach\xE9, evitando consulta en Firestore."),!0;let r=$r(this.firestore,`users/${e}`),i=yield Ni(r);return i.exists()?(console.log("Usuario encontrado en Firestore."),this.cacheService.set(`user_${e}`,i.data()),!0):(console.warn("Usuario no encontrado en Firestore."),!1)}catch(t){return console.error("Error al verificar si el usuario existe:",t),!1}})}setUserSession(e){return B(this,null,function*(){let t=this.cacheService.get(`user_${e}`);if(t){console.log("Datos de usuario obtenidos del cach\xE9."),this.storeUserDataInLocalStorage(e,t);return}let r=$r(this.firestore,`users/${e}`),i=yield Ni(r);if(i.exists()){let s=i.data();this.storeUserDataInLocalStorage(e,s),this.cacheService.set(`user_${e}`,s)}else console.error("El usuario no existe en la base de datos.")})}storeUserDataInLocalStorage(e,t){let r=t?.nombre||"",i=t?.correo||"",s=t?.telefono||"";localStorage.setItem("username",e),localStorage.setItem("name",r),localStorage.setItem("email",i),localStorage.setItem("phone",s)}hasSeenWelcome(e){return B(this,null,function*(){if(localStorage.getItem("welcomeSeen")==="true")return!0;let r=$r(this.firestore,`users/${e}`),i=yield Ni(r),s=i.exists()&&i.data()?.welcomeSeen===!0;return s&&localStorage.setItem("welcomeSeen","true"),s})}IsSecurityAccess(e){return B(this,null,function*(){let t=$r(this.firestore,`users/${e}`),r=yield Ni(t);return r.exists()&&r.data()?.security===!0})}registerAttendance(e){return B(this,null,function*(){try{if(!(yield this.userExists(e)))return console.warn(`El usuario ${e} no existe.`),"El usuario no existe. Acceso denegado.";let r=$r(this.firestore,`users/${e}`),i=yield Ni(r);if(i.exists()&&i.data()?.asistencia===!0)return console.warn(`El usuario ${e} ya registr\xF3 su asistencia.`),`El usuario ${i.data()?.nombre||e} ya registr\xF3 su asistencia. Acceso denegado.`;yield Yf(r,{asistencia:!0},{merge:!0});let s=i.data()?.nombre||e;return console.log(`Asistencia registrada para el usuario ${s}.`),`Asistencia registrada exitosamente para ${s}. Acceso permitido.`}catch(t){return console.error("Error al registrar la asistencia:",t),"Ocurri\xF3 un error al registrar la asistencia. Int\xE9ntalo nuevamente."}})}markWelcomeAsSeen(e){return B(this,null,function*(){let t=$r(this.firestore,`users/${e}`);yield Yf(t,{welcomeSeen:!0},{merge:!0}),localStorage.setItem("welcomeSeen","true")})}isUserLoggedIn(){return localStorage.getItem("username")!==null}getUsername(){return localStorage.getItem("username")}getName(){return localStorage.getItem("name")}setTema(e){localStorage.setItem("tema",e)}getTema(){return localStorage.getItem("tema")}isSuperUser(e){return B(this,null,function*(){try{let t=$r(this.firestore,`users/${e}`),r=yield Ni(t);return r.exists()&&r.data()?.superUser===!0?(console.log(`El usuario ${e} tiene permisos de SuperUser.`),!0):(console.warn(`El usuario ${e} no es SuperUser.`),!1)}catch(t){return console.error("Error al validar el estado de SuperUser:",t),!1}})}getUserSellos(e,t=!1){return B(this,null,function*(){let r=`user_sellos_${e}`;if(!t){let a=this.cacheService.get(r);if(a)return console.log("Sellos del usuario obtenidos del cach\xE9."),a}let i=Tu(this.firestore,`users/${e}/sellos`),s=yield Su(i),o={};return s.forEach(a=>{let c=a.id,u=a.data();o[c]=u.completed===!0}),this.cacheService.set(r,o),o})}static \u0275fac=function(t){return new(t||n)(Me(us),Me(Cu))};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sg=class n{constructor(e,t){this.authService=e;this.router=t}username="";errorMessage="";login(){return B(this,null,function*(){if(this.errorMessage="",this.username.trim())try{if(yield this.authService.userExists(this.username)){yield this.authService.setUserSession(this.username);let t=yield this.authService.hasSeenWelcome(this.username),i=new URLSearchParams(window.location.search).get("nextUrl")||"/pasaporte";t?this.router.navigateByUrl(i):this.router.navigate(["/bienvenida"],{queryParams:{nextUrl:i}})}else this.errorMessage="El usuario no existe. Por favor, intenta con otro nombre."}catch(e){this.errorMessage="Ocurri\xF3 un error al iniciar sesi\xF3n. Por favor, intenta nuevamente.",console.error(e)}else this.errorMessage="Por favor, ingresa un nombre de usuario."})}static \u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Qt))};static \u0275cmp=pn({type:n,selectors:[["app-login"]],standalone:!0,features:[Vn],decls:19,vars:2,consts:[[1,"background-container"],[1,"login-container"],[1,"login-box"],[1,"logo"],["src","imgs/wow-logo.png","alt","Logo OWOW"],[1,"welcome-title"],[1,"subtitle"],[1,"input-group"],[1,"input-icon"],["src","imgs/mail-icon.png","alt","Logo OWOW"],["type","text","placeholder","DNI",1,"input-field",3,"ngModelChange","ngModel"],["NgIf","errorMessage",1,"error-message"],[1,"login-button",3,"click"],[1,"button-icon"],["src","imgs/btn-login.png","alt","Logo OWOW"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),et(4,"img",4),Ie(),we(5,"h1",5),Qe(6,"\xA1Bienvenido!"),Ie(),we(7,"p",6),Qe(8,"Inicia Sesi\xF3n"),Ie(),we(9,"div",7)(10,"span",8),et(11,"img",9),Ie(),we(12,"input",10),H_("ngModelChange",function(s){return _b(r.username,s)||(r.username=s),s}),Ie()(),we(13,"p",11),Qe(14),Ie(),we(15,"button",12),Sn("click",function(){return r.login()}),we(16,"span",13),et(17,"img",14),Ie(),Qe(18," Ingresar "),Ie()()()()),t&2&&(Ke(12),$_("ngModel",r.username),Ke(2),Yi(r.errorMessage))},dependencies:[rA,zp,eA,Yy],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;z-index:1}.login-box[_ngcontent-%COMP%]{background-color:#611f78;border-radius:20px 20px 0 0;padding:20px 30px 40px;width:75%;max-width:320px;min-height:80vh;box-shadow:0 -4px 12px #0000001a;text-align:left;display:flex;flex-direction:column;justify-content:flex-start;border:3px solid #ffffff}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:40px;width:25vh}.welcome-title[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:2.5rem;color:#fff;font-weight:700;text-align:center;margin-bottom:10px}.subtitle[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:1.4rem;color:#fff;text-align:center;margin-top:0;margin-bottom:5px}.error-message[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;color:#fff;font-size:14px;text-align:center;margin-top:10px;text-align:left}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;border-radius:50px;padding:12px;margin-top:50px}.input-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:30px;margin-left:10px}.input-field[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;width:100%;font-size:16px;color:#333}.input-field[_ngcontent-%COMP%]::placeholder{color:#601f788a}.login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:transparent;color:#fff;border:none;border-radius:25px;padding:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease;border:2px solid #ffffff;margin:20px auto 0;width:180px}.login-button[_ngcontent-%COMP%]:hover{background-color:#5a3b7d}.button-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:8px}"]})};var Cg=class n{constructor(e,t){this.authService=e;this.router=t}username="";name="";nextUrl=null;welcomeTitle="Bienvenido a una experiencia WOW";welcomeContent=`
   Ha sido un a\xF1o de logros, trabajo en equipo y crecimiento en WOW.<br />
   Fortalecimos nuestra red, innovaci\xF3n y compromiso con ustedes: nuestro valioso equipo, clientes y socios.<br /><br />
   Celebremos juntos este momento especial y sigamos so\xF1ando en grande.<br /><br />
 `;isOnRulesScreen=!1;ngOnInit(){return B(this,null,function*(){this.username=this.authService.getUsername(),this.name=this.authService.getName(),this.username&&(yield this.authService.markWelcomeAsSeen(this.username));let e=new URLSearchParams(window.location.search);this.nextUrl=e.get("nextUrl")||"/pasaporte"})}handleContinue(){this.isOnRulesScreen?this.continue():(this.welcomeTitle="Participa en el juego de la Trivia WOW",this.welcomeContent=`
      Juega y podr\xE1s participar en un sorteo con premios sorpresa. <br /><br />
      Reglas del juego: <br />
      \u2022 Conectarse a la aplicaci\xF3n TRIVIA utilizando la c\xE1mara del celular y enfocar el C\xF3digo QR que est\xE1 en cada STAND.<br />
      \u2022\u2060 Responder las preguntas de la TRIVIA y si logra responder 3 respuestas correctas, Ud ganar\xE1 un SELLO por cada STAND visitado.<br />
      \u2022\u2060 Si Ud acumula todos los SELLOS, participar\xE1 en un SORTEO con premios sorpresa.<br /><br />
      <strong>\xA1Mucha suerte!</strong>
    `,this.isOnRulesScreen=!0)}continue(){this.nextUrl?this.router.navigateByUrl(this.nextUrl):this.router.navigate(["pasaporte"])}static \u0275fac=function(t){return new(t||n)(Ae(jn),Ae(Qt))};static \u0275cmp=pn({type:n,selectors:[["app-bienvenida"]],decls:20,vars:3,consts:[[1,"background-container"],[1,"header"],[1,"greeting"],[1,"morning-text"],[1,"user-name"],[1,"profile-image"],["src","imgs/user.png","alt","Perfil de Usuario"],[1,"welcome-container"],[1,"welcome-box"],[1,"logo"],["src","imgs/wow-simple-logo.png","alt","Logo OWOW"],[1,"welcome-title"],[1,"welcome-content"],[1,"txt-content",3,"innerHTML"],[1,"btn-zone"],[1,"continue-button",3,"click"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),Qe(4,"\xA1Buenos d\xEDas!"),Ie(),we(5,"h2",4),Qe(6),Ie()(),we(7,"div",5),et(8,"img",6),Ie()(),we(9,"div",7)(10,"div",8)(11,"div",9),et(12,"img",10),Ie(),we(13,"h2",11),Qe(14),Ie(),we(15,"div",12),et(16,"p",13),we(17,"div",14)(18,"button",15),Sn("click",function(){return r.handleContinue()}),Qe(19,"Continuar"),Ie()()()()()()),t&2&&(Ke(6),Cn("Hola ",r.name,""),Ke(8),Yi(r.welcomeTitle),Ke(2),It("innerHTML",r.welcomeContent,RC))},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;width:100%;box-sizing:border-box;color:#fff;margin-top:40px}.greeting[_ngcontent-%COMP%]{display:flex;flex-direction:column}.morning-text[_ngcontent-%COMP%]{font-size:20px;font-family:DM Sans,sans-serif;font-style:normal;margin:0;color:#fff}.user-name[_ngcontent-%COMP%]{font-size:26px;font-family:DM Sans,sans-serif;font-style:bold;margin:8px 0 0}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;border:2px solid #ffffff}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.welcome-container[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;overflow:auto}.welcome-box[_ngcontent-%COMP%]{background-color:#611f78;border-radius:20px 20px 0 0;padding:20px;width:90%;height:calc(100vh - 10px);box-sizing:border-box;box-shadow:0 -4px 12px #0000001a;border:3px solid #ffffff}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;object-fit:contain}.welcome-title[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:18px;height:auto;margin-top:10px;margin-bottom:10px;color:#fff;font-weight:700;text-align:center}.welcome-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.txt-content[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:normal;font-size:13px;overflow-y:auto;height:35vh;padding:10px;color:#fff;font-weight:400;margin:0;flex-grow:.3;text-align:left}.continue-button[_ngcontent-%COMP%]{display:block;margin:10px auto 0;padding:15px 30px;font-size:18px;font-weight:700;color:#fff;background-color:#dd5b22;border:none;border-radius:25px;box-shadow:0 4px 8px #0003;cursor:pointer;transition:all .2s ease}.continue-button[_ngcontent-%COMP%]:hover{background-color:#bb4a1c}.continue-button[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0003}"]})};var bu=class n{constructor(e,t){this.firestore=e;this.cacheService=t}getTriviaData(e){return B(this,null,function*(){let t=this.cacheService.get(`trivia_${e}`);if(t)return console.log("Datos de trivia obtenidos del cach\xE9."),t;let r=localStorage.getItem(`trivia_${e}`);if(r){let o=JSON.parse(r);return this.cacheService.set(`trivia_${e}`,o),console.log("Datos de trivia obtenidos de localStorage."),o}let i=yield Ni($r(this.firestore,`trivia/${e}`)),s=i.exists()?i.data():null;return s&&(this.cacheService.set(`trivia_${e}`,s),localStorage.setItem(`trivia_${e}`,JSON.stringify(s))),s})}getQuestionsByTema(e){return B(this,null,function*(){let t=this.cacheService.get(`questions_${e}`);if(t)return console.log("Preguntas obtenidas del cach\xE9."),t;let r=Tu(this.firestore,`trivia/${e}/preguntas`),s=(yield Su(r)).docs.map(o=>he({id:o.id},o.data()));return this.cacheService.set(`questions_${e}`,s),s})}hasSello(e,t){return B(this,null,function*(){let r=`completed_${e}_${t}`,i=this.cacheService.get(r);if(i!==void 0)return console.log("Estado de trivia completada obtenido del cach\xE9."),i;let s=$r(this.firestore,`users/${e}/sellos/${t}`),o=yield Ni(s),a=o.exists()&&o.data()?.completed===!0;return this.cacheService.set(r,a),a})}getUsersWithFiveSellos(){return B(this,null,function*(){let e=[],t=Tu(this.firestore,"users"),r=yield Su(t);for(let i of r.docs){let s=Tu(this.firestore,`users/${i.id}/sellos`);if((yield Su(s)).size===5){let a=i.data();e.push({id:i.id,nombre:a.nombre||"",correo:a.correo||""})}}return e})}markTriviaAsCompleted(e,t){return B(this,null,function*(){let r=$r(this.firestore,`users/${e}/sellos/${t}`);yield Yf(r,{completed:!0},{merge:!0}),this.cacheService.set(`completed_${e}_${t}`,!0)})}static \u0275fac=function(t){return new(t||n)(Me(us),Me(Cu))};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})};var b$=(n,e,t)=>({opcion:!0,selected:n,correct:e,incorrect:t});function D$(n,e){if(n&1){let t=mb();we(0,"button",24),Sn("click",function(){let i=jS(t).$implicit,s=vr();return $S(s.handleOptionClick(i))}),Qe(1),Ie()}if(n&2){let t=e.$implicit,r=vr();It("ngClass",xb(2,b$,r.selectedAnswer===t,r.showFeedback&&t===(r.currentQuestion==null?null:r.currentQuestion.respuesta),r.showFeedback&&t!==(r.currentQuestion==null?null:r.currentQuestion.respuesta)&&r.selectedAnswer===t)),Ke(),Cn(" ",r.currentQuestion==null?null:r.currentQuestion[t]," ")}}var bg=class n{constructor(e,t,r,i){this.triviaService=e;this.route=t;this.router=r;this.authService=i}trivia="";questions=[];answeredQuestions=new Set;currentQuestionIndex=0;currentQuestion;feedbackMessage="";feedbackClass="";isAnswered=!1;sello="";objetivo=0;answeredCorrectly=0;userId="";timeLeft=12;timerInterval;selectedAnswer=null;showFeedback=!1;name="";ngOnInit(){return B(this,null,function*(){this.trivia=this.route.snapshot.paramMap.get("tema"),this.sello=this.route.snapshot.paramMap.get("sello"),this.userId=this.authService.getUsername()||"",this.name=this.authService.getName();let e=localStorage.getItem(`answeredQuestions_${this.trivia}`);if(e&&(this.answeredQuestions=new Set(JSON.parse(e))),this.sello){if(yield this.triviaService.hasSello(this.userId,this.sello)){this.router.navigate(["/pasaporte"]);return}yield this.loadTriviaData()}})}ngOnDestroy(){this.clearTimer()}handleOptionClick(e){if(this.isAnswered||this.showFeedback)return;this.selectedAnswer=e,this.isAnswered=!0,this.clearTimer();let t=this.currentQuestion.respuesta.toString();setTimeout(()=>{if(e===t){if(this.feedbackMessage="\xA1Correcto!",this.feedbackClass="feedback-box show",this.answeredQuestions.add(this.currentQuestion.id),localStorage.setItem(`answeredQuestions_${this.trivia}`,JSON.stringify([...this.answeredQuestions])),this.answeredCorrectly++,this.answeredCorrectly>=this.objetivo){console.log("\xA1Objetivo cumplido! Completando trivia..."),this.completeTrivia();return}}else this.feedbackMessage="\xA1Sigue intentando!",this.feedbackClass="feedback-box show";setTimeout(()=>{this.feedbackClass="feedback-box",this.resetForNextQuestion()},2e3)},500)}resetForNextQuestion(){if(this.showFeedback=!1,this.feedbackMessage="",this.feedbackClass="",this.selectedAnswer=null,this.isAnswered=!1,this.currentQuestionIndex>=this.questions.length-1){console.log("No hay m\xE1s preguntas. Reiniciando preguntas no contestadas."),this.resetUnansweredQuestions();return}this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.startTimer()}nextQuestion(){this.resetFeedback(),this.currentQuestionIndex<this.questions.length-1?(this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.startTimer()):this.resetUnansweredQuestions()}resetUnansweredQuestions(){return B(this,null,function*(){let e=this.questions.filter(t=>!this.answeredQuestions.has(t.id));if(e.length===0){console.log("No hay m\xE1s preguntas no contestadas. Cargando nuevas preguntas desde la base de datos.");let t=yield this.triviaService.getQuestionsByTema(this.trivia);if(t&&t.length>0){let r=this.shuffleArray(t).slice(0,5);this.questions=r,this.answeredQuestions.clear()}else console.error("No se pudieron cargar nuevas preguntas."),this.questions=[]}else console.log("Reiniciando preguntas no contestadas."),this.questions=this.shuffleArray(e);this.questions.length>0?(this.currentQuestionIndex=0,this.currentQuestion=this.questions[this.currentQuestionIndex],this.startTimer()):console.error("No hay preguntas disponibles. Verifica la base de datos.")})}startTimer(){let e=document.querySelector(".progress-ring__circle"),r=2*Math.PI*35;e&&(e.style.strokeDasharray=`${r} ${r}`,e.style.strokeDashoffset=`${r}`),this.timeLeft=12,this.timerInterval=setInterval(()=>{if(this.timeLeft>0){this.timeLeft--;let i=r-this.timeLeft/12*r;e&&(e.style.strokeDashoffset=`${i}`)}else clearInterval(this.timerInterval),this.handleTimeout()},1e3)}handleTimeout(){this.clearTimer(),this.showFeedback=!0,this.feedbackMessage="Tiempo agotado",this.feedbackClass="feedback-overlay show incorrecto",this.isAnswered=!0,setTimeout(()=>{this.resetForNextQuestion()},2e3)}clearTimer(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}loadTriviaData(){return B(this,null,function*(){let e=yield this.triviaService.getTriviaData(this.trivia);e&&(this.objetivo=Number(e.objetivo)||0,yield this.loadQuestions())})}loadQuestions(){return B(this,null,function*(){this.questions=this.shuffleArray((yield this.triviaService.getQuestionsByTema(this.trivia)).filter(e=>!this.answeredQuestions.has(e.id))),this.currentQuestionIndex=0,this.currentQuestion=this.questions[this.currentQuestionIndex],this.startTimer()})}shuffleArray(e){for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}getOptionKeys(e){return Object.keys(e).filter(t=>!isNaN(Number(t))).sort()}completeTrivia(){return B(this,null,function*(){if(!this.sello){console.error("No se puede completar la trivia: Sello es null o indefinido.");return}yield this.triviaService.markTriviaAsCompleted(this.userId,this.sello),this.router.navigate(["/felicitacion"],{queryParams:{sello:this.sello}})})}resetFeedback(){this.isAnswered=!1,this.feedbackMessage="",this.feedbackClass="",this.selectedAnswer=""}static \u0275fac=function(t){return new(t||n)(Ae(bu),Ae(ar),Ae(Qt),Ae(jn))};static \u0275cmp=pn({type:n,selectors:[["app-trivia"]],standalone:!0,features:[Vn],decls:29,vars:6,consts:[[1,"background-container"],[1,"header"],[1,"greeting"],[1,"user-name"],[1,"morning-text"],[1,"profile-image"],["src","imgs/user.png","alt","Perfil de Usuario"],[1,"trivia-container"],["src","imgs/wow-circulos.png","alt","WOW Circulos",1,"background-image"],[1,"trivia-box"],[1,"header-with-timer"],[1,"logo"],["src","imgs/wow-simple-logo.png","alt","Logo OWOW"],[1,"timer-circle"],["width","80","height","80",1,"progress-ring"],["cx","40","cy","40","r","35","stroke-width","5","fill","transparent",1,"progress-ring__circle"],[1,"timer-text"],[1,"pregunta-card"],["src","imgs/pregunta-card.png","alt","Pregunta Card",1,"pregunta-card-image"],[1,"pregunta-text"],[1,"opciones-container"],[1,"opciones"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"feedback-box",3,"ngClass"],[3,"click","ngClass"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),Qe(4),Ie(),we(5,"p",4),Qe(6,"\xA1Juguemos!"),Ie()(),we(7,"div",5),et(8,"img",6),Ie()(),we(9,"div",7),et(10,"img",8),we(11,"div",9)(12,"div",10)(13,"div",11),et(14,"img",12),Ie(),we(15,"div",13),ZS(),we(16,"svg",14),et(17,"circle",15),Ie(),eC(),we(18,"div",16),Qe(19),Ie()()(),we(20,"div",17),et(21,"img",18),we(22,"div",19),Qe(23),Ie()(),we(24,"div",20)(25,"div",21),mr(26,D$,2,6,"button",22),Ie()(),we(27,"div",23),Qe(28),Ie()()()()),t&2&&(Ke(4),Cn("Hola ",r.name,""),Ke(15),Yi(r.timeLeft),Ke(4),Cn(" ",r.currentQuestion==null?null:r.currentQuestion.id," "),Ke(3),It("ngForOf",r.getOptionKeys(r.currentQuestion)),Ke(),It("ngClass",r.feedbackClass),Ke(),Cn(" ",r.feedbackMessage," "))},dependencies:[Zi,yp,xp],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;width:100%;box-sizing:border-box;color:#fff;margin-top:40px}.greeting[_ngcontent-%COMP%]{display:flex;flex-direction:column}.morning-text[_ngcontent-%COMP%]{font-size:20px;font-family:DM Sans,sans-serif;font-style:normal;margin:0;color:#f1d7ff}.user-name[_ngcontent-%COMP%]{font-size:26px;font-family:DM Sans,sans-serif;font-style:bold;margin:8px 0 0}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;border:2px solid #ffffff}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.trivia-container[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;overflow:auto}.background-image[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);width:auto;height:auto;max-width:87%;max-height:100%;z-index:0;pointer-events:none}.trivia-box[_ngcontent-%COMP%]{background-color:#611f78;border-radius:20px 20px 0 0;padding:20px 30px 40px;width:75%;max-width:320px;min-height:90vh;box-shadow:0 -4px 12px #0000001a;text-align:left;display:flex;flex-direction:column;justify-content:flex-start;border:3px solid #ffffff}.header-with-timer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px;width:100%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:15vh;object-fit:contain}.timer-circle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:7vh;height:7vh;border-radius:50%;background-color:#fff;box-shadow:0 4px 8px #0003;margin-left:10px;position:relative}.progress-ring[_ngcontent-%COMP%]{position:absolute;transform:rotate(-90deg)}.progress-ring__circle[_ngcontent-%COMP%]{stroke:#dd5b22;stroke-dasharray:230;stroke-dashoffset:230;transition:stroke-dashoffset 1s linear;stroke-linecap:round;stroke-width:4;fill:none}.timer-text[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:1.3em;font-weight:700;color:#4a1861;z-index:1}.trivia-header[_ngcontent-%COMP%]{position:relative;width:100%;height:60px;display:flex;align-items:center;justify-content:space-between;color:#333;font-size:1.2em;padding:0 20px;box-sizing:border-box}.progress-fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;background-color:#d32f2f;z-index:1;transition:width 1s linear}.trivia-header[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .trivia-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .trivia-header[_ngcontent-%COMP%]   .timer[_ngcontent-%COMP%]{position:relative;z-index:2}.icon[_ngcontent-%COMP%]{font-size:1.3em}.title[_ngcontent-%COMP%]{font-weight:700;flex:1;text-align:left}.timer[_ngcontent-%COMP%]{font-weight:700;margin-left:auto;font-size:1.1em}.image-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:20px}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;border-radius:8px;box-shadow:0 4px 8px #0003}.pregunta-card[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:100%;max-width:350px;margin:18px auto -5px}.pregunta-card-image[_ngcontent-%COMP%]{width:100%;border-radius:10px;object-fit:cover}.pregunta-text[_ngcontent-%COMP%]{position:absolute;font-family:DM Sans,sans-serif;font-style:normal;font-size:1.3em;font-weight:700;color:#611f78;text-align:center;padding:10px;word-wrap:break-word;max-width:90%}.opciones-container[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 10px #0000001a;margin:0 auto;width:100%;max-width:350px;text-align:center}.opciones-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 10px #0000001a;margin:20px auto;width:250px;text-align:center}.opciones[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.opcion[_ngcontent-%COMP%]{position:relative;background-color:#611f78;color:#fff;font-family:DM Sans,sans-serif;font-size:14px;font-weight:700;padding:15px;border:none;border-radius:20px;text-align:center;cursor:pointer;box-shadow:5px 7px #4a1861;transition:all .2s ease}.opcion[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px #2e0f3d}.opcion[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px #2e0f3d}.opcion.selected[_ngcontent-%COMP%]{background-color:#dd5b22;box-shadow:0 4px #8e3c17}.opcion.correct[_ngcontent-%COMP%]{background-color:#4caf50;box-shadow:0 4px #2e7d32}.opcion.incorrect[_ngcontent-%COMP%]{background-color:#f44336;box-shadow:0 4px #b71c1c}.feedback-box[_ngcontent-%COMP%]{position:absolute;border-radius:20px 20px 0 0;padding:20px 30px 40px;width:75%;max-width:320px;min-height:89vh;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#151515b3;color:#fff;font-family:DM Sans,sans-serif;font-style:bold;font-size:3.5em;align-content:center;font-weight:700;box-shadow:0 4px 8px #0000006e;text-align:center;z-index:10;pointer-events:none;opacity:0;transition:opacity .3s ease;text-shadow:-3px -3px 0 #DD5B22,3px -3px 0 #DD5B22,-3px 3px 0 #DD5B22,3px 3px 0 #DD5B22,0px 0px 0 #DD5B22}.feedback-box.show[_ngcontent-%COMP%]{display:block;pointer-events:auto;opacity:1}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#f26522;text-align:center;position:absolute;top:0;left:0;width:100%;z-index:999}.spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px}.spinner[_ngcontent-%COMP%]   .progress-ring[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1.5s linear infinite;width:80px;height:80px}.spinner[_ngcontent-%COMP%]   .progress-ring__circle[_ngcontent-%COMP%]{stroke:#fff;stroke-dasharray:220;stroke-dashoffset:0;animation:_ngcontent-%COMP%_dash 1.5s ease-in-out infinite;transform-origin:center;stroke-width:6;fill:transparent}@keyframes _ngcontent-%COMP%_rotate{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_dash{0%{stroke-dasharray:1,220;stroke-dashoffset:0}50%{stroke-dasharray:150,220;stroke-dashoffset:-75}to{stroke-dasharray:1,220;stroke-dashoffset:-220}}.spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-size:1.5em;color:#fff;margin:0}"]})};function A$(n,e){if(n&1&&et(0,"img",12),n&2){let t=vr(2);It("src",t.currentImage,Nl)}}function k$(n,e){if(n&1&&et(0,"img",13),n&2){let t=vr(2);It("src",t.currentStar,Nl)}}function R$(n,e){if(n&1&&(we(0,"div",9),mr(1,A$,1,1,"img",10)(2,k$,1,1,"img",11),Ie()),n&2){let t=vr();Ke(),It("ngIf",t.currentImage),Ke(),It("ngIf",t.currentStar)}}function N$(n,e){if(n&1&&(we(0,"div",14),Qe(1),Ie()),n&2){let t=vr();Ke(),Cn(" ",t.feedbackMessage," ")}}var Dg=class n{constructor(e,t){this.router=e;this.route=t}selloImg=null;starImg=null;selloBackground="";ngOnInit(){this.route.queryParams.subscribe(e=>{let t=e.sello;t&&(this.selloImg=this.backgroundImages[`sello-${t}`]||null,this.starImg=this.backgroundStar[`sello-${t}`]||null,this.selloBackground="sello-"+t)})}feedbackMessage="\xA1Felicidades obtuviste un sello!";currentBackgroundClass="felicidades";backgroundImages={"sello-lima":"imgs/sello-Lima.png","sello-ica":"imgs/sello-Ica.png","sello-chiclayo":"imgs/sello-Chiclayo.png","sello-arequipa":"imgs/arequipa-sello.png","sello-cusco":"imgs/cusco-sello.png"};backgroundStar={"sello-lima":"imgs/estrella-lima.png","sello-ica":"imgs/estrella-ica.png","sello-chiclayo":"imgs/estrella-chiclayo.png","sello-arequipa":"imgs/estrella-arequipa.png","sello-cusco":"imgs/estrellas-cusco.png"};currentImage="";currentStar="";actionBtn(){this.isSelloBackground()?this.redirectToPassport():this.setRandomSelloBackground()}isSelloBackground(){return this.backgroundImages.hasOwnProperty(this.currentBackgroundClass)}setRandomSelloBackground(){this.currentBackgroundClass=this.selloBackground,this.updateCurrentImage()}updateCurrentImage(){this.currentImage=this.selloImg||"",this.currentStar=this.starImg||""}redirectToPassport(){this.router.navigate(["/pasaporte"],{queryParams:{forceUpt:!0}})}updateFeedback(e){this.feedbackMessage=e}static \u0275fac=function(t){return new(t||n)(Ae(Qt),Ae(ar))};static \u0275cmp=pn({type:n,selectors:[["app-felicitacion"]],standalone:!0,features:[Vn],decls:10,vars:3,consts:[[1,"background-container"],[1,"header"],[1,"logo"],["src","imgs/wow-logo-horizontal.png","alt","Logo OWOW"],[1,"home-container"],[1,"home-box",3,"ngClass"],["class","content-container",4,"ngIf"],["class","feedback-text",4,"ngIf"],[1,"continue-button",3,"click"],[1,"content-container"],["alt","Sello","class","sello-image",3,"src",4,"ngIf"],["alt","Estrella","class","star-image",3,"src",4,"ngIf"],["alt","Sello",1,"sello-image",3,"src"],["alt","Estrella",1,"star-image",3,"src"],[1,"feedback-text"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"div",2),et(3,"img",3),Ie()(),we(4,"div",4)(5,"div",5),mr(6,R$,3,2,"div",6)(7,N$,2,1,"div",7),we(8,"button",8),Sn("click",function(){return r.actionBtn()}),Qe(9,"Continuar"),Ie()()()()),t&2&&(Ke(5),It("ngClass",r.currentBackgroundClass),Ke(),It("ngIf",r.currentImage),Ke(),It("ngIf",!r.currentImage))},dependencies:[Zi,yp,Ac],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;width:100%;box-sizing:border-box;color:#fff;margin-top:40px}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-bottom:10px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;object-fit:contain}.home-container[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:center;align-items:flex-end;height:98vh;width:100%;padding:0;box-sizing:border-box;position:relative;overflow:auto}.home-box.felicidades[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background:repeating-conic-gradient(#4a1861 0deg 6deg,#611f78 6deg 12deg)}.home-box.felicidades[_ngcontent-%COMP%]:before{content:"";position:absolute;top:40%;left:50%;width:200%;height:200%;background:repeating-conic-gradient(#4a1861 0deg 6deg,#611f78 6deg 12deg);transform:translate(-50%,-50%);z-index:0}.home-box.sello-lima[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background-image:url("./media/fondo-home-QM3F4GHF.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat}.home-box.sello-ica[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background-image:url("./media/fondo-ica-FS32HJKM.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat}.home-box.sello-chiclayo[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background-image:url("./media/fondo-chiclayo-KLNA4FYX.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat}.home-box.sello-arequipa[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background-image:url("./media/fondo-huancayo-OFMI5XXL.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat}.home-box.sello-cusco[_ngcontent-%COMP%]{position:relative;border-radius:20px 20px 0 0;padding:20px 30px;width:75%;max-width:320px;min-height:90vh;display:flex;flex-direction:column;justify-content:center;align-items:center;overflow:hidden;border:3px solid #ffffff;background-image:url("./media/fondo-huancayo-OFMI5XXL.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat}.home-box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:relative;z-index:1}.feedback-text[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);font-family:DM Sans,sans-serif;font-size:3rem;font-weight:700;color:#fff;text-align:center;-webkit-text-stroke:2px #f26522;text-shadow:-2px -2px 0 #DD5B22,2px -2px 0 #DD5B22,-2px 2px 0 #DD5B22,2px 2px 0 #DD5B22,0px 0px 0 #DD5B22}.content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;width:100%;height:70%;margin-bottom:10vh}.sello-image[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;box-shadow:0 8px 20px #00000059;object-fit:cover;z-index:2}.star-image[_ngcontent-%COMP%]{position:absolute;width:50vh;height:auto;z-index:1;pointer-events:none}.continue-button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:15px 30px;font-size:18px;font-weight:700;color:#fff;background-color:#dd5b22;border:none;border-radius:25px;box-shadow:0 4px 8px #0003;cursor:pointer;transition:all .2s ease}.continue-button[_ngcontent-%COMP%]:hover{background-color:#bb4a1c}.continue-button[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0003}']})};var Da=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return B(this,null,function*(){let r=t.url,i=this.authService.getUsername();return i?(yield this.authService.hasSeenWelcome(i))?r?!0:this.router.createUrlTree(["/pasaporte"]):this.router.createUrlTree(["/bienvenida"],{queryParams:{nextUrl:r}}):this.router.createUrlTree(["/login"],{queryParams:{nextUrl:r}})})}static \u0275fac=function(t){return new(t||n)(Me(jn),Me(Qt))};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})};function M$(n,e){n&1&&(we(0,"h2",15),Qe(1,"Pasaporte WOW"),Ie())}function P$(n,e){n&1&&(we(0,"div",16)(1,"div",17)(2,"p"),Qe(3,"\xA1JUEGO FINALIZADO!"),et(4,"br")(5,"br"),Qe(6,"\xA1Ya est\xE1s participando del sorteo, mucha suerte!"),Ie()()())}function O$(n,e){if(n&1&&(we(0,"div",19)(1,"div",20),et(2,"img",21),Ie()()),n&2){let t=e.$implicit,r=vr(2);Ke(2),j_("alt","",t.key," sello"),It("src",r.getSelloImage(t.key),Nl)}}function F$(n,e){if(n&1&&(we(0,"div",16),mr(1,O$,3,3,"div",18),Eb(2,"keyvalue"),Ie()),n&2){let t=vr();Ke(),It("ngForOf",Ib(2,1,t.sellosUser))}}var Ag=class n{constructor(e,t,r){this.authService=e;this.route=t;this.router=r}countActiveSellos(){return Object.values(this.sellosUser).filter(e=>e).length}name="";sellosImgs={"sello-lima":"imgs/sello-Lima.png","sello-ica":"imgs/sello-Ica.png","sello-chiclayo":"imgs/sello-Chiclayo.png","sello-arequipa":"imgs/arequipa-sello.png","sello-cusco":"imgs/cusco-sello.png"};sellosUser={};ngOnInit(){return B(this,null,function*(){this.name=this.authService.getName();let e=this.authService.getUsername();try{let r=(yield Hm(this.route.queryParams)).forceUpt==="true";this.sellosUser=yield this.authService.getUserSellos(e,r||!1),console.log("Sellos obtenidos:",this.sellosUser)}catch(t){console.error("Error al obtener los sellos:",t)}})}getSelloImage(e){return this.sellosImgs["sello-"+e]||"imgs/default.png"}logout(){localStorage.clear(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(Ae(jn),Ae(ar),Ae(Qt))};static \u0275cmp=pn({type:n,selectors:[["app-home"]],standalone:!0,features:[Vn],decls:19,vars:4,consts:[[1,"background-container"],[1,"logout-container"],[1,"logout-button",3,"click"],[1,"header"],[1,"greeting"],[1,"morning-text"],[1,"user-name"],[1,"profile-image"],["src","imgs/user.png","alt","Perfil de Usuario"],[1,"home-container"],[1,"home-box"],[1,"logo"],["src","imgs/wow-simple-logo.png","alt","Logo OWOW"],["class","home-title",4,"ngIf"],["class","seal-container",4,"ngIf"],[1,"home-title"],[1,"seal-container"],[1,"contest-message"],["class","seal-item",4,"ngFor","ngForOf"],[1,"seal-item"],[1,"seal-circle"],[3,"src","alt"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"button",2),Sn("click",function(){return r.logout()}),Qe(3,"Cerrar sesi\xF3n"),Ie()(),we(4,"div",3)(5,"div",4)(6,"p",5),Qe(7,"\xA1Buenos d\xEDas!"),Ie(),we(8,"h2",6),Qe(9),Ie()(),we(10,"div",7),et(11,"img",8),Ie()(),we(12,"div",9)(13,"div",10)(14,"div",11),et(15,"img",12),Ie(),mr(16,M$,2,0,"h2",13)(17,P$,7,0,"div",14)(18,F$,3,3,"div",14),Ie()()()),t&2&&(Ke(9),Cn("Hola ",r.name,""),Ke(7),It("ngIf",r.countActiveSellos()<5),Ke(),It("ngIf",r.countActiveSellos()==5),Ke(),It("ngIf",r.countActiveSellos()<5))},dependencies:[Zi,xp,Ac,Wb],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;width:100%;box-sizing:border-box;color:#fff;margin-top:px}.greeting[_ngcontent-%COMP%]{display:flex;flex-direction:column}.morning-text[_ngcontent-%COMP%]{font-size:20px;font-family:DM Sans,sans-serif;font-style:normal;margin:0;color:#fff}.user-name[_ngcontent-%COMP%]{font-size:26px;font-family:DM Sans,sans-serif;font-style:bold;margin:8px 0 0}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;border:2px solid #ffffff}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.home-container[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;overflow:auto}.background-image[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);width:auto;height:auto;max-width:87%;max-height:100%;z-index:0;pointer-events:none}.home-box[_ngcontent-%COMP%]{background-image:url("./media/fondo-home-QM3F4GHF.jpg");background-size:cover;background-position:center -20px;background-repeat:no-repeat;border-radius:20px 20px 0 0;padding:20px 30px 40px;width:75%;max-width:320px;min-height:89vh;box-shadow:0 -4px 12px #0000001a;text-align:left;display:flex;flex-direction:column;justify-content:flex-start;border:3px solid #ffffff}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12vh;object-fit:contain}.home-title[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:24px;color:#fff;font-weight:700;text-align:center;margin:20px 0}.seal-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:30px}.seal-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.seal-circle[_ngcontent-%COMP%]{width:14vh;height:14vh;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #0003;overflow:hidden}.seal-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.seal-text[_ngcontent-%COMP%]{font-size:.9rem;font-family:DM Sans,sans-serif;font-style:bold;font-weight:700;color:#fff;margin-top:14px}.logout-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px 20px;box-sizing:border-box}.logout-button[_ngcontent-%COMP%]{background-color:#6a4c93;color:#fff;border:none;border-radius:25px;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.logout-button[_ngcontent-%COMP%]:hover{background-color:#5a3b7d}.logout-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.contest-message[_ngcontent-%COMP%]{font-size:1.9rem;font-family:DM Sans,sans-serif;font-style:bold;font-weight:700;text-align:center;color:#ec671f;margin-top:14px}']})};function L$(n,e){if(n&1&&(we(0,"div",2)(1,"div",3)(2,"div",4),et(3,"img",5),Ie()(),we(4,"div",6)(5,"div",7)(6,"h2",8),Qe(7),Ie(),we(8,"div",9)(9,"div",10),et(10,"img",11),Ie(),we(11,"p",12),Qe(12),Ie()()()()()),n&2){let t=vr();Ke(7),Yi(t.welcomeTitle),Ke(5),Cn(" ",t.welcomeMessage," ")}}function V$(n,e){n&1&&(we(0,"div",13),et(1,"div",14),we(2,"p"),Qe(3,"Cargando..."),Ie()())}var kg=class n{constructor(e,t,r){this.route=e;this.router=t;this.authService=r}welcomeTitle="";welcomeMessage="";username="";securityUser="";isLoading=!0;ngOnInit(){return B(this,null,function*(){try{if(this.username=this.route.snapshot.paramMap.get("username")||"Usuario desconocido",this.securityUser=this.authService.getUsername()||"",!(yield this.authService.IsSecurityAccess(this.securityUser))){console.warn(`El usuario ${this.username} no tiene acceso de seguridad.`),this.router.navigate(["/pasaporte"]),this.isLoading=!1;return}let t=yield this.authService.registerAttendance(this.username),r=t.split(".")[0];t.includes("Acceso permitido")?(this.welcomeTitle="Acceso Permitido",this.welcomeMessage=r):(this.welcomeTitle="Acceso Denegado",this.welcomeMessage=r)}catch(e){console.error("Error al procesar la asistencia:",e),this.welcomeTitle="Error",this.welcomeMessage="Ocurri\xF3 un problema. Intenta nuevamente."}finally{this.isLoading=!1}})}static \u0275fac=function(t){return new(t||n)(Ae(ar),Ae(Qt),Ae(jn))};static \u0275cmp=pn({type:n,selectors:[["app-qr-verification"]],standalone:!0,features:[Vn],decls:2,vars:2,consts:[["class","background-container",4,"ngIf"],["class","loader-container",4,"ngIf"],[1,"background-container"],[1,"header"],[1,"logo"],["src","imgs/wow-logo-horizontal.png","alt","Logo OWOW"],[1,"welcome-container"],[1,"welcome-box"],[1,"welcome-title"],[1,"welcome-content"],[1,"profile-image"],["src","imgs/user.png","alt","Perfil de Usuario"],[1,"txt-content"],[1,"loader-container"],[1,"spinner"]],template:function(t,r){t&1&&mr(0,L$,13,2,"div",0)(1,V$,4,0,"div",1),t&2&&(It("ngIf",!r.isLoading),Ke(),It("ngIf",r.isLoading))},dependencies:[Zi,Ac],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;width:100%;box-sizing:border-box;color:#fff;margin-top:40px}.profile-image[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.profile-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;border-radius:50%;border:2px solid #ffffff}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.welcome-container[_ngcontent-%COMP%]{z-index:1;display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;overflow:auto}.welcome-box[_ngcontent-%COMP%]{background-color:#611f78;border-radius:20px 20px 0 0;padding:20px;width:90%;height:calc(100vh - 10px);box-sizing:border-box;box-shadow:0 -4px 12px #0000001a;border:3px solid #ffffff}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;object-fit:contain}.welcome-title[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:24px;height:auto;margin-top:10px;margin-bottom:10px;color:#fff;font-weight:700;text-align:center}.welcome-content[_ngcontent-%COMP%]{flex-direction:column}.txt-content[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:normal;font-size:14px;overflow-y:auto;height:10vh;padding:10px;color:#fff;font-weight:400;margin:0;text-align:center}.continue-button[_ngcontent-%COMP%]{display:block;margin:10px auto 0;padding:15px 30px;font-size:18px;font-weight:700;color:#fff;background-color:#dd5b22;border:none;border-radius:25px;box-shadow:0 4px 8px #0003;cursor:pointer;transition:all .2s ease}.continue-button[_ngcontent-%COMP%]:hover{background-color:#bb4a1c}.continue-button[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0003}.loader-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:#f9f9f9}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #ccc;border-top:5px solid #007bff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var od={};od.version="0.18.5";var ka=1200,Vu=1252,B$=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],U$={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},IN=function(n){B$.indexOf(n)!=-1&&(Vu=U$[0]=n)};function j$(){IN(1252)}var ad=function(n){ka=n,IN(n)};function $$(){ad(1200),j$()}function H$(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var Rg=function(e){return String.fromCharCode(e)},L2=function(e){return String.fromCharCode(e)},Ct;var Oi=null,Jf=!0,lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cd(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0,u=0;u<n.length;)t=n.charCodeAt(u++),s=t>>2,r=n.charCodeAt(u++),o=(t&3)<<4|r>>4,i=n.charCodeAt(u++),a=(r&15)<<2|i>>6,c=i&63,isNaN(r)?a=c=64:isNaN(i)&&(c=64),e+=lo.charAt(s)+lo.charAt(o)+lo.charAt(a)+lo.charAt(c);return e}function ps(n){var e="",t=0,r=0,i=0,s=0,o=0,a=0,c=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<n.length;)s=lo.indexOf(n.charAt(u++)),o=lo.indexOf(n.charAt(u++)),t=s<<2|o>>4,e+=String.fromCharCode(t),a=lo.indexOf(n.charAt(u++)),r=(o&15)<<4|a>>2,a!==64&&(e+=String.fromCharCode(r)),c=lo.indexOf(n.charAt(u++)),i=(a&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var lt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ms=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Na(n){return lt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function V2(n){return lt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var ci=function(e){return lt?ms(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Zg(n){if(typeof ArrayBuffer>"u")return ci(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function hd(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function z$(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var Rn=lt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:ms(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function W$(n){for(var e=[],t=0,r=n.length+250,i=Na(n.length+255),s=0;s<n.length;++s){var o=n.charCodeAt(s);if(o<128)i[t++]=o;else if(o<2048)i[t++]=192|o>>6&31,i[t++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var a=n.charCodeAt(++s)&1023;i[t++]=240|o>>8&7,i[t++]=128|o>>2&63,i[t++]=128|a>>6&15|(o&3)<<4,i[t++]=128|a&63}else i[t++]=224|o>>12&15,i[t++]=128|o>>6&63,i[t++]=128|o&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Na(65535),r=65530)}return e.push(i.slice(0,t)),Rn(e)}var Mu=/\u0000/g,Ng=/[\u0001-\u0006]/g;function Pu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function ui(n,e){var t=""+n;return t.length>=e?t:Vt("0",e-t.length)+t}function hE(n,e){var t=""+n;return t.length>=e?t:Vt(" ",e-t.length)+t}function Ug(n,e){var t=""+n;return t.length>=e?t:t+Vt(" ",e-t.length)}function G$(n,e){var t=""+Math.round(n);return t.length>=e?t:Vt("0",e-t.length)+t}function q$(n,e){var t=""+n;return t.length>=e?t:Vt("0",e-t.length)+t}var B2=Math.pow(2,32);function Du(n,e){if(n>B2||n<-B2)return G$(n,e);var t=Math.round(n);return q$(t,e)}function jg(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var U2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],tE=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function K$(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "',n}var Bt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4E0A\u5348/\u4E0B\u5348 "hh"\u6642"mm"\u5206"ss"\u79D2 "'},j2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Q$={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $g(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,o=1,a=0,c=1,u=0,f=0,d=Math.floor(i);u<e&&(d=Math.floor(i),a=d*o+s,f=d*u+c,!(i-d<5e-8));)i=1/(i-d),s=o,o=a,c=u,u=f;if(f>e&&(u>e?(f=c,a=s):(f=u,a=o)),!t)return[0,r*a,f];var p=Math.floor(r*a/f);return[p,r*a-p*f,f]}function Mg(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,o=[],a={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),e&&e.date1904&&(r+=1462),a.u>.9999&&(a.u=0,++i==86400&&(a.T=i=0,++r,++a.D)),r===60)o=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)o=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var c=new Date(1900,0,1);c.setDate(c.getDate()+r-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),r<60&&(s=(s+6)%7),t&&(s=nH(c,o))}return a.y=o[0],a.m=o[1],a.d=o[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=s,a}var TN=new Date(1899,11,31,0,0,0),X$=TN.getTime(),Y$=new Date(1900,2,1,0,0,0);function SN(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=Y$&&(t+=24*60*60*1e3),(t-(X$+(n.getTimezoneOffset()-TN.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function pE(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function J$(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Z$(n){var e=n<0?12:11,t=pE(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function eH(n){var e=pE(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function tH(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=Z$(n):e===10?t=n.toFixed(10).substr(0,12):t=eH(n),pE(J$(t.toUpperCase()))}function uE(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):tH(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return ho(14,SN(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function nH(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function rH(n,e,t,r){var i="",s=0,o=0,a=t.y,c,u=0;switch(n){case 98:a=t.y+543;case 121:switch(e.length){case 1:case 2:c=a%100,u=2;break;default:c=a%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,u=e.length;break;case 3:return tE[t.m-1][1];case 5:return tE[t.m-1][0];default:return tE[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,u=e.length;break;case 3:return U2[t.q][0];default:return U2[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?ui(t.S,e.length):(r>=2?o=r===3?1e3:100:o=r===1?10:1,s=Math.round(o*(t.S+t.u)),s>=60*o&&(s=0),e==="s"?s===0?"0":""+s/o:(i=ui(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:c=a,u=1;break}var f=u>0?ui(c,u):"";return f}function fo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var CN=/%/g;function iH(n,e,t){var r=e.replace(CN,""),i=e.length-r.length;return fs(n,r,t*Math.pow(10,2*i))+Vt("%",i)}function sH(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return fs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function bN(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+bN(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var o=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,u,f){return c+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var DN=/# (\?+)( ?)\/( ?)(\d+)/;function oH(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),o=i-s*r,a=r;return t+(s===0?"":""+s)+" "+(o===0?Vt(" ",n[1].length+1+n[4].length):hE(o,n[1].length)+n[2]+"/"+n[3]+ui(a,n[4].length))}function aH(n,e,t){return t+(e===0?"":""+e)+Vt(" ",n[1].length+2+n[4].length)}var AN=/^#*0*\.([0#]+)/,kN=/\).*[0#]/,RN=/\(###\) ###\\?-####/;function Yn(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function $2(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function H2(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function cH(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function uH(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Hr(n,e,t){if(n.charCodeAt(0)===40&&!e.match(kN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Hr("n",r,t):"("+Hr("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return sH(n,e,t);if(e.indexOf("%")!==-1)return iH(n,e,t);if(e.indexOf("E")!==-1)return bN(e,t);if(e.charCodeAt(0)===36)return"$"+Hr(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+Du(c,e.length);if(e.match(/^[#?]+$/))return i=Du(t,0),i==="0"&&(i=""),i.length>e.length?i:Yn(e.substr(0,e.length-i.length))+i;if(s=e.match(DN))return oH(s,c,u);if(e.match(/^#+0+$/))return u+Du(c,e.length-e.indexOf("0"));if(s=e.match(AN))return i=$2(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Yn(s[1])).replace(/\.$/,"."+Yn(s[1])).replace(/\.(\d*)$/,function(_,m){return"."+m+Vt("0",Yn(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+$2(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+fo(Du(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Hr(n,e,-t):fo(""+(Math.floor(t)+cH(t,s[1].length)))+"."+ui(H2(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Hr(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Pu(Hr(n,e.replace(/[\\-]/g,""),t)),o=0,Pu(Pu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(RN))return i=Hr(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=$g(c,Math.pow(10,o)-1,!1),i=""+u,f=fs("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Ug(a[2],o),f.length<s[4].length&&(f=Yn(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=$g(c,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?hE(a[1],o)+s[2]+"/"+s[3]+Ug(a[2],o):Vt(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Du(t,0),e.length<=i.length?i:Yn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return Yn(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return o=H2(t,s[1].length),t<0?"-"+Hr(n,e,-t):fo(uH(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?ui(0,3-_.length):"")+_})+"."+ui(o,s[1].length);switch(e){case"###,##0.00":return Hr(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var g=fo(Du(c,0));return g!=="0"?u+g:"";case"###,###.00":return Hr(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Hr(n,"#,##0.00",t).replace(/^0\./,".");default:}throw new Error("unsupported format |"+e+"|")}function lH(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return fs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function fH(n,e,t){var r=e.replace(CN,""),i=e.length-r.length;return fs(n,r,t*Math.pow(10,2*i))+Vt("%",i)}function NN(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+NN(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var o=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(o-t.length+s):t+="E+"+(o-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(a,c,u,f){return c+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Mi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(kN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Mi("n",r,t):"("+Mi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return lH(n,e,t);if(e.indexOf("%")!==-1)return fH(n,e,t);if(e.indexOf("E")!==-1)return NN(e,t);if(e.charCodeAt(0)===36)return"$"+Mi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,o,a,c=Math.abs(t),u=t<0?"-":"";if(e.match(/^00+$/))return u+ui(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Yn(e.substr(0,e.length-i.length))+i;if(s=e.match(DN))return aH(s,c,u);if(e.match(/^#+0+$/))return u+ui(c,e.length-e.indexOf("0"));if(s=e.match(AN))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Yn(s[1])).replace(/\.$/,"."+Yn(s[1])),i=i.replace(/\.(\d*)$/,function(_,m){return"."+m+Vt("0",Yn(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+fo(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Mi(n,e,-t):fo(""+t)+"."+Vt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Mi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Pu(Mi(n,e.replace(/[\\-]/g,""),t)),o=0,Pu(Pu(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return o<i.length?i.charAt(o++):_==="0"?"0":""}));if(e.match(RN))return i=Mi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(s[4].length,7),a=$g(c,Math.pow(10,o)-1,!1),i=""+u,f=fs("n",s[1],a[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=Ug(a[2],o),f.length<s[4].length&&(f=Yn(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(s[1].length,s[4].length),7),a=$g(c,Math.pow(10,o)-1,!0),u+(a[0]||(a[1]?"":"0"))+" "+(a[1]?hE(a[1],o)+s[2]+"/"+s[3]+Ug(a[2],o):Vt(" ",2*o+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Yn(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var d=e.indexOf(".")-o,p=e.length-i.length-d;return Yn(e.substr(0,d)+i+e.substr(e.length-p))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Mi(n,e,-t):fo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?ui(0,3-_.length):"")+_})+"."+ui(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var g=fo(""+c);return g!=="0"?u+g:"";default:if(e.match(/\.[0#?]*$/))return Mi(n,e.slice(0,e.lastIndexOf(".")),t)+Yn(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function fs(n,e,t){return(t|0)===t?Mi(n,e,t):Hr(n,e,t)}function dH(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var MN=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function PN(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":jg(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4E0A":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(MN))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function hH(n,e,t,r){for(var i=[],s="",o=0,a="",c="t",u,f,d,p="H";o<n.length;)switch(a=n.charAt(o)){case"G":if(!jg(n,o))throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(s="";(d=n.charCodeAt(++o))!==34&&o<n.length;)s+=String.fromCharCode(d);i[i.length]={t:"t",v:s},++o;break;case"\\":var g=n.charAt(++o),_=g==="("||g===")"?g:"t";i[i.length]={t:_,v:g},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:e},++o;break;case"B":case"b":if(n.charAt(o+1)==="1"||n.charAt(o+1)==="2"){if(u==null&&(u=Mg(e,t,n.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:n.substr(o,2)},c=a,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":a=a.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Mg(e,t),u==null))return"";for(s=a;++o<n.length&&n.charAt(o).toLowerCase()===a;)s+=a;a==="m"&&c.toLowerCase()==="h"&&(a="M"),a==="h"&&(a=p),i[i.length]={t:a,v:s},c=a;break;case"A":case"a":case"\u4E0A":var m={t:a,v:a};if(u==null&&(u=Mg(e,t)),n.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",p="h",o+=3):n.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",o+=5,p="h"):n.substr(o,5).toUpperCase()==="\u4E0A\u5348/\u4E0B\u5348"?(u!=null&&(m.v=u.H>=12?"\u4E0B\u5348":"\u4E0A\u5348"),m.t="T",o+=5,p="h"):(m.t="t",++o),u==null&&m.t==="T")return"";i[i.length]=m,c=a;break;case"[":for(s=a;n.charAt(o++)!=="]"&&o<n.length;)s+=n.charAt(o);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(MN)){if(u==null&&(u=Mg(e,t),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",PN(n)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=a;++o<n.length&&(a=n.charAt(o))==="0";)s+=a;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=a;++o<n.length&&"0#?.,E+-%".indexOf(a=n.charAt(o))>-1;)s+=a;i[i.length]={t:"n",v:s};break;case"?":for(s=a;n.charAt(++o)===a;)s+=a;i[i.length]={t:a,v:s},c=a;break;case"*":++o,(n.charAt(o)==" "||n.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:r===1?"t":a,v:a},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=a;o<n.length&&"0123456789".indexOf(n.charAt(++o))>-1;)s+=n.charAt(o);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:a,v:a},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=\u20ACacfijklopqrtuvwxzP".indexOf(a)===-1)throw new Error("unrecognized character "+a+" in "+n);i[i.length]={t:"t",v:a},++o;break}var y=0,P=0,F;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=p,c="h",y<1&&(y=1);break;case"s":(F=i[o].v.match(/\.0+$/))&&(P=Math.max(P,F[0].length-1)),y<3&&(y=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",y<2&&(y=2));break;case"X":break;case"Z":y<1&&i[o].v.match(/[Hh]/)&&(y=1),y<2&&i[o].v.match(/[Mm]/)&&(y=2),y<3&&i[o].v.match(/[Ss]/)&&(y=3)}switch(y){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var O="",j;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=rH(i[o].t.charCodeAt(0),i[o].v,u,P),i[o].t="t";break;case"n":case"?":for(j=o+1;i[j]!=null&&((a=i[j].t)==="?"||a==="D"||(a===" "||a==="t")&&i[j+1]!=null&&(i[j+1].t==="?"||i[j+1].t==="t"&&i[j+1].v==="/")||i[o].t==="("&&(a===" "||a==="n"||a===")")||a==="t"&&(i[j].v==="/"||i[j].v===" "&&i[j+1]!=null&&i[j+1].t=="?"));)i[o].v+=i[j].v,i[j]={v:"",t:";"},++j;O+=i[o].v,o=j-1;break;case"G":i[o].t="t",i[o].v=uE(e,t);break}var Q="",ee,w;if(O.length>0){O.charCodeAt(0)==40?(ee=e<0&&O.charCodeAt(0)===45?-e:e,w=fs("n",O,ee)):(ee=e<0&&r>1?-e:e,w=fs("n",O,ee),ee<0&&i[0]&&i[0].t=="t"&&(w=w.substr(1),i[0].v="-"+i[0].v)),j=w.length-1;var E=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){E=o;break}var I=i.length;if(E===i.length&&w.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(j>=i[o].v.length-1?(j-=i[o].v.length,i[o].v=w.substr(j+1,i[o].v.length)):j<0?i[o].v="":(i[o].v=w.substr(0,j+1),j=-1),i[o].t="t",I=o);j>=0&&I<i.length&&(i[I].v=w.substr(0,j+1)+i[I].v)}else if(E!==i.length&&w.indexOf("E")===-1){for(j=w.indexOf(".")-1,o=E;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")-1:i[o].v.length-1,Q=i[o].v.substr(f+1);f>=0;--f)j>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(Q=w.charAt(j--)+Q);i[o].v=Q,i[o].t="t",I=o}for(j>=0&&I<i.length&&(i[I].v=w.substr(0,j+1)+i[I].v),j=w.indexOf(".")+1,o=E;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==E)){for(f=i[o].v.indexOf(".")>-1&&o===E?i[o].v.indexOf(".")+1:0,Q=i[o].v.substr(0,f);f<i[o].v.length;++f)j<w.length&&(Q+=w.charAt(j++));i[o].v=Q,i[o].t="t",I=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(ee=r>1&&e<0&&o>0&&i[o-1].v==="-"?-e:e,i[o].v=fs(i[o].t,i[o].v,ee),i[o].t="t");var C="";for(o=0;o!==i.length;++o)i[o]!=null&&(C+=i[o].v);return C}var z2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function W2(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function pH(n,e){var t=dH(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break;case 4:break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var o=t[0].match(z2),a=t[1].match(z2);return W2(e,o)?[r,t[0]]:W2(e,a)?[r,t[1]]:[r,t[o!=null&&a!=null?2:1]]}return[r,s]}function ho(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:Bt)[n],r==null&&(r=t.table&&t.table[j2[n]]||Bt[j2[n]]),r==null&&(r=Q$[n]||"General");break}if(jg(r,0))return uE(e,t);e instanceof Date&&(e=SN(e,t.date1904));var i=pH(r,e);if(jg(i[1]))return uE(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return hH(i[1],e,t,i[0])}function ON(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Bt[t]==null){e<0&&(e=t);continue}if(Bt[t]==n){e=t;break}}e<0&&(e=391)}return Bt[e]=n,e}function em(n){for(var e=0;e!=392;++e)n[e]!==void 0&&ON(n[e],e)}function tm(){Bt=K$()}var FN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function gH(n){var e=typeof n=="number"?Bt[n]:n;return e=e.replace(FN,"(\\d+)"),new RegExp("^"+e+"$")}function mH(n,e,t){var r=-1,i=-1,s=-1,o=-1,a=-1,c=-1;(e.match(FN)||[]).forEach(function(d,p){var g=parseInt(t[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=g;break;case"d":s=g;break;case"h":o=g;break;case"s":c=g;break;case"m":o>=0?a=g:i=g;break}}),c>=0&&a==-1&&i>=0&&(a=i,i=-1);var u=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&a==-1&&c==-1?u:r==-1&&i==-1&&s==-1?f:u+"T"+f}var vH=function(){var n={};n.version="1.2.0";function e(){for(var w=0,E=new Array(256),I=0;I!=256;++I)w=I,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,E[I]=w;return typeof Int32Array<"u"?new Int32Array(E):E}var t=e();function r(w){var E=0,I=0,C=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)D[C]=w[C];for(C=0;C!=256;++C)for(I=w[C],E=256+C;E<4096;E+=256)I=D[E]=I>>>8^w[I&255];var M=[];for(C=1;C!=16;++C)M[C-1]=typeof Int32Array<"u"?D.subarray(C*256,C*256+256):D.slice(C*256,C*256+256);return M}var i=r(t),s=i[0],o=i[1],a=i[2],c=i[3],u=i[4],f=i[5],d=i[6],p=i[7],g=i[8],_=i[9],m=i[10],y=i[11],P=i[12],F=i[13],O=i[14];function j(w,E){for(var I=E^-1,C=0,D=w.length;C<D;)I=I>>>8^t[(I^w.charCodeAt(C++))&255];return~I}function Q(w,E){for(var I=E^-1,C=w.length-15,D=0;D<C;)I=O[w[D++]^I&255]^F[w[D++]^I>>8&255]^P[w[D++]^I>>16&255]^y[w[D++]^I>>>24]^m[w[D++]]^_[w[D++]]^g[w[D++]]^p[w[D++]]^d[w[D++]]^f[w[D++]]^u[w[D++]]^c[w[D++]]^a[w[D++]]^o[w[D++]]^s[w[D++]]^t[w[D++]];for(C+=15;D<C;)I=I>>>8^t[(I^w[D++])&255];return~I}function ee(w,E){for(var I=E^-1,C=0,D=w.length,M=0,A=0;C<D;)M=w.charCodeAt(C++),M<128?I=I>>>8^t[(I^M)&255]:M<2048?(I=I>>>8^t[(I^(192|M>>6&31))&255],I=I>>>8^t[(I^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,A=w.charCodeAt(C++)&1023,I=I>>>8^t[(I^(240|M>>8&7))&255],I=I>>>8^t[(I^(128|M>>2&63))&255],I=I>>>8^t[(I^(128|A>>6&15|(M&3)<<4))&255],I=I>>>8^t[(I^(128|A&63))&255]):(I=I>>>8^t[(I^(224|M>>12&15))&255],I=I>>>8^t[(I^(128|M>>6&63))&255],I=I>>>8^t[(I^(128|M&63))&255]);return~I}return n.table=t,n.bstr=j,n.buf=Q,n.str=ee,n}(),xt=function(){var e={};e.version="1.2.1";function t(x,k){for(var S=x.split("/"),b=k.split("/"),R=0,N=0,W=Math.min(S.length,b.length);R<W;++R){if(N=S[R].length-b[R].length)return N;if(S[R]!=b[R])return S[R]<b[R]?-1:1}return S.length-b.length}function r(x){if(x.charAt(x.length-1)=="/")return x.slice(0,-1).indexOf("/")===-1?x:r(x.slice(0,-1));var k=x.lastIndexOf("/");return k===-1?x:x.slice(0,k+1)}function i(x){if(x.charAt(x.length-1)=="/")return i(x.slice(0,-1));var k=x.lastIndexOf("/");return k===-1?x:x.slice(k+1)}function s(x,k){typeof k=="string"&&(k=new Date(k));var S=k.getHours();S=S<<6|k.getMinutes(),S=S<<5|k.getSeconds()>>>1,x.write_shift(2,S);var b=k.getFullYear()-1980;b=b<<4|k.getMonth()+1,b=b<<5|k.getDate(),x.write_shift(2,b)}function o(x){var k=x.read_shift(2)&65535,S=x.read_shift(2)&65535,b=new Date,R=S&31;S>>>=5;var N=S&15;S>>>=4,b.setMilliseconds(0),b.setFullYear(S+1980),b.setMonth(N-1),b.setDate(R);var W=k&31;k>>>=5;var J=k&63;return k>>>=6,b.setHours(k),b.setMinutes(J),b.setSeconds(W<<1),b}function a(x){Cr(x,0);for(var k={},S=0;x.l<=x.length-4;){var b=x.read_shift(2),R=x.read_shift(2),N=x.l+R,W={};switch(b){case 21589:S=x.read_shift(1),S&1&&(W.mtime=x.read_shift(4)),R>5&&(S&2&&(W.atime=x.read_shift(4)),S&4&&(W.ctime=x.read_shift(4))),W.mtime&&(W.mt=new Date(W.mtime*1e3));break}x.l=N,k[b]=W}return k}var c;function u(){return c||(c={})}function f(x,k){if(x[0]==80&&x[1]==75)return Zu(x,k);if((x[0]|32)==109&&(x[1]|32)==105)return yo(x,k);if(x.length<512)throw new Error("CFB file size "+x.length+" < 512");var S=3,b=512,R=0,N=0,W=0,J=0,z=0,G=[],q=x.slice(0,512);Cr(q,0);var ie=d(q);switch(S=ie[0],S){case 3:b=512;break;case 4:b=4096;break;case 0:if(ie[1]==0)return Zu(x,k);default:throw new Error("Major Version: Expected 3 or 4 saw "+S)}b!==512&&(q=x.slice(0,b),Cr(q,28));var ae=x.slice(0,b);p(q,S);var _e=q.read_shift(4,"i");if(S===3&&_e!==0)throw new Error("# Directory Sectors: Expected 0 saw "+_e);q.l+=4,W=q.read_shift(4,"i"),q.l+=4,q.chk("00100000","Mini Stream Cutoff Size: "),J=q.read_shift(4,"i"),R=q.read_shift(4,"i"),z=q.read_shift(4,"i"),N=q.read_shift(4,"i");for(var ce=-1,de=0;de<109&&(ce=q.read_shift(4,"i"),!(ce<0));++de)G[de]=ce;var Ne=g(x,b);y(z,N,Ne,b,G);var mt=F(Ne,W,G,b);mt[W].name="!Directory",R>0&&J!==A&&(mt[J].name="!MiniFAT"),mt[G[0]].name="!FAT",mt.fat_addrs=G,mt.ssz=b;var hn={},bt=[],jt=[],Bi=[];O(W,mt,Ne,bt,R,hn,jt,J),_(jt,Bi,bt),bt.shift();var Eo={FileIndex:jt,FullPaths:Bi};return k&&k.raw&&(Eo.raw={header:ae,sectors:Ne}),Eo}function d(x){if(x[x.l]==80&&x[x.l+1]==75)return[0,0];x.chk(Ue,"Header Signature: "),x.l+=16;var k=x.read_shift(2,"u");return[x.read_shift(2,"u"),k]}function p(x,k){var S=9;switch(x.l+=2,S=x.read_shift(2)){case 9:if(k!=3)throw new Error("Sector Shift: Expected 9 saw "+S);break;case 12:if(k!=4)throw new Error("Sector Shift: Expected 12 saw "+S);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+S)}x.chk("0600","Mini Sector Shift: "),x.chk("000000000000","Reserved: ")}function g(x,k){for(var S=Math.ceil(x.length/k)-1,b=[],R=1;R<S;++R)b[R-1]=x.slice(R*k,(R+1)*k);return b[S-1]=x.slice(S*k),b}function _(x,k,S){for(var b=0,R=0,N=0,W=0,J=0,z=S.length,G=[],q=[];b<z;++b)G[b]=q[b]=b,k[b]=S[b];for(;J<q.length;++J)b=q[J],R=x[b].L,N=x[b].R,W=x[b].C,G[b]===b&&(R!==-1&&G[R]!==R&&(G[b]=G[R]),N!==-1&&G[N]!==N&&(G[b]=G[N])),W!==-1&&(G[W]=b),R!==-1&&b!=G[b]&&(G[R]=G[b],q.lastIndexOf(R)<J&&q.push(R)),N!==-1&&b!=G[b]&&(G[N]=G[b],q.lastIndexOf(N)<J&&q.push(N));for(b=1;b<z;++b)G[b]===b&&(N!==-1&&G[N]!==N?G[b]=G[N]:R!==-1&&G[R]!==R&&(G[b]=G[R]));for(b=1;b<z;++b)if(x[b].type!==0){if(J=b,J!=G[J])do J=G[J],k[b]=k[J]+"/"+k[b];while(J!==0&&G[J]!==-1&&J!=G[J]);G[b]=-1}for(k[0]+="/",b=1;b<z;++b)x[b].type!==2&&(k[b]+="/")}function m(x,k,S){for(var b=x.start,R=x.size,N=[],W=b;S&&R>0&&W>=0;)N.push(k.slice(W*M,W*M+M)),R-=M,W=Aa(S,W*4);return N.length===0?Z(0):Rn(N).slice(0,x.size)}function y(x,k,S,b,R){var N=A;if(x===A){if(k!==0)throw new Error("DIFAT chain shorter than expected")}else if(x!==-1){var W=S[x],J=(b>>>2)-1;if(!W)return;for(var z=0;z<J&&(N=Aa(W,z*4))!==A;++z)R.push(N);y(Aa(W,b-4),k-1,S,b,R)}}function P(x,k,S,b,R){var N=[],W=[];R||(R=[]);var J=b-1,z=0,G=0;for(z=k;z>=0;){R[z]=!0,N[N.length]=z,W.push(x[z]);var q=S[Math.floor(z*4/b)];if(G=z*4&J,b<4+G)throw new Error("FAT boundary crossed: "+z+" 4 "+b);if(!x[q])break;z=Aa(x[q],G)}return{nodes:N,data:Z2([W])}}function F(x,k,S,b){var R=x.length,N=[],W=[],J=[],z=[],G=b-1,q=0,ie=0,ae=0,_e=0;for(q=0;q<R;++q)if(J=[],ae=q+k,ae>=R&&(ae-=R),!W[ae]){z=[];var ce=[];for(ie=ae;ie>=0;){ce[ie]=!0,W[ie]=!0,J[J.length]=ie,z.push(x[ie]);var de=S[Math.floor(ie*4/b)];if(_e=ie*4&G,b<4+_e)throw new Error("FAT boundary crossed: "+ie+" 4 "+b);if(!x[de]||(ie=Aa(x[de],_e),ce[ie]))break}N[ae]={nodes:J,data:Z2([z])}}return N}function O(x,k,S,b,R,N,W,J){for(var z=0,G=b.length?2:0,q=k[x].data,ie=0,ae=0,_e;ie<q.length;ie+=128){var ce=q.slice(ie,ie+128);Cr(ce,64),ae=ce.read_shift(2),_e=im(ce,0,ae-G),b.push(_e);var de={name:_e,type:ce.read_shift(1),color:ce.read_shift(1),L:ce.read_shift(4,"i"),R:ce.read_shift(4,"i"),C:ce.read_shift(4,"i"),clsid:ce.read_shift(16),state:ce.read_shift(4,"i"),start:0,size:0},Ne=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);Ne!==0&&(de.ct=j(ce,ce.l-8));var mt=ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2)+ce.read_shift(2);mt!==0&&(de.mt=j(ce,ce.l-8)),de.start=ce.read_shift(4,"i"),de.size=ce.read_shift(4,"i"),de.size<0&&de.start<0&&(de.size=de.type=0,de.start=A,de.name=""),de.type===5?(z=de.start,R>0&&z!==A&&(k[z].name="!StreamData")):de.size>=4096?(de.storage="fat",k[de.start]===void 0&&(k[de.start]=P(S,de.start,k.fat_addrs,k.ssz)),k[de.start].name=de.name,de.content=k[de.start].data.slice(0,de.size)):(de.storage="minifat",de.size<0?de.size=0:z!==A&&de.start!==A&&k[z]&&(de.content=m(de,k[z].data,(k[J]||{}).data))),de.content&&Cr(de.content,0),N[_e]=de,W.push(de)}}function j(x,k){return new Date((mn(x,k+4)/1e7*Math.pow(2,32)+mn(x,k)/1e7-11644473600)*1e3)}function Q(x,k){return u(),f(c.readFileSync(x),k)}function ee(x,k){var S=k&&k.type;switch(S||lt&&Buffer.isBuffer(x)&&(S="buffer"),S||"base64"){case"file":return Q(x,k);case"base64":return f(ci(ps(x)),k);case"binary":return f(ci(x),k)}return f(x,k)}function w(x,k){var S=k||{},b=S.root||"Root Entry";if(x.FullPaths||(x.FullPaths=[]),x.FileIndex||(x.FileIndex=[]),x.FullPaths.length!==x.FileIndex.length)throw new Error("inconsistent CFB structure");x.FullPaths.length===0&&(x.FullPaths[0]=b+"/",x.FileIndex[0]={name:b,type:5}),S.CLSID&&(x.FileIndex[0].clsid=S.CLSID),E(x)}function E(x){var k="Sh33tJ5";if(!xt.find(x,"/"+k)){var S=Z(4);S[0]=55,S[1]=S[3]=50,S[2]=54,x.FileIndex.push({name:k,type:2,content:S,size:4,L:69,R:69,C:69}),x.FullPaths.push(x.FullPaths[0]+k),I(x)}}function I(x,k){w(x);for(var S=!1,b=!1,R=x.FullPaths.length-1;R>=0;--R){var N=x.FileIndex[R];switch(N.type){case 0:b?S=!0:(x.FileIndex.pop(),x.FullPaths.pop());break;case 1:case 2:case 5:b=!0,isNaN(N.R*N.L*N.C)&&(S=!0),N.R>-1&&N.L>-1&&N.R==N.L&&(S=!0);break;default:S=!0;break}}if(!(!S&&!k)){var W=new Date(1987,1,19),J=0,z=Object.create?Object.create(null):{},G=[];for(R=0;R<x.FullPaths.length;++R)z[x.FullPaths[R]]=!0,x.FileIndex[R].type!==0&&G.push([x.FullPaths[R],x.FileIndex[R]]);for(R=0;R<G.length;++R){var q=r(G[R][0]);b=z[q],b||(G.push([q,{name:i(q).replace("/",""),type:1,clsid:zt,ct:W,mt:W,content:null}]),z[q]=!0)}for(G.sort(function(_e,ce){return t(_e[0],ce[0])}),x.FullPaths=[],x.FileIndex=[],R=0;R<G.length;++R)x.FullPaths[R]=G[R][0],x.FileIndex[R]=G[R][1];for(R=0;R<G.length;++R){var ie=x.FileIndex[R],ae=x.FullPaths[R];if(ie.name=i(ae).replace("/",""),ie.L=ie.R=ie.C=-(ie.color=1),ie.size=ie.content?ie.content.length:0,ie.start=0,ie.clsid=ie.clsid||zt,R===0)ie.C=G.length>1?1:-1,ie.size=0,ie.type=5;else if(ae.slice(-1)=="/"){for(J=R+1;J<G.length&&r(x.FullPaths[J])!=ae;++J);for(ie.C=J>=G.length?-1:J,J=R+1;J<G.length&&r(x.FullPaths[J])!=r(ae);++J);ie.R=J>=G.length?-1:J,ie.type=1}else r(x.FullPaths[R+1]||"")==r(ae)&&(ie.R=R+1),ie.type=2}}}function C(x,k){var S=k||{};if(S.fileType=="mad")return Td(x,S);switch(I(x),S.fileType){case"zip":return _o(x,S)}var b=function(_e){for(var ce=0,de=0,Ne=0;Ne<_e.FileIndex.length;++Ne){var mt=_e.FileIndex[Ne];if(mt.content){var hn=mt.content.length;hn>0&&(hn<4096?ce+=hn+63>>6:de+=hn+511>>9)}}for(var bt=_e.FullPaths.length+3>>2,jt=ce+7>>3,Bi=ce+127>>7,Eo=jt+de+bt+Bi,hi=Eo+127>>7,za=hi<=109?0:Math.ceil((hi-109)/127);Eo+hi+za+127>>7>hi;)za=++hi<=109?0:Math.ceil((hi-109)/127);var kr=[1,za,hi,Bi,bt,de,ce,0];return _e.FileIndex[0].size=ce<<6,kr[7]=(_e.FileIndex[0].start=kr[0]+kr[1]+kr[2]+kr[3]+kr[4]+kr[5])+(kr[6]+7>>3),kr}(x),R=Z(b[7]<<9),N=0,W=0;{for(N=0;N<8;++N)R.write_shift(1,Te[N]);for(N=0;N<8;++N)R.write_shift(2,0);for(R.write_shift(2,62),R.write_shift(2,3),R.write_shift(2,65534),R.write_shift(2,9),R.write_shift(2,6),N=0;N<3;++N)R.write_shift(2,0);for(R.write_shift(4,0),R.write_shift(4,b[2]),R.write_shift(4,b[0]+b[1]+b[2]+b[3]-1),R.write_shift(4,0),R.write_shift(4,4096),R.write_shift(4,b[3]?b[0]+b[1]+b[2]-1:A),R.write_shift(4,b[3]),R.write_shift(-4,b[1]?b[0]-1:A),R.write_shift(4,b[1]),N=0;N<109;++N)R.write_shift(-4,N<b[2]?b[1]+N:-1)}if(b[1])for(W=0;W<b[1];++W){for(;N<236+W*127;++N)R.write_shift(-4,N<b[2]?b[1]+N:-1);R.write_shift(-4,W===b[1]-1?A:W+1)}var J=function(_e){for(W+=_e;N<W-1;++N)R.write_shift(-4,N+1);_e&&(++N,R.write_shift(-4,A))};for(W=N=0,W+=b[1];N<W;++N)R.write_shift(-4,Rt.DIFSECT);for(W+=b[2];N<W;++N)R.write_shift(-4,Rt.FATSECT);J(b[3]),J(b[4]);for(var z=0,G=0,q=x.FileIndex[0];z<x.FileIndex.length;++z)q=x.FileIndex[z],q.content&&(G=q.content.length,!(G<4096)&&(q.start=W,J(G+511>>9)));for(J(b[6]+7>>3);R.l&511;)R.write_shift(-4,Rt.ENDOFCHAIN);for(W=N=0,z=0;z<x.FileIndex.length;++z)q=x.FileIndex[z],q.content&&(G=q.content.length,!(!G||G>=4096)&&(q.start=W,J(G+63>>6)));for(;R.l&511;)R.write_shift(-4,Rt.ENDOFCHAIN);for(N=0;N<b[4]<<2;++N){var ie=x.FullPaths[N];if(!ie||ie.length===0){for(z=0;z<17;++z)R.write_shift(4,0);for(z=0;z<3;++z)R.write_shift(4,-1);for(z=0;z<12;++z)R.write_shift(4,0);continue}q=x.FileIndex[N],N===0&&(q.start=q.size?q.start-1:A);var ae=N===0&&S.root||q.name;if(G=2*(ae.length+1),R.write_shift(64,ae,"utf16le"),R.write_shift(2,G),R.write_shift(1,q.type),R.write_shift(1,q.color),R.write_shift(-4,q.L),R.write_shift(-4,q.R),R.write_shift(-4,q.C),q.clsid)R.write_shift(16,q.clsid,"hex");else for(z=0;z<4;++z)R.write_shift(4,0);R.write_shift(4,q.state||0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,0),R.write_shift(4,q.start),R.write_shift(4,q.size),R.write_shift(4,0)}for(N=1;N<x.FileIndex.length;++N)if(q=x.FileIndex[N],q.size>=4096)if(R.l=q.start+1<<9,lt&&Buffer.isBuffer(q.content))q.content.copy(R,R.l,0,q.size),R.l+=q.size+511&-512;else{for(z=0;z<q.size;++z)R.write_shift(1,q.content[z]);for(;z&511;++z)R.write_shift(1,0)}for(N=1;N<x.FileIndex.length;++N)if(q=x.FileIndex[N],q.size>0&&q.size<4096)if(lt&&Buffer.isBuffer(q.content))q.content.copy(R,R.l,0,q.size),R.l+=q.size+63&-64;else{for(z=0;z<q.size;++z)R.write_shift(1,q.content[z]);for(;z&63;++z)R.write_shift(1,0)}if(lt)R.l=R.length;else for(;R.l<R.length;)R.write_shift(1,0);return R}function D(x,k){var S=x.FullPaths.map(function(z){return z.toUpperCase()}),b=S.map(function(z){var G=z.split("/");return G[G.length-(z.slice(-1)=="/"?2:1)]}),R=!1;k.charCodeAt(0)===47?(R=!0,k=S[0].slice(0,-1)+k):R=k.indexOf("/")!==-1;var N=k.toUpperCase(),W=R===!0?S.indexOf(N):b.indexOf(N);if(W!==-1)return x.FileIndex[W];var J=!N.match(Ng);for(N=N.replace(Mu,""),J&&(N=N.replace(Ng,"!")),W=0;W<S.length;++W)if((J?S[W].replace(Ng,"!"):S[W]).replace(Mu,"")==N||(J?b[W].replace(Ng,"!"):b[W]).replace(Mu,"")==N)return x.FileIndex[W];return null}var M=64,A=-2,Ue="d0cf11e0a1b11ae1",Te=[208,207,17,224,161,177,26,225],zt="00000000000000000000000000000000",Rt={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:A,FREESECT:-1,HEADER_SIGNATURE:Ue,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:zt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Wt(x,k,S){u();var b=C(x,S);c.writeFileSync(k,b)}function tn(x){for(var k=new Array(x.length),S=0;S<x.length;++S)k[S]=String.fromCharCode(x[S]);return k.join("")}function Gt(x,k){var S=C(x,k);switch(k&&k.type||"buffer"){case"file":return u(),c.writeFileSync(k.filename,S),S;case"binary":return typeof S=="string"?S:tn(S);case"base64":return cd(typeof S=="string"?S:tn(S));case"buffer":if(lt)return Buffer.isBuffer(S)?S:ms(S);case"array":return typeof S=="string"?ci(S):S}return S}var On;function L(x){try{var k=x.InflateRaw,S=new k;if(S._processChunk(new Uint8Array([3,0]),S._finishFlushFlag),S.bytesRead)On=x;else throw new Error("zlib does not expose bytesRead")}catch(b){console.error("cannot use native zlib: "+(b.message||b))}}function Y(x,k){if(!On)return xd(x,k);var S=On.InflateRaw,b=new S,R=b._processChunk(x.slice(x.l),b._finishFlushFlag);return x.l+=b.bytesRead,R}function U(x){return On?On.deflateRawSync(x):Ku(x)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ke(x){var k=(x<<1|x<<11)&139536|(x<<5|x<<15)&558144;return(k>>16|k>>8|k)&255}for(var ye=typeof Uint8Array<"u",oe=ye?new Uint8Array(256):[],st=0;st<256;++st)oe[st]=ke(st);function We(x,k){var S=oe[x&255];return k<=8?S>>>8-k:(S=S<<8|oe[x>>8&255],k<=16?S>>>16-k:(S=S<<8|oe[x>>16&255],S>>>24-k))}function Ut(x,k){var S=k&7,b=k>>>3;return(x[b]|(S<=6?0:x[b+1]<<8))>>>S&3}function Ye(x,k){var S=k&7,b=k>>>3;return(x[b]|(S<=5?0:x[b+1]<<8))>>>S&7}function zn(x,k){var S=k&7,b=k>>>3;return(x[b]|(S<=4?0:x[b+1]<<8))>>>S&15}function Dt(x,k){var S=k&7,b=k>>>3;return(x[b]|(S<=3?0:x[b+1]<<8))>>>S&31}function xe(x,k){var S=k&7,b=k>>>3;return(x[b]|(S<=1?0:x[b+1]<<8))>>>S&127}function er(x,k,S){var b=k&7,R=k>>>3,N=(1<<S)-1,W=x[R]>>>b;return S<8-b||(W|=x[R+1]<<8-b,S<16-b)||(W|=x[R+2]<<16-b,S<24-b)||(W|=x[R+3]<<24-b),W&N}function Ar(x,k,S){var b=k&7,R=k>>>3;return b<=5?x[R]|=(S&7)<<b:(x[R]|=S<<b&255,x[R+1]=(S&7)>>8-b),k+3}function fi(x,k,S){var b=k&7,R=k>>>3;return S=(S&1)<<b,x[R]|=S,k+1}function di(x,k,S){var b=k&7,R=k>>>3;return S<<=b,x[R]|=S&255,S>>>=8,x[R+1]=S,k+8}function Gu(x,k,S){var b=k&7,R=k>>>3;return S<<=b,x[R]|=S&255,S>>>=8,x[R+1]=S&255,x[R+2]=S>>>8,k+16}function qu(x,k){var S=x.length,b=2*S>k?2*S:k+5,R=0;if(S>=k)return x;if(lt){var N=V2(b);if(x.copy)x.copy(N);else for(;R<x.length;++R)N[R]=x[R];return N}else if(ye){var W=new Uint8Array(b);if(W.set)W.set(x);else for(;R<S;++R)W[R]=x[R];return W}return x.length=b,x}function tr(x){for(var k=new Array(x),S=0;S<x;++S)k[S]=0;return k}function ys(x,k,S){var b=1,R=0,N=0,W=0,J=0,z=x.length,G=ye?new Uint16Array(32):tr(32);for(N=0;N<32;++N)G[N]=0;for(N=z;N<S;++N)x[N]=0;z=x.length;var q=ye?new Uint16Array(z):tr(z);for(N=0;N<z;++N)G[R=x[N]]++,b<R&&(b=R),q[N]=0;for(G[0]=0,N=1;N<=b;++N)G[N+16]=J=J+G[N-1]<<1;for(N=0;N<z;++N)J=x[N],J!=0&&(q[N]=G[J+16]++);var ie=0;for(N=0;N<z;++N)if(ie=x[N],ie!=0)for(J=We(q[N],b)>>b-ie,W=(1<<b+4-ie)-1;W>=0;--W)k[J|W<<ie]=ie&15|N<<4;return b}var vo=ye?new Uint16Array(512):tr(512),qt=ye?new Uint16Array(32):tr(32);if(!ye){for(var Mt=0;Mt<512;++Mt)vo[Mt]=0;for(Mt=0;Mt<32;++Mt)qt[Mt]=0}(function(){for(var x=[],k=0;k<32;k++)x.push(5);ys(x,qt,32);var S=[];for(k=0;k<=143;k++)S.push(8);for(;k<=255;k++)S.push(9);for(;k<=279;k++)S.push(7);for(;k<=287;k++)S.push(8);ys(S,vo,288)})();var Ua=function(){for(var k=ye?new Uint8Array(32768):[],S=0,b=0;S<ve.length-1;++S)for(;b<ve[S+1];++b)k[b]=S;for(;b<32768;++b)k[b]=29;var R=ye?new Uint8Array(259):[];for(S=0,b=0;S<re.length-1;++S)for(;b<re[S+1];++b)R[b]=S;function N(J,z){for(var G=0;G<J.length;){var q=Math.min(65535,J.length-G),ie=G+q==J.length;for(z.write_shift(1,+ie),z.write_shift(2,q),z.write_shift(2,~q&65535);q-- >0;)z[z.l++]=J[G++]}return z.l}function W(J,z){for(var G=0,q=0,ie=ye?new Uint16Array(32768):[];q<J.length;){var ae=Math.min(65535,J.length-q);if(ae<10){for(G=Ar(z,G,+(q+ae==J.length)),G&7&&(G+=8-(G&7)),z.l=G/8|0,z.write_shift(2,ae),z.write_shift(2,~ae&65535);ae-- >0;)z[z.l++]=J[q++];G=z.l*8;continue}G=Ar(z,G,+(q+ae==J.length)+2);for(var _e=0;ae-- >0;){var ce=J[q];_e=(_e<<5^ce)&32767;var de=-1,Ne=0;if((de=ie[_e])&&(de|=q&-32768,de>q&&(de-=32768),de<q))for(;J[de+Ne]==J[q+Ne]&&Ne<250;)++Ne;if(Ne>2){ce=R[Ne],ce<=22?G=di(z,G,oe[ce+1]>>1)-1:(di(z,G,3),G+=5,di(z,G,oe[ce-23]>>5),G+=3);var mt=ce<8?0:ce-4>>2;mt>0&&(Gu(z,G,Ne-re[ce]),G+=mt),ce=k[q-de],G=di(z,G,oe[ce]>>3),G-=3;var hn=ce<4?0:ce-2>>1;hn>0&&(Gu(z,G,q-de-ve[ce]),G+=hn);for(var bt=0;bt<Ne;++bt)ie[_e]=q&32767,_e=(_e<<5^J[q])&32767,++q;ae-=Ne-1}else ce<=143?ce=ce+48:G=fi(z,G,1),G=di(z,G,oe[ce]),ie[_e]=q&32767,++q}G=di(z,G,0)-1}return z.l=(G+7)/8|0,z.l}return function(z,G){return z.length<8?N(z,G):W(z,G)}}();function Ku(x){var k=Z(50+Math.floor(x.length*1.1)),S=Ua(x,k);return k.slice(0,S)}var Qu=ye?new Uint16Array(32768):tr(32768),yd=ye?new Uint16Array(32768):tr(32768),xs=ye?new Uint16Array(128):tr(128),Xu=1,Yu=1;function Ju(x,k){var S=Dt(x,k)+257;k+=5;var b=Dt(x,k)+1;k+=5;var R=zn(x,k)+4;k+=4;for(var N=0,W=ye?new Uint8Array(19):tr(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],z=1,G=ye?new Uint8Array(8):tr(8),q=ye?new Uint8Array(8):tr(8),ie=W.length,ae=0;ae<R;++ae)W[V[ae]]=N=Ye(x,k),z<N&&(z=N),G[N]++,k+=3;var _e=0;for(G[0]=0,ae=1;ae<=z;++ae)q[ae]=_e=_e+G[ae-1]<<1;for(ae=0;ae<ie;++ae)(_e=W[ae])!=0&&(J[ae]=q[_e]++);var ce=0;for(ae=0;ae<ie;++ae)if(ce=W[ae],ce!=0){_e=oe[J[ae]]>>8-ce;for(var de=(1<<7-ce)-1;de>=0;--de)xs[_e|de<<ce]=ce&7|ae<<3}var Ne=[];for(z=1;Ne.length<S+b;)switch(_e=xs[xe(x,k)],k+=_e&7,_e>>>=3){case 16:for(N=3+Ut(x,k),k+=2,_e=Ne[Ne.length-1];N-- >0;)Ne.push(_e);break;case 17:for(N=3+Ye(x,k),k+=3;N-- >0;)Ne.push(0);break;case 18:for(N=11+xe(x,k),k+=7;N-- >0;)Ne.push(0);break;default:Ne.push(_e),z<_e&&(z=_e);break}var mt=Ne.slice(0,S),hn=Ne.slice(S);for(ae=S;ae<286;++ae)mt[ae]=0;for(ae=b;ae<30;++ae)hn[ae]=0;return Xu=ys(mt,Qu,286),Yu=ys(hn,yd,30),k}function dm(x,k){if(x[0]==3&&!(x[1]&3))return[Na(k),2];for(var S=0,b=0,R=V2(k||1<<18),N=0,W=R.length>>>0,J=0,z=0;!(b&1);){if(b=Ye(x,S),S+=3,b>>>1)b>>1==1?(J=9,z=5):(S=Ju(x,S),J=Xu,z=Yu);else{S&7&&(S+=8-(S&7));var G=x[S>>>3]|x[(S>>>3)+1]<<8;if(S+=32,G>0)for(!k&&W<N+G&&(R=qu(R,N+G),W=R.length);G-- >0;)R[N++]=x[S>>>3],S+=8;continue}for(;;){!k&&W<N+32767&&(R=qu(R,N+32767),W=R.length);var q=er(x,S,J),ie=b>>>1==1?vo[q]:Qu[q];if(S+=ie&15,ie>>>=4,!(ie>>>8&255))R[N++]=ie;else{if(ie==256)break;ie-=257;var ae=ie<8?0:ie-4>>2;ae>5&&(ae=0);var _e=N+re[ie];ae>0&&(_e+=er(x,S,ae),S+=ae),q=er(x,S,z),ie=b>>>1==1?qt[q]:yd[q],S+=ie&15,ie>>>=4;var ce=ie<4?0:ie-2>>1,de=ve[ie];for(ce>0&&(de+=er(x,S,ce),S+=ce),!k&&W<_e&&(R=qu(R,_e+100),W=R.length);N<_e;)R[N]=R[N-de],++N}}}return k?[R,S+7>>>3]:[R.slice(0,N),S+7>>>3]}function xd(x,k){var S=x.slice(x.l||0),b=dm(S,k);return x.l+=b[1],b[0]}function ja(x,k){if(x)typeof console<"u"&&console.error(k);else throw new Error(k)}function Zu(x,k){var S=x;Cr(S,0);var b=[],R=[],N={FileIndex:b,FullPaths:R};w(N,{root:k.root});for(var W=S.length-4;(S[W]!=80||S[W+1]!=75||S[W+2]!=5||S[W+3]!=6)&&W>=0;)--W;S.l=W+4,S.l+=4;var J=S.read_shift(2);S.l+=6;var z=S.read_shift(4);for(S.l=z,W=0;W<J;++W){S.l+=20;var G=S.read_shift(4),q=S.read_shift(4),ie=S.read_shift(2),ae=S.read_shift(2),_e=S.read_shift(2);S.l+=8;var ce=S.read_shift(4),de=a(S.slice(S.l+ie,S.l+ie+ae));S.l+=ie+ae+_e;var Ne=S.l;S.l=ce+4,wd(S,G,q,N,de),S.l=Ne}return N}function wd(x,k,S,b,R){x.l+=2;var N=x.read_shift(2),W=x.read_shift(2),J=o(x);if(N&8257)throw new Error("Unsupported ZIP encryption");for(var z=x.read_shift(4),G=x.read_shift(4),q=x.read_shift(4),ie=x.read_shift(2),ae=x.read_shift(2),_e="",ce=0;ce<ie;++ce)_e+=String.fromCharCode(x[x.l++]);if(ae){var de=a(x.slice(x.l,x.l+ae));(de[21589]||{}).mt&&(J=de[21589].mt),((R||{})[21589]||{}).mt&&(J=R[21589].mt)}x.l+=ae;var Ne=x.slice(x.l,x.l+G);switch(W){case 8:Ne=Y(x,q);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+W)}var mt=!1;N&8&&(z=x.read_shift(4),z==134695760&&(z=x.read_shift(4),mt=!0),G=x.read_shift(4),q=x.read_shift(4)),G!=k&&ja(mt,"Bad compressed size: "+k+" != "+G),q!=S&&ja(mt,"Bad uncompressed size: "+S+" != "+q),Ha(b,_e,Ne,{unsafe:!0,mt:J})}function _o(x,k){var S=k||{},b=[],R=[],N=Z(1),W=S.compression?8:0,J=0,z=!1;z&&(J|=8);var G=0,q=0,ie=0,ae=0,_e=x.FullPaths[0],ce=_e,de=x.FileIndex[0],Ne=[],mt=0;for(G=1;G<x.FullPaths.length;++G)if(ce=x.FullPaths[G].slice(_e.length),de=x.FileIndex[G],!(!de.size||!de.content||ce=="Sh33tJ5")){var hn=ie,bt=Z(ce.length);for(q=0;q<ce.length;++q)bt.write_shift(1,ce.charCodeAt(q)&127);bt=bt.slice(0,bt.l),Ne[ae]=vH.buf(de.content,0);var jt=de.content;W==8&&(jt=U(jt)),N=Z(30),N.write_shift(4,67324752),N.write_shift(2,20),N.write_shift(2,J),N.write_shift(2,W),de.mt?s(N,de.mt):N.write_shift(4,0),N.write_shift(-4,J&8?0:Ne[ae]),N.write_shift(4,J&8?0:jt.length),N.write_shift(4,J&8?0:de.content.length),N.write_shift(2,bt.length),N.write_shift(2,0),ie+=N.length,b.push(N),ie+=bt.length,b.push(bt),ie+=jt.length,b.push(jt),J&8&&(N=Z(12),N.write_shift(-4,Ne[ae]),N.write_shift(4,jt.length),N.write_shift(4,de.content.length),ie+=N.l,b.push(N)),N=Z(46),N.write_shift(4,33639248),N.write_shift(2,0),N.write_shift(2,20),N.write_shift(2,J),N.write_shift(2,W),N.write_shift(4,0),N.write_shift(-4,Ne[ae]),N.write_shift(4,jt.length),N.write_shift(4,de.content.length),N.write_shift(2,bt.length),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(4,0),N.write_shift(4,hn),mt+=N.l,R.push(N),mt+=bt.length,R.push(bt),++ae}return N=Z(22),N.write_shift(4,101010256),N.write_shift(2,0),N.write_shift(2,0),N.write_shift(2,ae),N.write_shift(2,ae),N.write_shift(4,mt),N.write_shift(4,ie),N.write_shift(2,0),Rn([Rn(b),Rn(R),N])}var ws={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function el(x,k){if(x.ctype)return x.ctype;var S=x.name||"",b=S.match(/\.([^\.]+)$/);return b&&ws[b[1]]||k&&(b=(S=k).match(/[\.\\]([^\.\\])+$/),b&&ws[b[1]])?ws[b[1]]:"application/octet-stream"}function Vi(x){for(var k=cd(x),S=[],b=0;b<k.length;b+=76)S.push(k.slice(b,b+76));return S.join(`\r
`)+`\r
`}function Ed(x){var k=x.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(G){var q=G.charCodeAt(0).toString(16).toUpperCase();return"="+(q.length==1?"0"+q:q)});k=k.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),k.charAt(0)==`
`&&(k="=0D"+k.slice(1)),k=k.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var S=[],b=k.split(`\r
`),R=0;R<b.length;++R){var N=b[R];if(N.length==0){S.push("");continue}for(var W=0;W<N.length;){var J=76,z=N.slice(W,W+J);z.charAt(J-1)=="="?J--:z.charAt(J-2)=="="?J-=2:z.charAt(J-3)=="="&&(J-=3),z=N.slice(W,W+J),W+=J,W<N.length&&(z+="="),S.push(z)}}return S.join(`\r
`)}function $a(x){for(var k=[],S=0;S<x.length;++S){for(var b=x[S];S<=x.length&&b.charAt(b.length-1)=="=";)b=b.slice(0,b.length-1)+x[++S];k.push(b)}for(var R=0;R<k.length;++R)k[R]=k[R].replace(/[=][0-9A-Fa-f]{2}/g,function(N){return String.fromCharCode(parseInt(N.slice(1),16))});return ci(k.join(`\r
`))}function Id(x,k,S){for(var b="",R="",N="",W,J=0;J<10;++J){var z=k[J];if(!z||z.match(/^\s*$/))break;var G=z.match(/^(.*?):\s*([^\s].*)$/);if(G)switch(G[1].toLowerCase()){case"content-location":b=G[2].trim();break;case"content-type":N=G[2].trim();break;case"content-transfer-encoding":R=G[2].trim();break}}switch(++J,R.toLowerCase()){case"base64":W=ci(ps(k.slice(J).join("")));break;case"quoted-printable":W=$a(k.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+R)}var q=Ha(x,b.slice(S.length),W,{unsafe:!0});N&&(q.ctype=N)}function yo(x,k){if(tn(x.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var S=k&&k.root||"",b=(lt&&Buffer.isBuffer(x)?x.toString("binary"):tn(x)).split(`\r
`),R=0,N="";for(R=0;R<b.length;++R)if(N=b[R],!!/^Content-Location:/i.test(N)&&(N=N.slice(N.indexOf("file")),S||(S=N.slice(0,N.lastIndexOf("/")+1)),N.slice(0,S.length)!=S))for(;S.length>0&&(S=S.slice(0,S.length-1),S=S.slice(0,S.lastIndexOf("/")+1),N.slice(0,S.length)!=S););var W=(b[1]||"").match(/boundary="(.*?)"/);if(!W)throw new Error("MAD cannot find boundary");var J="--"+(W[1]||""),z=[],G=[],q={FileIndex:z,FullPaths:G};w(q);var ie,ae=0;for(R=0;R<b.length;++R){var _e=b[R];_e!==J&&_e!==J+"--"||(ae++&&Id(q,b.slice(ie,R),S),ie=R)}return q}function Td(x,k){var S=k||{},b=S.boundary||"SheetJS";b="------="+b;for(var R=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+b.slice(2)+'"',"","",""],N=x.FullPaths[0],W=N,J=x.FileIndex[0],z=1;z<x.FullPaths.length;++z)if(W=x.FullPaths[z].slice(N.length),J=x.FileIndex[z],!(!J.size||!J.content||W=="Sh33tJ5")){W=W.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ne){return"_x"+Ne.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ne){return"_u"+Ne.charCodeAt(0).toString(16)+"_"});for(var G=J.content,q=lt&&Buffer.isBuffer(G)?G.toString("binary"):tn(G),ie=0,ae=Math.min(1024,q.length),_e=0,ce=0;ce<=ae;++ce)(_e=q.charCodeAt(ce))>=32&&_e<128&&++ie;var de=ie>=ae*4/5;R.push(b),R.push("Content-Location: "+(S.root||"file:///C:/SheetJS/")+W),R.push("Content-Transfer-Encoding: "+(de?"quoted-printable":"base64")),R.push("Content-Type: "+el(J,W)),R.push(""),R.push(de?Ed(q):Vi(q))}return R.push(b+`--\r
`),R.join(`\r
`)}function xn(x){var k={};return w(k,x),k}function Ha(x,k,S,b){var R=b&&b.unsafe;R||w(x);var N=!R&&xt.find(x,k);if(!N){var W=x.FullPaths[0];k.slice(0,W.length)==W?W=k:(W.slice(-1)!="/"&&(W+="/"),W=(W+k).replace("//","/")),N={name:i(k),type:2},x.FileIndex.push(N),x.FullPaths.push(W),R||xt.utils.cfb_gc(x)}return N.content=S,N.size=S?S.length:0,b&&(b.CLSID&&(N.clsid=b.CLSID),b.mt&&(N.mt=b.mt),b.ct&&(N.ct=b.ct)),N}function xo(x,k){w(x);var S=xt.find(x,k);if(S){for(var b=0;b<x.FileIndex.length;++b)if(x.FileIndex[b]==S)return x.FileIndex.splice(b,1),x.FullPaths.splice(b,1),!0}return!1}function wo(x,k,S){w(x);var b=xt.find(x,k);if(b){for(var R=0;R<x.FileIndex.length;++R)if(x.FileIndex[R]==b)return x.FileIndex[R].name=i(S),x.FullPaths[R]=S,!0}return!1}function hm(x){I(x,!0)}return e.find=D,e.read=ee,e.parse=f,e.write=Gt,e.writeFile=Wt,e.utils={cfb_new:xn,cfb_add:Ha,cfb_del:xo,cfb_mov:wo,cfb_gc:hm,ReadShift:nd,CheckField:QN,prep_blob:Cr,bconcat:Rn,use_zlib:L,_deflateRaw:Ku,_inflateRaw:xd,consts:Rt},e}(),Pg;function _H(n){return typeof n=="string"?Zg(n):Array.isArray(n)?z$(n):n}function pd(n,e,t){if(typeof Pg<"u"&&Pg.writeFileSync)return t?Pg.writeFileSync(n,e,t):Pg.writeFileSync(n,e);if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Zg(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?ls(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([_H(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=n,o.href=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var a=File(n);return a.open("w"),a.encoding="binary",Array.isArray(e)&&(e=hd(e)),a.write(e),a.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+n)}function Pn(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function G2(n,e){for(var t=[],r=Pn(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function gE(n){for(var e=[],t=Pn(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function nm(n){for(var e=[],t=Pn(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function yH(n){for(var e=[],t=Pn(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Hg=new Date(1899,11,30,0,0,0);function fr(n,e){var t=n.getTime();e&&(t-=1462*24*60*60*1e3);var r=Hg.getTime()+(n.getTimezoneOffset()-Hg.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var LN=new Date,xH=Hg.getTime()+(LN.getTimezoneOffset()-Hg.getTimezoneOffset())*6e4,q2=LN.getTimezoneOffset();function VN(n){var e=new Date;return e.setTime(n*24*60*60*1e3+xH),e.getTimezoneOffset()!==q2&&e.setTime(e.getTime()+(e.getTimezoneOffset()-q2)*6e4),e}var K2=new Date("2017-02-19T19:06:09.000Z"),BN=isNaN(K2.getFullYear())?new Date("2/19/17"):K2,wH=BN.getFullYear()==2017;function Zn(n,e){var t=new Date(n);if(wH)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(BN.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rm(n,e){if(lt&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return ls(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return ls(H$(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return ls(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return ls(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"\u20AC":"\x80","\u201A":"\x82",\u0192:"\x83","\u201E":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02C6":"\x88","\u2030":"\x89",\u0160:"\x8A","\u2039":"\x8B",\u0152:"\x8C",\u017D:"\x8E","\u2018":"\x91","\u2019":"\x92","\u201C":"\x93","\u201D":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02DC":"\x98","\u2122":"\x99",\u0161:"\x9A","\u203A":"\x9B",\u0153:"\x9C",\u017E:"\x9E",\u0178:"\x9F"};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function dr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=dr(n[t]));return e}function Vt(n,e){for(var t="";t.length<e;)t+=n;return t}function ds(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var EH=["january","february","march","april","may","june","july","august","september","october","november","december"];function ud(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var o=n.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&EH.indexOf(o)==-1)return t}else if(o.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function je(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return lt?r=ms(t):r=W$(t),xt.utils.cfb_add(n,e,r)}xt.utils.cfb_add(n,e,t)}else n.file(e,t)}function mE(){return xt.utils.cfb_new()}var en=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`;var IH={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},vE=gE(IH);var _E=/[&<>'"]/g,TH=/[\u0000-\u0008\u000b-\u001f]/g;function pt(n){var e=n+"";return e.replace(_E,function(t){return vE[t]}).replace(TH,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Q2(n){return pt(n).replace(/ /g,"_x0020_")}var UN=/[\u0000-\u001f]/g;function SH(n){var e=n+"";return e.replace(_E,function(t){return vE[t]}).replace(/\n/g,"<br/>").replace(UN,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function CH(n){var e=n+"";return e.replace(_E,function(t){return vE[t]}).replace(UN,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function bH(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function DH(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function nE(n){for(var e="",t=0,r=0,i=0,s=0,o=0,a=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){o=(r&31)<<6,o|=i&63,e+=String.fromCharCode(o);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}o=n.charCodeAt(t++),a=((r&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536,e+=String.fromCharCode(55296+(a>>>10&1023)),e+=String.fromCharCode(56320+(a&1023))}return e}function X2(n){var e=Na(2*n.length),t,r,i=1,s=0,o=0,a;for(r=0;r<n.length;r+=i)i=1,(a=n.charCodeAt(r))<128?t=a:a<224?(t=(a&31)*64+(n.charCodeAt(r+1)&63),i=2):a<240?(t=(a&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(a&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,o=55296+(t>>>10&1023),t=56320+(t&1023)),o!==0&&(e[s++]=o&255,e[s++]=o>>>8,o=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function Y2(n){return ms(n,"binary").toString("utf8")}var Og="foo bar baz\xE2\x98\x83\xF0\x9F\x8D\xA3",td=lt&&(Y2(Og)==nE(Og)&&Y2||X2(Og)==nE(Og)&&X2)||nE,ls=lt?function(n){return ms(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")};var AH=function(){var n=[["nbsp"," "],["middot","\xB7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}();var jN=/(^\s|\s$|\n)/;function Nn(n,e){return"<"+n+(e.match(jN)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function ld(n){return Pn(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function ue(n,e,t){return"<"+n+(t!=null?ld(t):"")+(e!=null?(e.match(jN)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function lE(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function kH(n,e){switch(typeof n){case"string":var t=ue("vt:lpwstr",pt(n));return e&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return ue((n|0)==n?"vt:i4":"vt:r8",pt(String(n)));case"boolean":return ue("vt:bool",n?"true":"false")}if(n instanceof Date)return ue("vt:filetime",lE(n));throw new Error("Unable to serialize "+n)}var vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Uu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],br={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function RH(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function NH(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,o=r?-e:e;isFinite(o)?o==0?i=s=0:(i=Math.floor(Math.log(o)/Math.LN2),s=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var a=0;a<=5;++a,s/=256)n[t+a]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var J2=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},Z2=lt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:ms(e)})):J2(n)}:J2,eN=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(ed(n,i)));return r.join("").replace(Mu,"")},im=lt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Mu,""):eN(n,e,t)}:eN,tN=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},$N=lt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):tN(n,e,t)}:tN,nN=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Ru(n,i)));return r.join("")},ju=lt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):nN(e,t,r)}:nN,HN=function(n,e){var t=mn(n,e);return t>0?ju(n,e+4,e+4+t-1):""},yE=HN,zN=function(n,e){var t=mn(n,e);return t>0?ju(n,e+4,e+4+t-1):""},xE=zN,WN=function(n,e){var t=2*mn(n,e);return t>0?ju(n,e+4,e+4+t-1):""},wE=WN,GN=function(e,t){var r=mn(e,t);return r>0?im(e,t+4,t+4+r):""},EE=GN,qN=function(n,e){var t=mn(n,e);return t>0?ju(n,e+4,e+4+t):""},IE=qN,KN=function(n,e){return RH(n,e)},zg=KN,TE=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};lt&&(yE=function(e,t){if(!Buffer.isBuffer(e))return HN(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},xE=function(e,t){if(!Buffer.isBuffer(e))return zN(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},wE=function(e,t){if(!Buffer.isBuffer(e))return WN(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},EE=function(e,t){if(!Buffer.isBuffer(e))return GN(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},IE=function(e,t){if(!Buffer.isBuffer(e))return qN(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},zg=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):KN(e,t)},TE=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function MH(){im=function(n,e,t){return Ct.utils.decode(1200,n.slice(e,t)).replace(Mu,"")},ju=function(n,e,t){return Ct.utils.decode(65001,n.slice(e,t))},yE=function(n,e){var t=mn(n,e);return t>0?Ct.utils.decode(Vu,n.slice(e+4,e+4+t-1)):""},xE=function(n,e){var t=mn(n,e);return t>0?Ct.utils.decode(ka,n.slice(e+4,e+4+t-1)):""},wE=function(n,e){var t=2*mn(n,e);return t>0?Ct.utils.decode(1200,n.slice(e+4,e+4+t-1)):""},EE=function(n,e){var t=mn(n,e);return t>0?Ct.utils.decode(1200,n.slice(e+4,e+4+t)):""},IE=function(n,e){var t=mn(n,e);return t>0?Ct.utils.decode(65001,n.slice(e+4,e+4+t)):""}}typeof Ct<"u"&&MH();var Ru=function(n,e){return n[e]},ed=function(n,e){return n[e+1]*256+n[e]},PH=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},mn=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Aa=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},OH=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function nd(n,e){var t="",r,i,s=[],o,a,c,u;switch(e){case"dbcs":if(u=this.l,lt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(c=0;c<n;++c)t+=String.fromCharCode(ed(this,u)),u+=2;n*=2;break;case"utf8":t=ju(this,this.l,this.l+n);break;case"utf16le":n*=2,t=im(this,this.l,this.l+n);break;case"wstr":if(typeof Ct<"u")t=Ct.utils.decode(ka,this.slice(this.l,this.l+2*n));else return nd.call(this,n,"dbcs");n=2*n;break;case"lpstr-ansi":t=yE(this,this.l),n=4+mn(this,this.l);break;case"lpstr-cp":t=xE(this,this.l),n=4+mn(this,this.l);break;case"lpwstr":t=wE(this,this.l),n=4+2*mn(this,this.l);break;case"lpp4":n=4+mn(this,this.l),t=EE(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+mn(this,this.l),t=IE(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(o=Ru(this,this.l+n++))!==0;)s.push(Rg(o));t=s.join("");break;case"_wstr":for(n=0,t="";(o=ed(this,this.l+n))!==0;)s.push(Rg(o)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",u=this.l,c=0;c<n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ru(this,u),this.l=u+1,a=nd.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Rg(ed(this,u))),u+=2}t=s.join(""),n*=2;break;case"cpstr":if(typeof Ct<"u"){t=Ct.utils.decode(ka,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(t="",u=this.l,c=0;c!=n;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=Ru(this,u),this.l=u+1,a=nd.call(this,n-c,o?"dbcs-cont":"sbcs-cont"),s.join("")+a;s.push(Rg(Ru(this,u))),u+=1}t=s.join("");break;default:switch(n){case 1:return r=Ru(this,this.l),this.l++,r;case 2:return r=(e==="i"?PH:ed)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(n>0?Aa:OH)(this,this.l),this.l+=4,r):(i=mn(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=zg(this,this.l):i=zg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=$N(this,this.l,n);break}}return this.l+=n,t}var FH=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},LH=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},VH=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function BH(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)VH(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){if(typeof Ct<"u"&&Vu==874)for(i=0;i!=e.length;++i){var s=Ct.utils.encode(Vu,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,FH(this,e,this.l);break;case 8:if(r=8,t==="f"){NH(this,e,this.l);break}case 16:break;case-4:r=4,LH(this,e,this.l);break}return this.l+=r,this}function QN(n,e){var t=$N(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Cr(n,e){n.l=e,n.read_shift=nd,n.chk=QN,n.write_shift=BH}function Fi(n,e){n.l+=e}function Z(n){var e=Na(n);return Cr(e,0),e}function lr(){var n=[],e=lt?256:2048,t=function(u){var f=Z(u);return Cr(f,0),f},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(u){return r&&u<r.length-r.l?r:(i(),r=t(Math.max(u+1,e)))},o=function(){return i(),Rn(n)},a=function(u){i(),r=u,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:a,end:o,_bufs:n}}function ne(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=NK[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var o=n.next(s);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var a=0;a!=4;++a)if(r>=128)o.write_shift(1,(r&127)+128),r>>=7;else{o.write_shift(1,r);break}r>0&&TE(t)&&n.push(t)}}function rd(n,e,t){var r=dr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function rN(n,e,t){var r=dr(n);return r.s=rd(r.s,e.s,t),r.e=rd(r.e,e.s,t),r}function id(n,e){if(n.cRel&&n.c<0)for(n=dr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=dr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=gt(n);return!n.cRel&&n.cRel!=null&&(t=$H(t)),!n.rRel&&n.rRel!=null&&(t=UH(t)),t}function rE(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+$n(n.s.c)+":"+(n.e.cRel?"":"$")+$n(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+Mn(n.s.r)+":"+(n.e.rRel?"":"$")+Mn(n.e.r):id(n.s,e.biff)+":"+id(n.e,e.biff)}function SE(n){return parseInt(jH(n),10)-1}function Mn(n){return""+(n+1)}function UH(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function jH(n){return n.replace(/\$(\d+)$/,"$1")}function CE(n){for(var e=HH(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function $n(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function $H(n){return n.replace(/^([A-Z])/,"$$$1")}function HH(n){return n.replace(/^\$([A-Z])/,"$1")}function zH(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _n(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function gt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Dr(n){var e=n.indexOf(":");return e==-1?{s:_n(n),e:_n(n)}:{s:_n(n.slice(0,e)),e:_n(n.slice(e+1))}}function Zt(n,e){return typeof e>"u"||typeof e=="number"?Zt(n.s,n.e):(typeof n!="string"&&(n=gt(n)),typeof e!="string"&&(e=gt(e)),n==e?n:n+":"+e)}function kt(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function iN(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=ho(n.z,t?fr(e):e)}catch{}try{return n.w=ho((n.XF||{}).numFmtId||(t?14:0),t?fr(e):e)}catch{return""+e}}function gs(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?gd[n.v]||n.v:e==null?iN(n,n.v):iN(n,e))}function Oa(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function XN(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense;Oi!=null&&i==null&&(i=Oi);var s=n||(i?[]:{}),o=0,a=0;if(s&&r.origin!=null){if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?_n(r.origin):r.origin;o=c.r,a=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=kt(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var d=0;d!=e.length;++d)if(e[d]){if(!Array.isArray(e[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=e[d].length;++p)if(!(typeof e[d][p]>"u")){var g={v:e[d][p]},_=o+d,m=a+p;if(u.s.r>_&&(u.s.r=_),u.s.c>m&&(u.s.c=m),u.e.r<_&&(u.e.r=_),u.e.c<m&&(u.e.c=m),e[d][p]&&typeof e[d][p]=="object"&&!Array.isArray(e[d][p])&&!(e[d][p]instanceof Date))g=e[d][p];else if(Array.isArray(g.v)&&(g.f=e[d][p][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||Bt[14],r.cellDates?(g.t="d",g.w=ho(g.z,fr(g.v))):(g.t="n",g.v=fr(g.v),g.w=ho(g.z,g.v))):g.t="s";if(i)s[_]||(s[_]=[]),s[_][m]&&s[_][m].z&&(g.z=s[_][m].z),s[_][m]=g;else{var y=gt({c:m,r:_});s[y]&&s[y].z&&(g.z=s[y].z),s[y]=g}}}return u.s.c<1e7&&(s["!ref"]=Zt(u)),s}function $u(n,e){return XN(null,n,e)}function WH(n){return n.read_shift(4,"i")}function li(n,e){return e||(e=Z(4)),e.write_shift(4,n),e}function Hn(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function yn(n,e){var t=!1;return e==null&&(t=!0,e=Z(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function GH(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function qH(n,e){return e||(e=Z(4)),e.write_shift(2,n.ich||0),e.write_shift(2,n.ifnt||0),e}function bE(n,e){var t=n.l,r=n.read_shift(1),i=Hn(n),s=[],o={t:i,h:i};if(r&1){for(var a=n.read_shift(4),c=0;c!=a;++c)s.push(GH(n));o.r=s}else o.r=[{ich:0,ifnt:0}];return n.l=t+e,o}function KH(n,e){var t=!1;return e==null&&(t=!0,e=Z(15+4*n.t.length)),e.write_shift(1,0),yn(n.t,e),t?e.slice(0,e.l):e}var QH=bE;function XH(n,e){var t=!1;return e==null&&(t=!0,e=Z(23+4*n.t.length)),e.write_shift(1,1),yn(n.t,e),e.write_shift(4,1),qH({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}function Wr(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Fa(n,e){return e==null&&(e=Z(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function La(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Va(n,e){return e==null&&(e=Z(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var YH=Hn,YN=yn;function DE(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Wg(n,e){var t=!1;return e==null&&(t=!0,e=Z(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var JH=Hn,fE=DE,AE=Wg;function JN(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?zg([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Aa(e,0)>>2;return t?i/100:i}function ZN(n,e){e==null&&(e=Z(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function eM(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function ZH(n,e){return e||(e=Z(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Ba=eM,Hu=ZH;function zu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Ma(n,e){return(e||Z(8)).write_shift(8,n,"f")}function e7(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),o=n.read_shift(1),a=n.read_shift(1),c=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var u=u7[i];u&&(e.rgb=gN(u));break;case 2:e.rgb=gN([o,a,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Gg(n,e){if(e||(e=Z(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function t7(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function n7(n,e){e||(e=Z(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var tM=2,Sr=3,Fg=11;var qg=19;var Lg=64,r7=65,i7=71;var s7=4108,o7=4126,kn=80;var sN={1:{n:"CodePage",t:tM},2:{n:"Category",t:kn},3:{n:"PresentationFormat",t:kn},4:{n:"ByteCount",t:Sr},5:{n:"LineCount",t:Sr},6:{n:"ParagraphCount",t:Sr},7:{n:"SlideCount",t:Sr},8:{n:"NoteCount",t:Sr},9:{n:"HiddenCount",t:Sr},10:{n:"MultimediaClipCount",t:Sr},11:{n:"ScaleCrop",t:Fg},12:{n:"HeadingPairs",t:s7},13:{n:"TitlesOfParts",t:o7},14:{n:"Manager",t:kn},15:{n:"Company",t:kn},16:{n:"LinksUpToDate",t:Fg},17:{n:"CharacterCount",t:Sr},19:{n:"SharedDoc",t:Fg},22:{n:"HyperlinksChanged",t:Fg},23:{n:"AppVersion",t:Sr,p:"version"},24:{n:"DigSig",t:r7},26:{n:"ContentType",t:kn},27:{n:"ContentStatus",t:kn},28:{n:"Language",t:kn},29:{n:"Version",t:kn},255:{},2147483648:{n:"Locale",t:qg},2147483651:{n:"Behavior",t:qg},1919054434:{}},oN={1:{n:"CodePage",t:tM},2:{n:"Title",t:kn},3:{n:"Subject",t:kn},4:{n:"Author",t:kn},5:{n:"Keywords",t:kn},6:{n:"Comments",t:kn},7:{n:"Template",t:kn},8:{n:"LastAuthor",t:kn},9:{n:"RevNumber",t:kn},10:{n:"EditTime",t:Lg},11:{n:"LastPrinted",t:Lg},12:{n:"CreatedDate",t:Lg},13:{n:"ModifiedDate",t:Lg},14:{n:"PageCount",t:Sr},15:{n:"WordCount",t:Sr},16:{n:"CharCount",t:Sr},17:{n:"Thumbnail",t:i7},18:{n:"Application",t:kn},19:{n:"DocSecurity",t:Sr},255:{},2147483648:{n:"Locale",t:qg},2147483651:{n:"Behavior",t:qg},1919054434:{}};function a7(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var c7=a7([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),u7=dr(c7),gd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"};var l7={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Vg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function nM(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rM(n,e){var t=yH(l7),r=[],i;r[r.length]=en,r[r.length]=ue("Types",null,{xmlns:vn.CT,"xmlns:xsd":vn.xsd,"xmlns:xsi":vn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ue("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){n[c]&&n[c].length>0&&(i=n[c][0],r[r.length]=ue("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Vg[c][e.bookType]||Vg[c].xlsx}))},o=function(c){(n[c]||[]).forEach(function(u){r[r.length]=ue("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Vg[c][e.bookType]||Vg[c].xlsx})})},a=function(c){(n[c]||[]).forEach(function(u){r[r.length]=ue("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:t[c][0]})})};return s("workbooks"),o("sheets"),o("charts"),a("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),o("metadata"),a("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var ct={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function iM(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Ou(n){var e=[en,ue("Relationships",null,{xmlns:vn.RELS})];return Pn(n["!id"]).forEach(function(t){e[e.length]=ue("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function ht(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,s?i.TargetMode=s:[ct.HLINK,ct.XPATH,ct.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function f7(n){var e=[en];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function aN(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function d7(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function h7(n){var e=[en];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(aN(n[t][0],n[t][1])),e.push(d7("",n[t][0]));return e.push(aN("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function sM(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+od.version+"</meta:generator></office:meta></office:document-meta>"}var Ra=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function iE(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=pt(e),r[r.length]=t?ue(n,e,t):Nn(n,e))}function oM(n,e){var t=e||{},r=[en,ue("cp:coreProperties",null,{"xmlns:cp":vn.CORE_PROPS,"xmlns:dc":vn.dc,"xmlns:dcterms":vn.dcterms,"xmlns:dcmitype":vn.dcmitype,"xmlns:xsi":vn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&iE("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:lE(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&iE("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:lE(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=Ra.length;++s){var o=Ra[s],a=t.Props&&t.Props[o[1]]!=null?t.Props[o[1]]:n?n[o[1]]:null;a===!0?a="1":a===!1?a="0":typeof a=="number"&&(a=String(a)),a!=null&&iE(o[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Fu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],aM=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cM(n){var e=[],t=ue;return n||(n={}),n.Application="SheetJS",e[e.length]=en,e[e.length]=ue("Properties",null,{xmlns:vn.EXT_PROPS,"xmlns:vt":vn.vt}),Fu.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=pt(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+pt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function uM(n){var e=[en,ue("Properties",null,{xmlns:vn.CUST_PROPS,"xmlns:vt":vn.vt})];if(!n)return e.join("");var t=1;return Pn(n).forEach(function(i){++t,e[e.length]=ue("property",kH(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:pt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var cN={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function p7(n,e){var t=[];return Pn(cN).map(function(r){for(var i=0;i<Ra.length;++i)if(Ra[i][1]==r)return Ra[i];for(i=0;i<Fu.length;++i)if(Fu[i][1]==r)return Fu[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Nn(cN[r[1]]||r[1],i))}}),ue("DocumentProperties",t.join(""),{xmlns:br.o})}function g7(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&Pn(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var o=0;o<Ra.length;++o)if(s==Ra[o][1])return;for(o=0;o<Fu.length;++o)if(s==Fu[o][1])return;for(o=0;o<t.length;++o)if(s==t[o])return;var a=n[s],c="string";typeof a=="number"?(c="float",a=String(a)):a===!0||a===!1?(c="boolean",a=a?"1":"0"):a=String(a),i.push(ue(Q2(s),a,{"dt:dt":c}))}}),e&&Pn(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var o=e[s],a="string";typeof o=="number"?(a="float",o=String(o)):o===!0||o===!1?(a="boolean",o=o?"1":"0"):o instanceof Date?(a="dateTime.tz",o=o.toISOString()):o=String(o),i.push(ue(Q2(s),o,{"dt:dt":a}))}}),"<"+r+' xmlns="'+br.o+'">'+i.join("")+"</"+r+">"}function m7(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var o=Z(8);return o.write_shift(4,r),o.write_shift(4,i),o}function uN(n,e){var t=Z(4),r=Z(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Z(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=m7(e);break;case 31:case 80:for(r=Z(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Rn([t,r])}var lM=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function v7(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function lN(n,e,t){var r=Z(8),i=[],s=[],o=8,a=0,c=Z(8),u=Z(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),s.push(c),i.push(u),o+=8+c.length,!e){u=Z(8),u.write_shift(4,0),i.unshift(u);var f=[Z(4)];for(f[0].write_shift(4,n.length),a=0;a<n.length;++a){var d=n[a][0];for(c=Z(8+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,a+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Rn(f),s.unshift(c),o+=8+c.length}for(a=0;a<n.length;++a)if(!(e&&!e[n[a][0]])&&!(lM.indexOf(n[a][0])>-1||aM.indexOf(n[a][0])>-1)&&n[a][1]!=null){var p=n[a][1],g=0;if(e){g=+e[n[a][0]];var _=t[g];if(_.p=="version"&&typeof p=="string"){var m=p.split(".");p=(+m[0]<<16)+(+m[1]||0)}c=uN(_.t,p)}else{var y=v7(p);y==-1&&(y=31,p=String(p)),c=uN(y,p)}s.push(c),u=Z(8),u.write_shift(4,e?g:2+a),i.push(u),o+=8+c.length}var P=8*(s.length+1);for(a=0;a<s.length;++a)i[a].write_shift(4,P),P+=s[a].length;return r.write_shift(4,o),r.write_shift(4,s.length),Rn([r].concat(i).concat(s))}function fN(n,e,t,r,i,s){var o=Z(i?68:48),a=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,xt.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,e,"hex"),o.write_shift(4,i?68:48);var c=lN(n,t,r);if(a.push(c),i){var u=lN(i,null,null);o.write_shift(16,s,"hex"),o.write_shift(4,68+c.length),a.push(u)}return Rn(a)}function _7(n,e){e||(e=Z(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function y7(n,e){return n.read_shift(e)===1}function Jn(n,e){return e||(e=Z(2)),e.write_shift(2,+!!n),e}function fM(n){return n.read_shift(2,"u")}function zr(n,e){return e||(e=Z(2)),e.write_shift(2,n),e}function dM(n,e,t){return t||(t=Z(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function hM(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont",s=ka;if(t&&t.biff>=8&&(ka=1200),!t||t.biff==8){var o=n.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=r?n.read_shift(r,i):"";return ka=s,a}function x7(n){var e=n.t||"",t=1,r=Z(3+(t>1?2:0));r.write_shift(2,e.length),r.write_shift(1,(t>1?8:0)|1),t>1&&r.write_shift(2,t);var i=Z(2*e.length);i.write_shift(2*e.length,e,"utf16le");var s=[r,i];return Rn(s)}function w7(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function E7(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):w7(n,r,t)}function I7(n,e,t){if(t.biff>5)return E7(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function pM(n,e,t){return t||(t=Z(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function dN(n,e){e||(e=Z(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function T7(n){var e=Z(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var o=[8,6815827,6619237,4849780,83];for(t=0;t<o.length;++t)e.write_shift(4,o[t]);if(s==28)r=r.slice(1),dN(r,e);else if(s&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));var a=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(a.length+1)),t=0;t<a.length;++t)e.write_shift(2,a.charCodeAt(t));e.write_shift(2,0),s&8&&dN(i>-1?r.slice(i+1):"",e)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<o.length;++t)e.write_shift(1,parseInt(o[t],16));for(var c=0;r.slice(c*3,c*3+3)=="../"||r.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,r.length-3*c+1),t=0;t<r.length-3*c;++t)e.write_shift(1,r.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Pa(n,e,t,r){return r||(r=Z(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function S7(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),o=n.read_shift(r,"i");return[i,s,o]}function C7(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function gM(n,e){return e||(e=Z(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function kE(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Z(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function b7(n,e){var t=!e||e.biff==8,r=Z(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function D7(n,e){var t=!e||e.biff>=8?2:1,r=Z(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function A7(n,e){var t=Z(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=x7(n[i],e);var s=Rn([t].concat(r));return s.parts=[t.length].concat(r.map(function(o){return o.length})),s}function k7(){var n=Z(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function R7(n){var e=Z(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function N7(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=Z(i);return s.write_shift(2,(n.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function M7(n,e,t,r){var i=Z(10);return Pa(n,e,r,i),i.write_shift(4,t),i}function P7(n,e,t,r,i){var s=!i||i.biff==8,o=Z(8+ +s+(1+s)*t.length);return Pa(n,e,r,o),o.write_shift(2,t.length),s&&o.write_shift(1,1),o.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),o}function O7(n,e,t,r){var i=t&&t.biff==5;r||(r=Z(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function F7(n,e){var t=e.biff==8||!e.biff?4:2,r=Z(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function hN(n,e,t,r){var i=t&&t.biff==5;r||(r=Z(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function L7(n){var e=Z(8);return e.write_shift(4,0),e.write_shift(2,n[0]?n[0]+1:0),e.write_shift(2,n[1]?n[1]+1:0),e}function V7(n,e,t,r,i,s){var o=Z(8);return Pa(n,e,r,o),dM(t,s,o),o}function B7(n,e,t,r){var i=Z(14);return Pa(n,e,r,i),Ma(t,i),i}function U7(n,e,t){if(t.biff<8)return j7(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(S7(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function j7(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=hM(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function $7(n){var e=Z(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)gM(n[t],e);return e}function H7(n){var e=Z(24),t=_n(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Rn([e,T7(n[1])])}function z7(n){var e=n[1].Tooltip,t=Z(10+2*(e.length+1));t.write_shift(2,2048);var r=_n(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function W7(n){return n||(n=Z(4)),n.write_shift(2,1),n.write_shift(2,1),n}function G7(n,e,t){if(!t.cellStyles)return Fi(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),o=n.read_shift(r),a=n.read_shift(r),c=n.read_shift(2);r==2&&(n.l+=2);var u={s:i,e:s,w:o,ixfe:a,flags:c};return(t.biff>=5||!t.biff)&&(u.level=c>>8&7),u}function q7(n,e){var t=Z(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function K7(n){for(var e=Z(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function Q7(n,e,t){var r=Z(15);return vd(r,n,e),r.write_shift(8,t,"f"),r}function X7(n,e,t){var r=Z(9);return vd(r,n,e),r.write_shift(2,t),r}var Y7=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=gE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(a,c){var u=[],f=Na(1);switch(c.type){case"base64":f=ci(ps(a));break;case"binary":f=ci(a);break;case"buffer":case"array":f=a;break}Cr(f,0);var d=f.read_shift(1),p=!!(d&136),g=!1,_=!1;switch(d){case 2:break;case 3:break;case 48:g=!0,p=!0;break;case 49:g=!0,p=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var m=0,y=521;d==2&&(m=f.read_shift(2)),f.l+=3,d!=2&&(m=f.read_shift(4)),m>1048576&&(m=1e6),d!=2&&(y=f.read_shift(2));var P=f.read_shift(2),F=c.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(F=n[f[f.l]]),f.l+=1,f.l+=2),_&&(f.l+=36);for(var O=[],j={},Q=Math.min(f.length,d==2?521:y-10-(g?264:0)),ee=_?32:11;f.l<Q&&f[f.l]!=13;)switch(j={},j.name=Ct.utils.decode(F,f.slice(f.l,f.l+ee)).replace(/[\u0000\r\n].*$/g,""),f.l+=ee,j.type=String.fromCharCode(f.read_shift(1)),d!=2&&!_&&(j.offset=f.read_shift(4)),j.len=f.read_shift(1),d==2&&(j.offset=f.read_shift(2)),j.dec=f.read_shift(1),j.name.length&&O.push(j),d!=2&&(f.l+=_?13:14),j.type){case"B":(!g||j.len!=8)&&c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+j.name+":"+j.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+j.type)}if(f[f.l]!==13&&(f.l=y-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=y;var w=0,E=0;for(u[0]=[],E=0;E!=O.length;++E)u[0][E]=O[E].name;for(;m-- >0;){if(f[f.l]===42){f.l+=P;continue}for(++f.l,u[++w]=[],E=0,E=0;E!=O.length;++E){var I=f.slice(f.l,f.l+O[E].len);f.l+=O[E].len,Cr(I,0);var C=Ct.utils.decode(F,I);switch(O[E].type){case"C":C.trim().length&&(u[w][E]=C.replace(/\s+$/,""));break;case"D":C.length===8?u[w][E]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):u[w][E]=C;break;case"F":u[w][E]=parseFloat(C.trim());break;case"+":case"I":u[w][E]=_?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":u[w][E]=!0;break;case"N":case"F":u[w][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[w][E]="##MEMO##"+(_?parseInt(C.trim(),10):I.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(u[w][E]=+C||0);break;case"@":u[w][E]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[w][E]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[w][E]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[w][E]=-I.read_shift(-8,"f");break;case"B":if(g&&O[E].len==8){u[w][E]=I.read_shift(8,"f");break}case"G":case"P":I.l+=O[E].len;break;case"0":if(O[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+O[E].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=O,u}function r(a,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=$u(t(a,u),u);return f["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,f}function i(a,c){try{return Oa(r(a,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function o(a,c){var u=c||{};if(+u.codepage>=0&&ad(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=lr(),d=Jg(a,{header:1,raw:!0,cellDates:!0}),p=d[0],g=d.slice(1),_=a["!cols"]||[],m=0,y=0,P=0,F=1;for(m=0;m<p.length;++m){if(((_[m]||{}).DBF||{}).name){p[m]=_[m].DBF.name,++P;continue}if(p[m]!=null){if(++P,typeof p[m]=="number"&&(p[m]=p[m].toString(10)),typeof p[m]!="string")throw new Error("DBF Invalid column name "+p[m]+" |"+typeof p[m]+"|");if(p.indexOf(p[m])!==m){for(y=0;y<1024;++y)if(p.indexOf(p[m]+"_"+y)==-1){p[m]+="_"+y;break}}}}var O=kt(a["!ref"]),j=[],Q=[],ee=[];for(m=0;m<=O.e.c-O.s.c;++m){var w="",E="",I=0,C=[];for(y=0;y<g.length;++y)g[y][m]!=null&&C.push(g[y][m]);if(C.length==0||p[m]==null){j[m]="?";continue}for(y=0;y<C.length;++y){switch(typeof C[y]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=C[y]instanceof Date?"D":"C";break;default:E="C"}I=Math.max(I,String(C[y]).length),w=w&&w!=E?"C":E}I>250&&(I=250),E=((_[m]||{}).DBF||{}).type,E=="C"&&_[m].DBF.len>I&&(I=_[m].DBF.len),w=="B"&&E=="N"&&(w="N",ee[m]=_[m].DBF.dec,I=_[m].DBF.len),Q[m]=w=="C"||E=="N"?I:s[w]||0,F+=Q[m],j[m]=w}var D=f.next(32);for(D.write_shift(4,318902576),D.write_shift(4,g.length),D.write_shift(2,296+32*P),D.write_shift(2,F),m=0;m<4;++m)D.write_shift(4,0);for(D.write_shift(4,0|(+e[Vu]||3)<<8),m=0,y=0;m<p.length;++m)if(p[m]!=null){var M=f.next(32),A=(p[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,A,"sbcs"),M.write_shift(1,j[m]=="?"?"C":j[m],"sbcs"),M.write_shift(4,y),M.write_shift(1,Q[m]||s[j[m]]||0),M.write_shift(1,ee[m]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),y+=Q[m]||s[j[m]]||0}var Ue=f.next(264);for(Ue.write_shift(4,13),m=0;m<65;++m)Ue.write_shift(4,0);for(m=0;m<g.length;++m){var Te=f.next(F);for(Te.write_shift(1,0),y=0;y<p.length;++y)if(p[y]!=null)switch(j[y]){case"L":Te.write_shift(1,g[m][y]==null?63:g[m][y]?84:70);break;case"B":Te.write_shift(8,g[m][y]||0,"f");break;case"N":var zt="0";for(typeof g[m][y]=="number"&&(zt=g[m][y].toFixed(ee[y]||0)),P=0;P<Q[y]-zt.length;++P)Te.write_shift(1,32);Te.write_shift(1,zt,"sbcs");break;case"D":g[m][y]?(Te.write_shift(4,("0000"+g[m][y].getFullYear()).slice(-4),"sbcs"),Te.write_shift(2,("00"+(g[m][y].getMonth()+1)).slice(-2),"sbcs"),Te.write_shift(2,("00"+g[m][y].getDate()).slice(-2),"sbcs")):Te.write_shift(8,"00000000","sbcs");break;case"C":var Rt=String(g[m][y]!=null?g[m][y]:"").slice(0,Q[y]);for(Te.write_shift(1,Rt,"sbcs"),P=0;P<Q[y]-Rt.length;++P)Te.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:r,from_sheet:o}}(),J7=function(){var n={AA:"\xC0",BA:"\xC1",CA:"\xC2",DA:195,HA:"\xC4",JA:197,AE:"\xC8",BE:"\xC9",CE:"\xCA",HE:"\xCB",AI:"\xCC",BI:"\xCD",CI:"\xCE",HI:"\xCF",AO:"\xD2",BO:"\xD3",CO:"\xD4",DO:213,HO:"\xD6",AU:"\xD9",BU:"\xDA",CU:"\xDB",HU:"\xDC",Aa:"\xE0",Ba:"\xE1",Ca:"\xE2",Da:227,Ha:"\xE4",Ja:229,Ae:"\xE8",Be:"\xE9",Ce:"\xEA",He:"\xEB",Ai:"\xEC",Bi:"\xED",Ci:"\xEE",Hi:"\xEF",Ao:"\xF2",Bo:"\xF3",Co:"\xF4",Do:245,Ho:"\xF6",Au:"\xF9",Bu:"\xFA",Cu:"\xFB",Hu:"\xFC",KC:"\xC7",Kc:"\xE7",q:"\xE6",z:"\u0153",a:"\xC6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Pn(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(p,g){var _=n[g];return typeof _=="number"?L2(_):_},r=function(p,g,_){var m=g.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return m==59?p:L2(m)};n["|"]=254;function i(p,g){switch(g.type){case"base64":return s(ps(p),g);case"binary":return s(p,g);case"buffer":return s(lt&&Buffer.isBuffer(p)?p.toString("binary"):hd(p),g);case"array":return s(rm(p),g)}throw new Error("Unrecognized type "+g.type)}function s(p,g){var _=p.split(/[\n\r]+/),m=-1,y=-1,P=0,F=0,O=[],j=[],Q=null,ee={},w=[],E=[],I=[],C=0,D;for(+g.codepage>=0&&ad(+g.codepage);P!==_.length;++P){C=0;var M=_[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),A=M.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),Ue=A[0],Te;if(M.length>0)switch(Ue){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":A[1].charAt(0)=="P"&&j.push(M.slice(3).replace(/;;/g,";"));break;case"C":var zt=!1,Rt=!1,Wt=!1,tn=!1,Gt=-1,On=-1;for(F=1;F<A.length;++F)switch(A[F].charAt(0)){case"A":break;case"X":y=parseInt(A[F].slice(1))-1,Rt=!0;break;case"Y":for(m=parseInt(A[F].slice(1))-1,Rt||(y=0),D=O.length;D<=m;++D)O[D]=[];break;case"K":Te=A[F].slice(1),Te.charAt(0)==='"'?Te=Te.slice(1,Te.length-1):Te==="TRUE"?Te=!0:Te==="FALSE"?Te=!1:isNaN(ds(Te))?isNaN(ud(Te).getDate())||(Te=Zn(Te)):(Te=ds(Te),Q!==null&&PN(Q)&&(Te=VN(Te))),typeof Ct<"u"&&typeof Te=="string"&&(g||{}).type!="string"&&(g||{}).codepage&&(Te=Ct.utils.decode(g.codepage,Te)),zt=!0;break;case"E":tn=!0;var L=Xz(A[F].slice(1),{r:m,c:y});O[m][y]=[O[m][y],L];break;case"S":Wt=!0,O[m][y]=[O[m][y],"S5S"];break;case"G":break;case"R":Gt=parseInt(A[F].slice(1))-1;break;case"C":On=parseInt(A[F].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}if(zt&&(O[m][y]&&O[m][y].length==2?O[m][y][0]=Te:O[m][y]=Te,Q=null),Wt){if(tn)throw new Error("SYLK shared formula cannot have own formula");var Y=Gt>-1&&O[Gt][On];if(!Y||!Y[1])throw new Error("SYLK shared formula cannot find base");O[m][y][1]=Yz(Y[1],{r:m-Gt,c:y-On})}break;case"F":var U=0;for(F=1;F<A.length;++F)switch(A[F].charAt(0)){case"X":y=parseInt(A[F].slice(1))-1,++U;break;case"Y":for(m=parseInt(A[F].slice(1))-1,D=O.length;D<=m;++D)O[D]=[];break;case"M":C=parseInt(A[F].slice(1))/20;break;case"F":break;case"G":break;case"P":Q=j[parseInt(A[F].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=A[F].slice(1).split(" "),D=parseInt(I[0],10);D<=parseInt(I[1],10);++D)C=parseInt(I[2],10),E[D-1]=C===0?{hidden:!0}:{wch:C},RE(E[D-1]);break;case"C":y=parseInt(A[F].slice(1))-1,E[y]||(E[y]={});break;case"R":m=parseInt(A[F].slice(1))-1,w[m]||(w[m]={}),C>0?(w[m].hpt=C,w[m].hpx=xM(C)):C===0&&(w[m].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}U<1&&(Q=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+M)}}return w.length>0&&(ee["!rows"]=w),E.length>0&&(ee["!cols"]=E),g&&g.sheetRows&&(O=O.slice(0,g.sheetRows)),[O,ee]}function o(p,g){var _=i(p,g),m=_[0],y=_[1],P=$u(m,g);return Pn(y).forEach(function(F){P[F]=y[F]}),P}function a(p,g){return Oa(o(p,g),g)}function c(p,g,_,m){var y="C;Y"+(_+1)+";X"+(m+1)+";K";switch(p.t){case"n":y+=p.v||0,p.f&&!p.F&&(y+=";E"+ME(p.f,{r:_,c:m}));break;case"b":y+=p.v?"TRUE":"FALSE";break;case"e":y+=p.w||p.v;break;case"d":y+='"'+(p.w||p.v)+'"';break;case"s":y+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return y}function u(p,g){g.forEach(function(_,m){var y="F;W"+(m+1)+" "+(m+1)+" ";_.hidden?y+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=Kg(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=Qg(_.wpx)),typeof _.wch=="number"&&(y+=Math.round(_.wch))),y.charAt(y.length-1)!=" "&&p.push(y)})}function f(p,g){g.forEach(function(_,m){var y="F;";_.hidden?y+="M0;":_.hpt?y+="M"+20*_.hpt+";":_.hpx&&(y+="M"+20*Xg(_.hpx)+";"),y.length>2&&p.push(y+"R"+(m+1))})}function d(p,g){var _=["ID;PWXL;N;E"],m=[],y=kt(p["!ref"]),P,F=Array.isArray(p),O=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),p["!cols"]&&u(_,p["!cols"]),p["!rows"]&&f(_,p["!rows"]),_.push("B;Y"+(y.e.r-y.s.r+1)+";X"+(y.e.c-y.s.c+1)+";D"+[y.s.c,y.s.r,y.e.c,y.e.r].join(" "));for(var j=y.s.r;j<=y.e.r;++j)for(var Q=y.s.c;Q<=y.e.c;++Q){var ee=gt({r:j,c:Q});P=F?(p[j]||[])[Q]:p[ee],!(!P||P.v==null&&(!P.f||P.F))&&m.push(c(P,p,j,Q,g))}return _.join(O)+O+m.join(O)+O+"E"+O}return{to_workbook:a,to_sheet:o,from_sheet:d}}(),Z7=function(){function n(s,o){switch(o.type){case"base64":return e(ps(s),o);case"binary":return e(s,o);case"buffer":return e(lt&&Buffer.isBuffer(s)?s.toString("binary"):hd(s),o);case"array":return e(rm(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){for(var a=s.split(`
`),c=-1,u=-1,f=0,d=[];f!==a.length;++f){if(a[f].trim()==="BOT"){d[++c]=[],u=0;continue}if(!(c<0)){var p=a[f].trim().split(","),g=p[0],_=p[1];++f;for(var m=a[f]||"";(m.match(/["]/g)||[]).length&1&&f<a.length-1;)m+=`
`+a[++f];switch(m=m.trim(),+g){case-1:if(m==="BOT"){d[++c]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?d[c][u]=!0:m==="FALSE"?d[c][u]=!1:isNaN(ds(_))?isNaN(ud(_).getDate())?d[c][u]=_:d[c][u]=Zn(_):d[c][u]=ds(_),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),Jf&&m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),d[c][u++]=m!==""?m:null;break}if(m==="EOD")break}}return o&&o.sheetRows&&(d=d.slice(0,o.sheetRows)),d}function t(s,o){return $u(n(s,o),o)}function r(s,o){return Oa(t(s,o),o)}var i=function(){var s=function(c,u,f,d,p){c.push(u),c.push(f+","+d),c.push('"'+p.replace(/"/g,'""')+'"')},o=function(c,u,f,d){c.push(u+","+f),c.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var u=[],f=kt(c["!ref"]),d,p=Array.isArray(c);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var g=f.s.r;g<=f.e.r;++g){o(u,-1,0,"BOT");for(var _=f.s.c;_<=f.e.c;++_){var m=gt({r:g,c:_});if(d=p?(c[g]||[])[_]:c[m],!d){o(u,1,0,"");continue}switch(d.t){case"n":var y=Jf?d.w:d.v;!y&&d.v!=null&&(y=d.v),y==null?Jf&&d.f&&!d.F?o(u,1,0,"="+d.f):o(u,1,0,""):o(u,0,y,"V");break;case"b":o(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":o(u,1,0,!Jf||isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ho(d.z||Bt[14],fr(Zn(d.v)))),Jf?o(u,0,d.w,"V"):o(u,1,0,d.w);break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var P=`\r
`,F=u.join(P);return F}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),mM=function(){function n(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(d,p){for(var g=d.split(`
`),_=-1,m=-1,y=0,P=[];y!==g.length;++y){var F=g[y].trim().split(":");if(F[0]==="cell"){var O=_n(F[1]);if(P.length<=O.r)for(_=P.length;_<=O.r;++_)P[_]||(P[_]=[]);switch(_=O.r,m=O.c,F[2]){case"t":P[_][m]=n(F[3]);break;case"v":P[_][m]=+F[3];break;case"vtf":var j=F[F.length-1];case"vtc":switch(F[3]){case"nl":P[_][m]=!!+F[4];break;default:P[_][m]=+F[4];break}F[2]=="vtf"&&(P[_][m]=[P[_][m],j])}}}return p&&p.sheetRows&&(P=P.slice(0,p.sheetRows)),P}function r(d,p){return $u(t(d,p),p)}function i(d,p){return Oa(r(d,p),p)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var p=[],g=[],_,m="",y=Dr(d["!ref"]),P=Array.isArray(d),F=y.s.r;F<=y.e.r;++F)for(var O=y.s.c;O<=y.e.c;++O)if(m=gt({r:F,c:O}),_=P?(d[F]||[])[O]:d[m],!(!_||_.v==null||_.t==="z")){switch(g=["cell",m,"t"],_.t){case"s":case"str":g.push(e(_.v));break;case"n":_.f?(g[2]="vtf",g[3]="n",g[4]=_.v,g[5]=e(_.f)):(g[2]="v",g[3]=_.v);break;case"b":g[2]="vt"+(_.f?"f":"c"),g[3]="nl",g[4]=_.v?"1":"0",g[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var j=fr(Zn(_.v));g[2]="vtc",g[3]="nd",g[4]=""+j,g[5]=_.w||ho(_.z||Bt[14],j);break;case"e":continue}p.push(g.join(":"))}return p.push("sheet:c:"+(y.e.c-y.s.c+1)+":r:"+(y.e.r-y.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function f(d){return[s,o,a,o,u(d),c].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:f}}(),ez=function(){function n(f,d,p,g,_){_.raw?d[p][g]=f:f===""||(f==="TRUE"?d[p][g]=!0:f==="FALSE"?d[p][g]=!1:isNaN(ds(f))?isNaN(ud(f).getDate())?d[p][g]=f:d[p][g]=Zn(f):d[p][g]=ds(f))}function e(f,d){var p=d||{},g=[];if(!f||f.length===0)return g;for(var _=f.split(/[\r\n]/),m=_.length-1;m>=0&&_[m].length===0;)--m;for(var y=10,P=0,F=0;F<=m;++F)P=_[F].indexOf(" "),P==-1?P=_[F].length:P++,y=Math.max(y,P);for(F=0;F<=m;++F){g[F]=[];var O=0;for(n(_[F].slice(0,y).trim(),g,F,O,p),O=1;O<=(_[F].length-y)/10+1;++O)n(_[F].slice(y+(O-1)*10,y+O*10).trim(),g,F,O,p)}return p.sheetRows&&(g=g.slice(0,p.sheetRows)),g}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(f){for(var d={},p=!1,g=0,_=0;g<f.length;++g)(_=f.charCodeAt(g))==34?p=!p:!p&&_ in t&&(d[_]=(d[_]||0)+1);_=[];for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&_.push([d[g],g]);if(!_.length){d=r;for(g in d)Object.prototype.hasOwnProperty.call(d,g)&&_.push([d[g],g])}return _.sort(function(m,y){return m[0]-y[0]||r[m[1]]-r[y[1]]}),t[_.pop()[1]]||44}function s(f,d){var p=d||{},g="";Oi!=null&&p.dense==null&&(p.dense=Oi);var _=p.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(g=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(g=f.charAt(4),f=f.slice(6)):g=i(f.slice(0,1024)):p&&p.FS?g=p.FS:g=i(f.slice(0,1024));var y=0,P=0,F=0,O=0,j=0,Q=g.charCodeAt(0),ee=!1,w=0,E=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var I=p.dateNF!=null?gH(p.dateNF):null;function C(){var D=f.slice(O,j),M={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)M.t="z";else if(p.raw)M.t="s",M.v=D;else if(D.trim().length===0)M.t="s",M.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(M.t="s",M.v=D.slice(2,-1).replace(/""/g,'"')):Jz(D)?(M.t="n",M.f=D.slice(1)):(M.t="s",M.v=D);else if(D=="TRUE")M.t="b",M.v=!0;else if(D=="FALSE")M.t="b",M.v=!1;else if(!isNaN(F=ds(D)))M.t="n",p.cellText!==!1&&(M.w=D),M.v=F;else if(!isNaN(ud(D).getDate())||I&&D.match(I)){M.z=p.dateNF||Bt[14];var A=0;I&&D.match(I)&&(D=mH(D,p.dateNF,D.match(I)||[]),A=1),p.cellDates?(M.t="d",M.v=Zn(D,A)):(M.t="n",M.v=fr(Zn(D,A))),p.cellText!==!1&&(M.w=ho(M.z,M.v instanceof Date?fr(M.v):M.v)),p.cellNF||delete M.z}else M.t="s",M.v=D;if(M.t=="z"||(p.dense?(_[y]||(_[y]=[]),_[y][P]=M):_[gt({c:P,r:y})]=M),O=j+1,E=f.charCodeAt(O),m.e.c<P&&(m.e.c=P),m.e.r<y&&(m.e.r=y),w==Q)++P;else if(P=0,++y,p.sheetRows&&p.sheetRows<=y)return!0}e:for(;j<f.length;++j)switch(w=f.charCodeAt(j)){case 34:E===34&&(ee=!ee);break;case Q:case 10:case 13:if(!ee&&C())break e;break;default:break}return j-O>0&&C(),_["!ref"]=Zt(m),_}function o(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,d):$u(e(f,d),d)}function a(f,d){var p="",g=d.type=="string"?[0,0,0,0]:dQ(f,d);switch(d.type){case"base64":p=ps(f);break;case"binary":p=f;break;case"buffer":d.codepage==65001?p=f.toString("utf8"):d.codepage&&typeof Ct<"u"?p=Ct.utils.decode(d.codepage,f):p=lt&&Buffer.isBuffer(f)?f.toString("binary"):hd(f);break;case"array":p=rm(f);break;case"string":p=f;break;default:throw new Error("Unrecognized type "+d.type)}return g[0]==239&&g[1]==187&&g[2]==191?p=td(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=td(p):d.type=="binary"&&typeof Ct<"u"&&d.codepage&&(p=Ct.utils.decode(d.codepage,Ct.utils.encode(28591,p))),p.slice(0,19)=="socialcalc:version:"?mM.to_sheet(d.type=="string"?p:td(p),d):o(p,d)}function c(f,d){return Oa(a(f,d),d)}function u(f){for(var d=[],p=kt(f["!ref"]),g,_=Array.isArray(f),m=p.s.r;m<=p.e.r;++m){for(var y=[],P=p.s.c;P<=p.e.c;++P){var F=gt({r:m,c:P});if(g=_?(f[m]||[])[P]:f[F],!g||g.v==null){y.push("          ");continue}for(var O=(g.w||(gs(g),g.w)||"").slice(0,10);O.length<10;)O+=" ";y.push(O+(P===0?" ":""))}d.push(y.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:a,from_sheet:u}}();var pN=function(){function n(L,Y,U){if(L){Cr(L,L.l||0);for(var V=U.Enum||Gt;L.l<L.length;){var re=L.read_shift(2),ve=V[re]||V[65535],ke=L.read_shift(2),ye=L.l+ke,oe=ve.f&&ve.f(L,ke,U);if(L.l=ye,Y(oe,ve,re))return}}}function e(L,Y){switch(Y.type){case"base64":return t(ci(ps(L)),Y);case"binary":return t(ci(L),Y);case"buffer":case"array":return t(L,Y)}throw"Unsupported type "+Y.type}function t(L,Y){if(!L)return L;var U=Y||{};Oi!=null&&U.dense==null&&(U.dense=Oi);var V=U.dense?[]:{},re="Sheet1",ve="",ke=0,ye={},oe=[],st=[],We={s:{r:0,c:0},e:{r:0,c:0}},Ut=U.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)U.Enum=Gt,n(L,function(xe,er,Ar){switch(Ar){case 0:U.vers=xe,xe>=4096&&(U.qpro=!0);break;case 6:We=xe;break;case 204:xe&&(ve=xe);break;case 222:ve=xe;break;case 15:case 51:U.qpro||(xe[1].v=xe[1].v.slice(1));case 13:case 14:case 16:Ar==14&&(xe[2]&112)==112&&(xe[2]&15)>1&&(xe[2]&15)<15&&(xe[1].z=U.dateNF||Bt[14],U.cellDates&&(xe[1].t="d",xe[1].v=VN(xe[1].v))),U.qpro&&xe[3]>ke&&(V["!ref"]=Zt(We),ye[re]=V,oe.push(re),V=U.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ke=xe[3],re=ve||"Sheet"+(ke+1),ve="");var fi=U.dense?(V[xe[0].r]||[])[xe[0].c]:V[gt(xe[0])];if(fi){fi.t=xe[1].t,fi.v=xe[1].v,xe[1].z!=null&&(fi.z=xe[1].z),xe[1].f!=null&&(fi.f=xe[1].f);break}U.dense?(V[xe[0].r]||(V[xe[0].r]=[]),V[xe[0].r][xe[0].c]=xe[1]):V[gt(xe[0])]=xe[1];break;default:}},U);else if(L[2]==26||L[2]==14)U.Enum=On,L[2]==14&&(U.qpro=!0,L.l=0),n(L,function(xe,er,Ar){switch(Ar){case 204:re=xe;break;case 22:xe[1].v=xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(xe[3]>ke&&(V["!ref"]=Zt(We),ye[re]=V,oe.push(re),V=U.dense?[]:{},We={s:{r:0,c:0},e:{r:0,c:0}},ke=xe[3],re="Sheet"+(ke+1)),Ut>0&&xe[0].r>=Ut)break;U.dense?(V[xe[0].r]||(V[xe[0].r]=[]),V[xe[0].r][xe[0].c]=xe[1]):V[gt(xe[0])]=xe[1],We.e.c<xe[0].c&&(We.e.c=xe[0].c),We.e.r<xe[0].r&&(We.e.r=xe[0].r);break;case 27:xe[14e3]&&(st[xe[14e3][0]]=xe[14e3][1]);break;case 1537:st[xe[0]]=xe[1],xe[0]==ke&&(re=xe[1]);break;default:break}},U);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(V["!ref"]=Zt(We),ye[ve||re]=V,oe.push(ve||re),!st.length)return{SheetNames:oe,Sheets:ye};for(var Ye={},zn=[],Dt=0;Dt<st.length;++Dt)ye[oe[Dt]]?(zn.push(st[Dt]||oe[Dt]),Ye[st[Dt]]=ye[st[Dt]]||ye[oe[Dt]]):(zn.push(st[Dt]),Ye[st[Dt]]={"!ref":"A1"});return{SheetNames:zn,Sheets:Ye}}function r(L,Y){var U=Y||{};if(+U.codepage>=0&&ad(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var V=lr(),re=kt(L["!ref"]),ve=Array.isArray(L),ke=[];le(V,0,s(1030)),le(V,6,c(re));for(var ye=Math.min(re.e.r,8191),oe=re.s.r;oe<=ye;++oe)for(var st=Mn(oe),We=re.s.c;We<=re.e.c;++We){oe===re.s.r&&(ke[We]=$n(We));var Ut=ke[We]+st,Ye=ve?(L[oe]||[])[We]:L[Ut];if(!(!Ye||Ye.t=="z"))if(Ye.t=="n")(Ye.v|0)==Ye.v&&Ye.v>=-32768&&Ye.v<=32767?le(V,13,g(oe,We,Ye.v)):le(V,14,m(oe,We,Ye.v));else{var zn=gs(Ye);le(V,15,d(oe,We,zn.slice(0,239)))}}return le(V,1),V.end()}function i(L,Y){var U=Y||{};if(+U.codepage>=0&&ad(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var V=lr();le(V,0,o(L));for(var re=0,ve=0;re<L.SheetNames.length;++re)(L.Sheets[L.SheetNames[re]]||{})["!ref"]&&le(V,27,tn(L.SheetNames[re],ve++));var ke=0;for(re=0;re<L.SheetNames.length;++re){var ye=L.Sheets[L.SheetNames[re]];if(!(!ye||!ye["!ref"])){for(var oe=kt(ye["!ref"]),st=Array.isArray(ye),We=[],Ut=Math.min(oe.e.r,8191),Ye=oe.s.r;Ye<=Ut;++Ye)for(var zn=Mn(Ye),Dt=oe.s.c;Dt<=oe.e.c;++Dt){Ye===oe.s.r&&(We[Dt]=$n(Dt));var xe=We[Dt]+zn,er=st?(ye[Ye]||[])[Dt]:ye[xe];if(!(!er||er.t=="z"))if(er.t=="n")le(V,23,C(Ye,Dt,ke,er.v));else{var Ar=gs(er);le(V,22,w(Ye,Dt,ke,Ar.slice(0,239)))}}++ke}}return le(V,1),V.end()}function s(L){var Y=Z(2);return Y.write_shift(2,L),Y}function o(L){var Y=Z(26);Y.write_shift(2,4096),Y.write_shift(2,4),Y.write_shift(4,0);for(var U=0,V=0,re=0,ve=0;ve<L.SheetNames.length;++ve){var ke=L.SheetNames[ve],ye=L.Sheets[ke];if(!(!ye||!ye["!ref"])){++re;var oe=Dr(ye["!ref"]);U<oe.e.r&&(U=oe.e.r),V<oe.e.c&&(V=oe.e.c)}}return U>8191&&(U=8191),Y.write_shift(2,U),Y.write_shift(1,re),Y.write_shift(1,V),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(1,1),Y.write_shift(1,2),Y.write_shift(4,0),Y.write_shift(4,0),Y}function a(L,Y,U){var V={s:{c:0,r:0},e:{c:0,r:0}};return Y==8&&U.qpro?(V.s.c=L.read_shift(1),L.l++,V.s.r=L.read_shift(2),V.e.c=L.read_shift(1),L.l++,V.e.r=L.read_shift(2),V):(V.s.c=L.read_shift(2),V.s.r=L.read_shift(2),Y==12&&U.qpro&&(L.l+=2),V.e.c=L.read_shift(2),V.e.r=L.read_shift(2),Y==12&&U.qpro&&(L.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function c(L){var Y=Z(8);return Y.write_shift(2,L.s.c),Y.write_shift(2,L.s.r),Y.write_shift(2,L.e.c),Y.write_shift(2,L.e.r),Y}function u(L,Y,U){var V=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(V[0].c=L.read_shift(1),V[3]=L.read_shift(1),V[0].r=L.read_shift(2),L.l+=2):(V[2]=L.read_shift(1),V[0].c=L.read_shift(2),V[0].r=L.read_shift(2)),V}function f(L,Y,U){var V=L.l+Y,re=u(L,Y,U);if(re[1].t="s",U.vers==20768){L.l++;var ve=L.read_shift(1);return re[1].v=L.read_shift(ve,"utf8"),re}return U.qpro&&L.l++,re[1].v=L.read_shift(V-L.l,"cstr"),re}function d(L,Y,U){var V=Z(7+U.length);V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,L),V.write_shift(1,39);for(var re=0;re<V.length;++re){var ve=U.charCodeAt(re);V.write_shift(1,ve>=128?95:ve)}return V.write_shift(1,0),V}function p(L,Y,U){var V=u(L,Y,U);return V[1].v=L.read_shift(2,"i"),V}function g(L,Y,U){var V=Z(7);return V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,L),V.write_shift(2,U,"i"),V}function _(L,Y,U){var V=u(L,Y,U);return V[1].v=L.read_shift(8,"f"),V}function m(L,Y,U){var V=Z(13);return V.write_shift(1,255),V.write_shift(2,Y),V.write_shift(2,L),V.write_shift(8,U,"f"),V}function y(L,Y,U){var V=L.l+Y,re=u(L,Y,U);if(re[1].v=L.read_shift(8,"f"),U.qpro)L.l=V;else{var ve=L.read_shift(2);j(L.slice(L.l,L.l+ve),re),L.l+=ve}return re}function P(L,Y,U){var V=Y&32768;return Y&=-32769,Y=(V?L:0)+(Y>=8192?Y-16384:Y),(V?"":"$")+(U?$n(Y):Mn(Y))}var F={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},O=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function j(L,Y){Cr(L,0);for(var U=[],V=0,re="",ve="",ke="",ye="";L.l<L.length;){var oe=L[L.l++];switch(oe){case 0:U.push(L.read_shift(8,"f"));break;case 1:ve=P(Y[0].c,L.read_shift(2),!0),re=P(Y[0].r,L.read_shift(2),!1),U.push(ve+re);break;case 2:{var st=P(Y[0].c,L.read_shift(2),!0),We=P(Y[0].r,L.read_shift(2),!1);ve=P(Y[0].c,L.read_shift(2),!0),re=P(Y[0].r,L.read_shift(2),!1),U.push(st+We+":"+ve+re)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(L.read_shift(2));break;case 6:{for(var Ut="";oe=L[L.l++];)Ut+=String.fromCharCode(oe);U.push('"'+Ut.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:ye=U.pop(),ke=U.pop(),U.push(["AND","OR"][oe-20]+"("+ke+","+ye+")");break;default:if(oe<32&&O[oe])ye=U.pop(),ke=U.pop(),U.push(ke+O[oe]+ye);else if(F[oe]){if(V=F[oe][1],V==69&&(V=L[L.l++]),V>U.length){console.error("WK1 bad formula parse 0x"+oe.toString(16)+":|"+U.join("|")+"|");return}var Ye=U.slice(-V);U.length-=V,U.push(F[oe][0]+"("+Ye.join(",")+")")}else return oe<=7?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=24?console.error("WK1 unsupported op "+oe.toString(16)):oe<=30?console.error("WK1 invalid opcode "+oe.toString(16)):oe<=115?console.error("WK1 unsupported function opcode "+oe.toString(16)):console.error("WK1 unrecognized opcode "+oe.toString(16))}}U.length==1?Y[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function Q(L){var Y=[{c:0,r:0},{t:"n",v:0},0];return Y[0].r=L.read_shift(2),Y[3]=L[L.l++],Y[0].c=L[L.l++],Y}function ee(L,Y){var U=Q(L,Y);return U[1].t="s",U[1].v=L.read_shift(Y-4,"cstr"),U}function w(L,Y,U,V){var re=Z(6+V.length);re.write_shift(2,L),re.write_shift(1,U),re.write_shift(1,Y),re.write_shift(1,39);for(var ve=0;ve<V.length;++ve){var ke=V.charCodeAt(ve);re.write_shift(1,ke>=128?95:ke)}return re.write_shift(1,0),re}function E(L,Y){var U=Q(L,Y);U[1].v=L.read_shift(2);var V=U[1].v>>1;if(U[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return U[1].v=V,U}function I(L,Y){var U=Q(L,Y),V=L.read_shift(4),re=L.read_shift(4),ve=L.read_shift(2);if(ve==65535)return V===0&&re===3221225472?(U[1].t="e",U[1].v=15):V===0&&re===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ke=ve&32768;return ve=(ve&32767)-16446,U[1].v=(1-ke*2)*(re*Math.pow(2,ve+32)+V*Math.pow(2,ve)),U}function C(L,Y,U,V){var re=Z(14);if(re.write_shift(2,L),re.write_shift(1,U),re.write_shift(1,Y),V==0)return re.write_shift(4,0),re.write_shift(4,0),re.write_shift(2,65535),re;var ve=0,ke=0,ye=0,oe=0;return V<0&&(ve=1,V=-V),ke=Math.log2(V)|0,V/=Math.pow(2,ke-31),oe=V>>>0,oe&2147483648||(V/=2,++ke,oe=V>>>0),V-=oe,oe|=2147483648,oe>>>=0,V*=Math.pow(2,32),ye=V>>>0,re.write_shift(4,ye),re.write_shift(4,oe),ke+=16383+(ve?32768:0),re.write_shift(2,ke),re}function D(L,Y){var U=I(L,14);return L.l+=Y-14,U}function M(L,Y){var U=Q(L,Y),V=L.read_shift(4);return U[1].v=V>>6,U}function A(L,Y){var U=Q(L,Y),V=L.read_shift(8,"f");return U[1].v=V,U}function Ue(L,Y){var U=A(L,14);return L.l+=Y-10,U}function Te(L,Y){return L[L.l+Y-1]==0?L.read_shift(Y,"cstr"):""}function zt(L,Y){var U=L[L.l++];U>Y-1&&(U=Y-1);for(var V="";V.length<U;)V+=String.fromCharCode(L[L.l++]);return V}function Rt(L,Y,U){if(!(!U.qpro||Y<21)){var V=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var re=L.read_shift(Y-21,"cstr");return[V,re]}}function Wt(L,Y){for(var U={},V=L.l+Y;L.l<V;){var re=L.read_shift(2);if(re==14e3){for(U[re]=[0,""],U[re][0]=L.read_shift(2);L[L.l];)U[re][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return U}function tn(L,Y){var U=Z(5+L.length);U.write_shift(2,14e3),U.write_shift(2,Y);for(var V=0;V<L.length;++V){var re=L.charCodeAt(V);U[U.l++]=re>127?95:re}return U[U.l++]=0,U}var Gt={0:{n:"BOF",f:fM},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:a},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:_},15:{n:"LABEL",f},16:{n:"FORMULA",f:y},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Te},222:{n:"SHEETNAMELP",f:zt},65535:{n:""}},On={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ee},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Wt},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:A},40:{n:"FORMULA28",f:Ue},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Rt},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();var tz=/^\s|\s$|[\t\n\r]/;function vM(n,e){if(!e.bookSST)return"";var t=[en];t[t.length]=ue("sst",null,{xmlns:Uu[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(tz)&&(s+=' xml:space="preserve"'),s+=">"+pt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function nz(n){return[n.read_shift(4),n.read_shift(4)]}function rz(n,e){return e||(e=Z(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var iz=KH;function sz(n){var e=lr();ne(e,159,rz(n));for(var t=0;t<n.length;++t)ne(e,19,iz(n[t]));return ne(e,160),e.end()}function oz(n){if(typeof Ct<"u")return Ct.utils.encode(Vu,n);for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function _M(n){var e=0,t,r=oz(n),i=r.length+1,s,o,a,c,u;for(t=Na(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)o=t[s],a=e&16384?1:0,c=e<<1&32767,u=a|c,e=u^o;return e^52811}var az=function(){function n(i,s){switch(s.type){case"base64":return e(ps(i),s);case"binary":return e(i,s);case"buffer":return e(lt&&Buffer.isBuffer(i)?i.toString("binary"):hd(i),s);case"array":return e(rm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var o=s||{},a=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,d){Array.isArray(a)&&(a[d]=[]);for(var p=/\\\w+\b/g,g=0,_,m=-1;_=p.exec(f);){switch(_[0]){case"\\cell":var y=f.slice(g,p.lastIndex-_[0].length);if(y[0]==" "&&(y=y.slice(1)),++m,y.length){var P={v:y,t:"s"};Array.isArray(a)?a[d][m]=P:a[gt({r:d,c:m})]=P}break}g=p.lastIndex}m>u.e.c&&(u.e.c=m)}),a["!ref"]=Zt(u),a}function t(i,s){return Oa(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],o=kt(i["!ref"]),a,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var d=gt({r:u,c:f});a=c?(i[u]||[])[f]:i[d],!(!a||a.v==null&&(!a.f||a.F))&&(s.push(" "+(a.w||(gs(a),a.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function gN(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var cz=6;var hs=cz;function Kg(n){return Math.floor((n+Math.round(128/hs)/256)*hs)}function Qg(n){return Math.floor((n-5)/hs*100+.5)/100}function dE(n){return Math.round((n*hs+5)/hs*256)/256}function RE(n){n.width?(n.wpx=Kg(n.width),n.wch=Qg(n.wpx),n.MDW=hs):n.wpx?(n.wch=Qg(n.wpx),n.width=dE(n.wch),n.MDW=hs):typeof n.wch=="number"&&(n.width=dE(n.wch),n.wpx=Kg(n.width),n.MDW=hs),n.customWidth&&delete n.customWidth}var uz=96,yM=uz;function Xg(n){return n*96/yM}function xM(n){return n*yM/96}function lz(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=ue("numFmt",null,{numFmtId:r,formatCode:pt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=ue("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function fz(n){var e=[];return e[e.length]=ue("cellXfs",null),n.forEach(function(t){e[e.length]=ue("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=ue("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function wM(n,e){var t=[en,ue("styleSheet",null,{xmlns:Uu[0],"xmlns:vt":vn.vt})],r;return n.SSF&&(r=lz(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=fz(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function dz(n,e){var t=n.read_shift(2),r=Hn(n,e-2);return[t,r]}function hz(n,e,t){t||(t=Z(6+4*e.length)),t.write_shift(2,n),yn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function pz(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=t7(n,2,t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var o=n.read_shift(1);o!=0&&(r.underline=o);var a=n.read_shift(1);a>0&&(r.family=a);var c=n.read_shift(1);switch(c>0&&(r.charset=c),n.l++,r.color=e7(n,8),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Hn(n,e-21),r}function gz(n,e){e||(e=Z(25+4*32)),e.write_shift(2,n.sz*20),n7(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Gg(n.color,e);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),e.write_shift(1,r),yn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var mz=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],sE,vz=Fi;function mN(n,e){e||(e=Z(4*3+8*7+16*1)),sE||(sE=gE(mz));var t=sE[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Gg({auto:1},e),Gg({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function _z(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function EM(n,e,t){t||(t=Z(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Zf(n,e){return e||(e=Z(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var yz=Fi;function xz(n,e){return e||(e=Z(51)),e.write_shift(1,0),Zf(null,e),Zf(null,e),Zf(null,e),Zf(null,e),Zf(null,e),e.length>e.l?e.slice(0,e.l):e}function wz(n,e){return e||(e=Z(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),Wg(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Ez(n,e,t){var r=Z(2052);return r.write_shift(4,n),Wg(e,r),Wg(t,r),r.length>r.l?r.slice(0,r.l):r}function Iz(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(ne(n,615,li(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&ne(n,44,hz(i,e[i]))}),ne(n,616))}}function Tz(n){var e=1;e!=0&&(ne(n,611,li(e)),ne(n,43,gz({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ne(n,612))}function Sz(n){var e=2;e!=0&&(ne(n,603,li(e)),ne(n,45,mN({patternType:"none"})),ne(n,45,mN({patternType:"gray125"})),ne(n,604))}function Cz(n){var e=1;e!=0&&(ne(n,613,li(e)),ne(n,46,xz({})),ne(n,614))}function bz(n){var e=1;ne(n,626,li(e)),ne(n,47,EM({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ne(n,627)}function Dz(n,e){ne(n,617,li(e.length)),e.forEach(function(t){ne(n,47,EM(t,0))}),ne(n,618)}function Az(n){var e=1;ne(n,619,li(e)),ne(n,48,wz({xfId:0,builtinId:0,name:"Normal"})),ne(n,620)}function kz(n){var e=0;ne(n,505,li(e)),ne(n,506)}function Rz(n){var e=0;ne(n,508,Ez(e,"TableStyleMedium9","PivotStyleMedium4")),ne(n,509)}function Nz(n,e){var t=lr();return ne(t,278),Iz(t,n.SSF),Tz(t,n),Sz(t,n),Cz(t,n),bz(t,n),Dz(t,e.cellXfs),Az(t,n),kz(t,n),Rz(t,n),ne(t,279),t.end()}function IM(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[en];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="\uFF2D\uFF33 \uFF30\u30B4\u30B7\u30C3\u30AF"/>',t[t.length]='<a:font script="Hang" typeface="\uB9D1\uC740 \uACE0\uB515"/>',t[t.length]='<a:font script="Hans" typeface="\u5B8B\u4F53"/>',t[t.length]='<a:font script="Hant" typeface="\u65B0\u7D30\u660E\u9AD4"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function Mz(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Hn(n,e-8)}}function Pz(n){var e=Z(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),yn(n.name,e),e.slice(0,e.l)}function Oz(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function Fz(n){var e=Z(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function Lz(n,e){var t=Z(8+2*e.length);return t.write_shift(4,n),yn(e,t),t.slice(0,t.l)}function Vz(n){return n.l+=4,n.read_shift(4)!=0}function Bz(n,e){var t=Z(8);return t.write_shift(4,n),t.write_shift(4,e?1:0),t}function Uz(){var n=lr();return ne(n,332),ne(n,334,li(1)),ne(n,335,Pz({name:"XLDAPR",version:12e4,flags:3496657072})),ne(n,336),ne(n,339,Lz(1,"XLDAPR")),ne(n,52),ne(n,35,li(514)),ne(n,4096,li(0)),ne(n,4097,zr(1)),ne(n,36),ne(n,53),ne(n,340),ne(n,337,Bz(1,!0)),ne(n,51,Fz([[1,0]])),ne(n,338),ne(n,333),n.end()}function TM(){var n=[en];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function jz(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=gt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Nu=1024;function SM(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[ue("xml",null,{"xmlns:v":br.v,"xmlns:o":br.o,"xmlns:x":br.x,"xmlns:mv":br.mv}).replace(/\/>/,">"),ue("o:shapelayout",ue("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),ue("v:shapetype",[ue("v:stroke",null,{joinstyle:"miter"}),ue("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Nu<n*1e3;)Nu+=1e3;return e.forEach(function(s){var o=_n(s[0]),a={color2:"#BEFF82",type:"gradient"};a.type=="gradient"&&(a.angle="-180");var c=a.type=="gradient"?ue("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ue("v:fill",c,a),f={on:"t",obscured:"t"};++Nu,i=i.concat(["<v:shape"+ld({id:"_x0000_s"+Nu,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ue("v:shadow",null,f),ue("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Nn("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Nn("x:AutoFill","False"),Nn("x:Row",String(o.r)),Nn("x:Column",String(o.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function CM(n){var e=[en,ue("comments",null,{xmlns:Uu[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=pt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(c){c.a&&(i=t.indexOf(pt(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Nn("t",pt(s[0]||"")));else{for(var o=`Comment:
    `+s[0]+`
`,a=1;a<s.length;++a)o+=`Reply:
    `+s[a]+`
`;e.push(Nn("t",pt(o)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function $z(n,e,t){var r=[en,ue("ThreadedComments",null,{xmlns:vn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(o,a){if(!o.T){delete o.ID;return}o.a&&e.indexOf(o.a)==-1&&e.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};a==0?s=c.id:c.parentId=s,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(o.a)).slice(-12)+"}"),r.push(ue("threadedComment",Nn("text",o.t||""),c))})}),r.push("</ThreadedComments>"),r.join("")}function Hz(n){var e=[en,ue("personList",null,{xmlns:vn.TCMNT,"xmlns:x":Uu[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(ue("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function zz(n){var e={};e.iauthor=n.read_shift(4);var t=Ba(n,16);return e.rfx=t.s,e.ref=gt(t.s),n.l+=16,e}function Wz(n,e){return e==null&&(e=Z(36)),e.write_shift(4,n[1].iauthor),Hu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var Gz=Hn;function qz(n){return yn(n.slice(0,54))}function Kz(n){var e=lr(),t=[];return ne(e,628),ne(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),ne(e,632,qz(i.a)))})}),ne(e,631),ne(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:_n(r[0]),e:_n(r[0])};ne(e,635,Wz([s,i])),i.t&&i.t.length>0&&ne(e,637,XH(i)),ne(e,636),delete i.iauthor})}),ne(e,634),ne(e,629),e.end()}function Qz(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&xt.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var bM=["xlsb","xlsm","xlam","biff8","xla"];var Xz=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,o){var a=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),o.length==0?a=!0:o.charAt(0)=="["&&(a=!0,o=o.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return a?f+=e.c:--f,c?u+=e.r:--u,i+(a?"":"$")+$n(f)+(c?"":"$")+Mn(u)}return function(i,s){return e=s,i.replace(n,t)}}(),NE=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ME=function(){return function(e,t){return e.replace(NE,function(r,i,s,o,a,c){var u=CE(o)-(s?0:t.c),f=SE(c)-(a?0:t.r),d=f==0?"":a?f+1:"["+f+"]",p=u==0?"":s?u+1:"["+u+"]";return i+"R"+d+"C"+p})}}();function Yz(n,e){return n.replace(NE,function(t,r,i,s,o,a){return r+(i=="$"?i+s:$n(CE(s)+e.c))+(o=="$"?o+a:Mn(SE(a)+e.r))})}function Jz(n){return n.length!=1}function Jt(n){n.l+=1}function po(n,e){var t=n.read_shift(e==1?1:2);return[t&16383,t>>14&1,t>>15&1]}function DM(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return AM(n,e,t);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),o=po(n,2),a=po(n,2);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:a[0],cRel:a[1],rRel:a[2]}}}function AM(n){var e=po(n,2),t=po(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function Zz(n,e,t){if(t.biff<8)return AM(n,e,t);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=po(n,2),o=po(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function kM(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return eW(n,e,t);var r=n.read_shift(t&&t.biff==12?4:2),i=po(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function eW(n){var e=po(n,2),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function tW(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function nW(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return rW(n,e,t);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),o=(s&16384)>>14,a=(s&32768)>>15;if(s&=16383,a==1)for(;i>524287;)i-=1048576;if(o==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:o,rRel:a}}function rW(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function iW(n,e,t){var r=(n[n.l++]&96)>>5,i=DM(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function sW(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var o=DM(n,s,t);return[r,i,o]}function oW(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function aW(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function cW(n,e,t){var r=(n[n.l++]&96)>>5,i=Zz(n,e-1,t);return[r,i]}function uW(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function vN(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function lW(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function fW(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function dW(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function hW(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function pW(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function RM(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function gW(n){return n.read_shift(2),RM(n,2)}function mW(n){return n.read_shift(2),RM(n,2)}function vW(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=kM(n,0,t);return[r,i]}function _W(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=nW(n,0,t);return[r,i]}function yW(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=kM(n,0,t);return[r,i,s]}function xW(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[xG[i],PM[i],r]}function wW(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:EW(n);return[i,(s[0]===0?PM:yG)[s[1]]]}function EW(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function IW(n,e,t){n.l+=t&&t.biff==2?3:4}function TW(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function SW(n){return n.l++,gd[n.read_shift(1)]}function CW(n){return n.l++,n.read_shift(2)}function bW(n){return n.l++,n.read_shift(1)!==0}function DW(n){return n.l++,zu(n,8)}function AW(n,e,t){return n.l++,hM(n,e-1,t)}function kW(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=y7(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=gd[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=zu(n,8);break;case 2:t[1]=I7(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function RW(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?Ba:C7)(n,8));return i}function NW(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,o=[];s!=r&&(o[s]=[]);++s)for(var a=0;a!=i;++a)o[s][a]=kW(n,t.biff);return o}function MW(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function PW(n,e,t){if(t.biff==5)return OW(n,e,t);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function OW(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function FW(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function LW(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function VW(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function BW(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var UW=Fi,jW=Fi,$W=Fi;function md(n,e,t){return n.l+=2,[tW(n,4,t)]}function PE(n){return n.l+=6,[]}var HW=md,zW=PE,WW=PE,GW=md;function NM(n){return n.l+=2,[fM(n),n.read_shift(2)&1]}var qW=md,KW=NM,QW=PE,XW=md,YW=md,JW=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function ZW(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),o=JW[t>>2&31];return{ixti:e,coltype:t&3,rt:o,idx:r,c:i,C:s}}function eG(n){return n.l+=2,[n.read_shift(4)]}function tG(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function nG(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function rG(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function iG(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function sG(n){return n.l+=4,[0,0]}var _N={1:{n:"PtgExp",f:TW},2:{n:"PtgTbl",f:$W},3:{n:"PtgAdd",f:Jt},4:{n:"PtgSub",f:Jt},5:{n:"PtgMul",f:Jt},6:{n:"PtgDiv",f:Jt},7:{n:"PtgPower",f:Jt},8:{n:"PtgConcat",f:Jt},9:{n:"PtgLt",f:Jt},10:{n:"PtgLe",f:Jt},11:{n:"PtgEq",f:Jt},12:{n:"PtgGe",f:Jt},13:{n:"PtgGt",f:Jt},14:{n:"PtgNe",f:Jt},15:{n:"PtgIsect",f:Jt},16:{n:"PtgUnion",f:Jt},17:{n:"PtgRange",f:Jt},18:{n:"PtgUplus",f:Jt},19:{n:"PtgUminus",f:Jt},20:{n:"PtgPercent",f:Jt},21:{n:"PtgParen",f:Jt},22:{n:"PtgMissArg",f:Jt},23:{n:"PtgStr",f:AW},26:{n:"PtgSheet",f:tG},27:{n:"PtgEndSheet",f:nG},28:{n:"PtgErr",f:SW},29:{n:"PtgBool",f:bW},30:{n:"PtgInt",f:CW},31:{n:"PtgNum",f:DW},32:{n:"PtgArray",f:uW},33:{n:"PtgFunc",f:xW},34:{n:"PtgFuncVar",f:wW},35:{n:"PtgName",f:MW},36:{n:"PtgRef",f:vW},37:{n:"PtgArea",f:iW},38:{n:"PtgMemArea",f:FW},39:{n:"PtgMemErr",f:UW},40:{n:"PtgMemNoMem",f:jW},41:{n:"PtgMemFunc",f:LW},42:{n:"PtgRefErr",f:VW},43:{n:"PtgAreaErr",f:oW},44:{n:"PtgRefN",f:_W},45:{n:"PtgAreaN",f:cW},46:{n:"PtgMemAreaN",f:rG},47:{n:"PtgMemNoMemN",f:iG},57:{n:"PtgNameX",f:PW},58:{n:"PtgRef3d",f:yW},59:{n:"PtgArea3d",f:sW},60:{n:"PtgRefErr3d",f:BW},61:{n:"PtgAreaErr3d",f:aW},255:{}},oG={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},aG={1:{n:"PtgElfLel",f:NM},2:{n:"PtgElfRw",f:XW},3:{n:"PtgElfCol",f:HW},6:{n:"PtgElfRwV",f:YW},7:{n:"PtgElfColV",f:GW},10:{n:"PtgElfRadical",f:qW},11:{n:"PtgElfRadicalS",f:QW},13:{n:"PtgElfColS",f:zW},15:{n:"PtgElfColSV",f:WW},16:{n:"PtgElfRadicalLel",f:KW},25:{n:"PtgList",f:ZW},29:{n:"PtgSxName",f:eG},255:{}},cG={0:{n:"PtgAttrNoop",f:sG},1:{n:"PtgAttrSemi",f:pW},2:{n:"PtgAttrIf",f:dW},4:{n:"PtgAttrChoose",f:lW},8:{n:"PtgAttrGoto",f:fW},16:{n:"PtgAttrSum",f:IW},32:{n:"PtgAttrBaxcel",f:vN},33:{n:"PtgAttrBaxcel",f:vN},64:{n:"PtgAttrSpace",f:gW},65:{n:"PtgAttrSpaceSemi",f:mW},128:{n:"PtgAttrIfError",f:hW},255:{}};function uG(n,e,t,r){if(r.biff<8)return Fi(n,e);for(var i=n.l+e,s=[],o=0;o!==t.length;++o)switch(t[o][0]){case"PtgArray":t[o][1]=NW(n,0,r),s.push(t[o][1]);break;case"PtgMemArea":t[o][2]=RW(n,t[o][1],r),s.push(t[o][2]);break;case"PtgExp":r&&r.biff==12&&(t[o][1][1]=n.read_shift(4),s.push(t[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[o][0];default:break}return e=i-n.l,e!==0&&s.push(Fi(n,e)),s}function lG(n,e,t){for(var r=n.l+e,i,s,o=[];r!=n.l;)e=r-n.l,s=n[n.l],i=_N[s]||_N[oG[s]],(s===24||s===25)&&(i=(s===24?aG:cG)[n[n.l+1]]),!i||!i.f?Fi(n,e):o.push([i.n,i.f(n,e,t)]);return o}function fG(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var o=r[s];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var dG={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function hG(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function MM(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function yN(n,e,t){var r=MM(n,e,t);return r=="#REF"?r:hG(r,t)}function Bu(n,e,t,r,i){var s=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},a=[],c,u,f,d=0,p=0,g,_="";if(!n[0]||!n[0][0])return"";for(var m=-1,y="",P=0,F=n[0].length;P<F;++P){var O=n[0][P];switch(O[0]){case"PtgUminus":a.push("-"+a.pop());break;case"PtgUplus":a.push("+"+a.pop());break;case"PtgPercent":a.push(a.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=a.pop(),u=a.pop(),m>=0){switch(n[0][m][1][0]){case 0:y=Vt(" ",n[0][m][1][1]);break;case 1:y=Vt("\r",n[0][m][1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}u=u+y,m=-1}a.push(u+dG[O[0]]+c);break;case"PtgIsect":c=a.pop(),u=a.pop(),a.push(u+" "+c);break;case"PtgUnion":c=a.pop(),u=a.pop(),a.push(u+","+c);break;case"PtgRange":c=a.pop(),u=a.pop(),a.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=rd(O[1][1],o,i),a.push(id(f,s));break;case"PtgRefN":f=t?rd(O[1][1],t,i):O[1][1],a.push(id(f,s));break;case"PtgRef3d":d=O[1][1],f=rd(O[1][2],o,i),_=yN(r,d,i);var j=_;a.push(_+"!"+id(f,s));break;case"PtgFunc":case"PtgFuncVar":var Q=O[1][0],ee=O[1][1];Q||(Q=0),Q&=127;var w=Q==0?[]:a.slice(-Q);a.length-=Q,ee==="User"&&(ee=w.shift()),a.push(ee+"("+w.join(",")+")");break;case"PtgBool":a.push(O[1]?"TRUE":"FALSE");break;case"PtgInt":a.push(O[1]);break;case"PtgNum":a.push(String(O[1]));break;case"PtgStr":a.push('"'+O[1].replace(/"/g,'""')+'"');break;case"PtgErr":a.push(O[1]);break;case"PtgAreaN":g=rN(O[1][1],t?{s:t}:o,i),a.push(rE(g,i));break;case"PtgArea":g=rN(O[1][1],o,i),a.push(rE(g,i));break;case"PtgArea3d":d=O[1][1],g=O[1][2],_=yN(r,d,i),a.push(_+"!"+rE(g,i));break;case"PtgAttrSum":a.push("SUM("+a.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=O[1][2];var E=(r.names||[])[p-1]||(r[0]||[])[p],I=E?E.Name:"SH33TJSNAME"+String(p);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),a.push(I);break;case"PtgNameX":var C=O[1][1];p=O[1][2];var D;if(i.biff<=5)C<0&&(C=-C),r[C]&&(D=r[C][p]);else{var M="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][p]&&r[C][p].itab>0&&(M=r.SheetNames[r[C][p].itab-1]+"!"):M=r.SheetNames[p-1]+"!"),r[C]&&r[C][p])M+=r[C][p].Name;else if(r[0]&&r[0][p])M+=r[0][p].Name;else{var A=(MM(r,C,i)||"").split(";;");A[p-1]?M=A[p-1]:M+="SH33TJSERRX"}a.push(M);break}D||(D={Name:"SH33TJSERRY"}),a.push(D.Name);break;case"PtgParen":var Ue="(",Te=")";if(m>=0){switch(y="",n[0][m][1][0]){case 2:Ue=Vt(" ",n[0][m][1][1])+Ue;break;case 3:Ue=Vt("\r",n[0][m][1][1])+Ue;break;case 4:Te=Vt(" ",n[0][m][1][1])+Te;break;case 5:Te=Vt("\r",n[0][m][1][1])+Te;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][m][1][0])}m=-1}a.push(Ue+a.pop()+Te);break;case"PtgRefErr":a.push("#REF!");break;case"PtgRefErr3d":a.push("#REF!");break;case"PtgExp":f={c:O[1][1],r:O[1][0]};var zt={c:t.c,r:t.r};if(r.sharedf[gt(f)]){var Rt=r.sharedf[gt(f)];a.push(Bu(Rt,o,zt,r,i))}else{var Wt=!1;for(c=0;c!=r.arrayf.length;++c)if(u=r.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){a.push(Bu(u[1],o,zt,r,i)),Wt=!0;break}Wt||a.push(O[1])}break;case"PtgArray":a.push("{"+fG(O[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":a.push("");break;case"PtgAreaErr":a.push("#REF!");break;case"PtgAreaErr3d":a.push("#REF!");break;case"PtgList":a.push("Table"+O[1].idx+"[#"+O[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(O));default:throw new Error("Unrecognized Formula Token: "+String(O))}var tn=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&tn.indexOf(n[0][P][0])==-1){O=n[0][m];var Gt=!0;switch(O[1][0]){case 4:Gt=!1;case 0:y=Vt(" ",O[1][1]);break;case 5:Gt=!1;case 1:y=Vt("\r",O[1][1]);break;default:if(y="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+O[1][0])}a.push((Gt?y:"")+a.pop()+(Gt?"":y)),m=-1}}if(a.length>1&&i.WTF)throw new Error("bad formula stack");return a[0]}function pG(n){if(n==null){var e=Z(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Ma(n);return Ma(0)}function gG(n,e,t,r,i){var s=Pa(e,t,i),o=pG(n.v),a=Z(6),c=33;a.write_shift(2,c),a.write_shift(4,0);for(var u=Z(n.bf.length),f=0;f<n.bf.length;++f)u[f]=n.bf[f];var d=Rn([s,o,a,u]);return d}function sm(n,e,t){var r=n.read_shift(4),i=lG(n,r,t),s=n.read_shift(4),o=s>0?uG(n,s,i,t):null;return[i,o]}var mG=sm,om=sm,vG=sm,_G=sm,yG={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},PM={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},xG={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function wG(n){var e="of:="+n.replace(NE,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function EG(n){return n.replace(/\./,"!")}var sd=typeof Map<"u";function OE(n,e,t){var r=0,i=n.length;if(t){if(sd?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=sd?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(sd?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function am(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(hs=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=Qg(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=dE(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function OM(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function mo(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){ON(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function IG(n,e,t){if(n&&n["!ref"]){var r=kt(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function TG(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Zt(n[t])+'"/>';return e+"</mergeCells>"}function SG(n,e,t,r,i){var s=!1,o={},a=null;if(r.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch{}s=!0,o.codeName=ls(pt(c))}if(n&&n["!outline"]){var u={summaryBelow:1,summaryRight:1};n["!outline"].above&&(u.summaryBelow=0),n["!outline"].left&&(u.summaryRight=0),a=(a||"")+ue("outlinePr",null,u)}!s&&!a||(i[i.length]=ue("sheetPr",a,o))}var CG=["objects","scenarios","selectLockedCells","selectUnlockedCells"],bG=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function DG(n){var e={sheet:1};return CG.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),bG.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=_M(n.password).toString(16).toUpperCase()),ue("sheetProtection",null,e)}function AG(n){return OM(n),ue("pageMargins",null,n)}function kG(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=ue("col",null,am(i,r)));return t[t.length]="</cols>",t.join("")}function RG(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Zt(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,o=Dr(i);o.s.r==o.e.r&&(o.e.r=Dr(e["!ref"]).e.r,i=Zt(o));for(var a=0;a<s.length;++a){var c=s[a];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==r){c.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return a==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),ue("autoFilter",null,{ref:i})}function NG(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),ue("sheetViews",ue("sheetView",null,i),{})}function MG(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,o=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=gd[n.v];break;case"d":r&&r.cellDates?i=Zn(n.v,-1).toISOString():(n=dr(n),n.t="n",i=""+(n.v=fr(Zn(n.v)))),typeof n.z>"u"&&(n.z=Bt[14]);break;default:i=n.v;break}var a=Nn("v",pt(i)),c={r:e},u=mo(r.cellXfs,n,r);switch(u!==0&&(c.s=u),n.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Nn("v",""+OE(r.Strings,n.v,r.revStrings)),c.t="s";break}c.t="str";break}if(n.t!=s&&(n.t=s,n.v=o),typeof n.f=="string"&&n.f){var f=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;a=ue("f",pt(n.f),f)+(n.v!=null?a:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(c.cm=1),ue("c",a,c)}function PG(n,e,t,r){var i=[],s=[],o=kt(n["!ref"]),a="",c,u="",f=[],d=0,p=0,g=n["!rows"],_=Array.isArray(n),m={r:u},y,P=-1;for(p=o.s.c;p<=o.e.c;++p)f[p]=$n(p);for(d=o.s.r;d<=o.e.r;++d){for(s=[],u=Mn(d),p=o.s.c;p<=o.e.c;++p){c=f[p]+u;var F=_?(n[d]||[])[p]:n[c];F!==void 0&&(a=MG(F,c,n,e,t,r))!=null&&s.push(a)}(s.length>0||g&&g[d])&&(m={r:u},g&&g[d]&&(y=g[d],y.hidden&&(m.hidden=1),P=-1,y.hpx?P=Xg(y.hpx):y.hpt&&(P=y.hpt),P>-1&&(m.ht=P,m.customHeight=1),y.level&&(m.outlineLevel=y.level)),i[i.length]=ue("row",s.join(""),m))}if(g)for(;d<g.length;++d)g&&g[d]&&(m={r:d+1},y=g[d],y.hidden&&(m.hidden=1),P=-1,y.hpx?P=Xg(y.hpx):y.hpt&&(P=y.hpt),P>-1&&(m.ht=P,m.customHeight=1),y.level&&(m.outlineLevel=y.level),i[i.length]=ue("row","",m));return i.join("")}function FM(n,e,t,r){var i=[en,ue("worksheet",null,{xmlns:Uu[0],"xmlns:r":vn.r})],s=t.SheetNames[n],o=0,a="",c=t.Sheets[s];c==null&&(c={});var u=c["!ref"]||"A1",f=kt(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=Zt(f)}r||(r={}),c["!comments"]=[];var d=[];SG(c,t,n,e,i),i[i.length]=ue("dimension",null,{ref:u}),i[i.length]=NG(c,e,n,t),e.sheetFormat&&(i[i.length]=ue("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=kG(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(a=PG(c,e,n,t,r),a.length>0&&(i[i.length]=a)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=DG(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=RG(c["!autofilter"],c,t,n)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=TG(c["!merges"]));var p=-1,g,_=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(m){m[1].Target&&(g={ref:m[0]},m[1].Target.charAt(0)!="#"&&(_=ht(r,-1,pt(m[1].Target).replace(/#.*$/,""),ct.HLINK),g["r:id"]="rId"+_),(p=m[1].Target.indexOf("#"))>-1&&(g.location=pt(m[1].Target.slice(p+1))),m[1].Tooltip&&(g.tooltip=pt(m[1].Tooltip)),i[i.length]=ue("hyperlink",null,g))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=AG(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Nn("ignoredErrors",ue("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(_=ht(r,-1,"../drawings/drawing"+(n+1)+".xml",ct.DRAW),i[i.length]=ue("drawing",null,{"r:id":"rId"+_}),c["!drawing"]=d),c["!comments"].length>0&&(_=ht(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ct.VML),i[i.length]=ue("legacyDrawing",null,{"r:id":"rId"+_}),c["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function OG(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function FG(n,e,t){var r=Z(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=Xg(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),r.write_shift(1,o),r.write_shift(1,0);var a=0,c=r.l;r.l+=4;for(var u={r:n,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var d=-1,p=-1,g=f<<10;g<f+1<<10;++g){u.c=g;var _=Array.isArray(t)?(t[u.r]||[])[u.c]:t[gt(u)];_&&(d<0&&(d=g),p=g)}d<0||(++a,r.write_shift(4,d),r.write_shift(4,p))}var m=r.l;return r.l=c,r.write_shift(4,a),r.l=m,r.length>r.l?r.slice(0,r.l):r}function LG(n,e,t,r){var i=FG(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&ne(n,0,i)}var VG=Ba,BG=Hu;function UG(){}function jG(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=YH(n,e-19),t}function $G(n,e,t){t==null&&(t=Z(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return Gg({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),YN(n,t),t.slice(0,t.l)}function HG(n){var e=Wr(n);return[e]}function zG(n,e,t){return t==null&&(t=Z(8)),Fa(e,t)}function WG(n){var e=La(n);return[e]}function GG(n,e,t){return t==null&&(t=Z(4)),Va(e,t)}function qG(n){var e=Wr(n),t=n.read_shift(1);return[e,t,"b"]}function KG(n,e,t){return t==null&&(t=Z(9)),Fa(e,t),t.write_shift(1,n.v?1:0),t}function QG(n){var e=La(n),t=n.read_shift(1);return[e,t,"b"]}function XG(n,e,t){return t==null&&(t=Z(5)),Va(e,t),t.write_shift(1,n.v?1:0),t}function YG(n){var e=Wr(n),t=n.read_shift(1);return[e,t,"e"]}function JG(n,e,t){return t==null&&(t=Z(9)),Fa(e,t),t.write_shift(1,n.v),t}function ZG(n){var e=La(n),t=n.read_shift(1);return[e,t,"e"]}function eq(n,e,t){return t==null&&(t=Z(8)),Va(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function tq(n){var e=Wr(n),t=n.read_shift(4);return[e,t,"s"]}function nq(n,e,t){return t==null&&(t=Z(12)),Fa(e,t),t.write_shift(4,e.v),t}function rq(n){var e=La(n),t=n.read_shift(4);return[e,t,"s"]}function iq(n,e,t){return t==null&&(t=Z(8)),Va(e,t),t.write_shift(4,e.v),t}function sq(n){var e=Wr(n),t=zu(n);return[e,t,"n"]}function oq(n,e,t){return t==null&&(t=Z(16)),Fa(e,t),Ma(n.v,t),t}function aq(n){var e=La(n),t=zu(n);return[e,t,"n"]}function cq(n,e,t){return t==null&&(t=Z(12)),Va(e,t),Ma(n.v,t),t}function uq(n){var e=Wr(n),t=JN(n);return[e,t,"n"]}function lq(n,e,t){return t==null&&(t=Z(12)),Fa(e,t),ZN(n.v,t),t}function fq(n){var e=La(n),t=JN(n);return[e,t,"n"]}function dq(n,e,t){return t==null&&(t=Z(8)),Va(e,t),ZN(n.v,t),t}function hq(n){var e=Wr(n),t=bE(n);return[e,t,"is"]}function pq(n){var e=Wr(n),t=Hn(n);return[e,t,"str"]}function gq(n,e,t){return t==null&&(t=Z(12+4*n.v.length)),Fa(e,t),yn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function mq(n){var e=La(n),t=Hn(n);return[e,t,"str"]}function vq(n,e,t){return t==null&&(t=Z(8+4*n.v.length)),Va(e,t),yn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function _q(n,e,t){var r=n.l+e,i=Wr(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"b"];if(t.cellFormula){n.l+=2;var a=om(n,r-n.l,t);o[3]=Bu(a,null,i,t.supbooks,t)}else n.l=r;return o}function yq(n,e,t){var r=n.l+e,i=Wr(n);i.r=t["!row"];var s=n.read_shift(1),o=[i,s,"e"];if(t.cellFormula){n.l+=2;var a=om(n,r-n.l,t);o[3]=Bu(a,null,i,t.supbooks,t)}else n.l=r;return o}function xq(n,e,t){var r=n.l+e,i=Wr(n);i.r=t["!row"];var s=zu(n),o=[i,s,"n"];if(t.cellFormula){n.l+=2;var a=om(n,r-n.l,t);o[3]=Bu(a,null,i,t.supbooks,t)}else n.l=r;return o}function wq(n,e,t){var r=n.l+e,i=Wr(n);i.r=t["!row"];var s=Hn(n),o=[i,s,"str"];if(t.cellFormula){n.l+=2;var a=om(n,r-n.l,t);o[3]=Bu(a,null,i,t.supbooks,t)}else n.l=r;return o}var Eq=Ba,Iq=Hu;function Tq(n,e){return e==null&&(e=Z(4)),e.write_shift(4,n),e}function Sq(n,e){var t=n.l+e,r=Ba(n,16),i=DE(n),s=Hn(n),o=Hn(n),a=Hn(n);n.l=t;var c={rfx:r,relId:i,loc:s,display:a};return o&&(c.Tooltip=o),c}function Cq(n,e){var t=Z(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Hu({s:_n(n[0]),e:_n(n[0])},t),AE("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return yn(i||"",t),yn(n[1].Tooltip||"",t),yn("",t),t.slice(0,t.l)}function bq(){}function Dq(n,e,t){var r=n.l+e,i=eM(n,16),s=n.read_shift(1),o=[i];if(o[2]=s,t.cellFormula){var a=mG(n,r-n.l,t);o[1]=a}else n.l=r;return o}function Aq(n,e,t){var r=n.l+e,i=Ba(n,16),s=[i];if(t.cellFormula){var o=_G(n,r-n.l,t);s[1]=o,n.l=r}else n.l=r;return s}function kq(n,e,t){t==null&&(t=Z(18));var r=am(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var LM=["left","right","top","bottom","header","footer"];function Rq(n){var e={};return LM.forEach(function(t){e[t]=zu(n,8)}),e}function Nq(n,e){return e==null&&(e=Z(6*8)),OM(n),LM.forEach(function(t){Ma(n[t],e)}),e}function Mq(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function Pq(n,e,t){t==null&&(t=Z(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Oq(n){var e=Z(24);return e.write_shift(4,4),e.write_shift(4,1),Hu(n,e),e}function Fq(n,e){return e==null&&(e=Z(16*4+2)),e.write_shift(2,n.password?_M(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function Lq(){}function Vq(){}function Bq(n,e,t,r,i,s,o){if(e.v===void 0)return!1;var a="";switch(e.t){case"b":a=e.v?"1":"0";break;case"d":e=dr(e),e.z=e.z||Bt[14],e.v=fr(Zn(e.v)),e.t="n";break;case"n":case"e":a=""+e.v;break;default:a=e.v;break}var c={r:t,c:r};switch(c.s=mo(i.cellXfs,e,i),e.l&&s["!links"].push([gt(c),e.l]),e.c&&s["!comments"].push([gt(c),e.c]),e.t){case"s":case"str":return i.bookSST?(a=OE(i.Strings,e.v,i.revStrings),c.t="s",c.v=a,o?ne(n,18,iq(e,c)):ne(n,7,nq(e,c))):(c.t="str",o?ne(n,17,vq(e,c)):ne(n,6,gq(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?o?ne(n,13,dq(e,c)):ne(n,2,lq(e,c)):o?ne(n,16,cq(e,c)):ne(n,5,oq(e,c)),!0;case"b":return c.t="b",o?ne(n,15,XG(e,c)):ne(n,4,KG(e,c)),!0;case"e":return c.t="e",o?ne(n,14,eq(e,c)):ne(n,3,JG(e,c)),!0}return o?ne(n,12,GG(e,c)):ne(n,1,zG(e,c)),!0}function Uq(n,e,t,r){var i=kt(e["!ref"]||"A1"),s,o="",a=[];ne(n,145);var c=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Mn(f),LG(n,e,i,f);var d=!1;if(f<=i.e.r)for(var p=i.s.c;p<=i.e.c;++p){f===i.s.r&&(a[p]=$n(p)),s=a[p]+o;var g=c?(e[f]||[])[p]:e[s];if(!g){d=!1;continue}d=Bq(n,g,f,p,r,e,d)}}ne(n,146)}function jq(n,e){!e||!e["!merges"]||(ne(n,177,Tq(e["!merges"].length)),e["!merges"].forEach(function(t){ne(n,176,Iq(t))}),ne(n,178))}function $q(n,e){!e||!e["!cols"]||(ne(n,390),e["!cols"].forEach(function(t,r){t&&ne(n,60,kq(r,t))}),ne(n,391))}function Hq(n,e){!e||!e["!ref"]||(ne(n,648),ne(n,649,Oq(kt(e["!ref"]))),ne(n,650))}function zq(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=ht(t,-1,r[1].Target.replace(/#.*$/,""),ct.HLINK);ne(n,494,Cq(r,i))}}),delete e["!links"]}function Wq(n,e,t,r){if(e["!comments"].length>0){var i=ht(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ct.VML);ne(n,551,AE("rId"+i)),e["!legacy"]=i}}function Gq(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Zt(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,a=Dr(s);a.s.r==a.e.r&&(a.e.r=Dr(e["!ref"]).e.r,s=Zt(a));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==r){u.Ref="'"+t.SheetNames[r]+"'!"+s;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),ne(n,161,Hu(kt(s))),ne(n,162)}}function qq(n,e,t){ne(n,133),ne(n,137,Pq(e,t)),ne(n,138),ne(n,134)}function Kq(n,e){e["!protect"]&&ne(n,535,Fq(e["!protect"]))}function Qq(n,e,t,r){var i=lr(),s=t.SheetNames[n],o=t.Sheets[s]||{},a=s;try{t&&t.Workbook&&(a=t.Workbook.Sheets[n].CodeName||a)}catch{}var c=kt(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],ne(i,129),(t.vbaraw||o["!outline"])&&ne(i,147,$G(a,o["!outline"])),ne(i,148,BG(c)),qq(i,o,t.Workbook),$q(i,o,n,e,t),Uq(i,o,n,e,t),Kq(i,o),Gq(i,o,t,n),jq(i,o),zq(i,o,r),o["!margins"]&&ne(i,476,Nq(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Hq(i,o),Wq(i,o,n,r),ne(i,130),i.end()}function Xq(n,e){n.l+=10;var t=Hn(n,e-10);return{name:t}}var Yq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Jq(n){return!n.Workbook||!n.Workbook.WBProps?"false":DH(n.Workbook.WBProps.date1904)?"true":"false"}var Zq="][*?/\\".split("");function VM(n,e){if(n.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return Zq.forEach(function(r){if(n.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}function eK(n,e,t){n.forEach(function(r,i){VM(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var o=e&&e[i]&&e[i].CodeName||r;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function tK(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];eK(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)IG(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function BM(n){var e=[en];e[e.length]=ue("workbook",null,{xmlns:Uu[0],"xmlns:r":vn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Yq.forEach(function(a){n.Workbook.WBProps[a[0]]!=null&&n.Workbook.WBProps[a[0]]!=a[1]&&(r[a[0]]=n.Workbook.WBProps[a[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=ue("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var o={name:pt(n.SheetNames[s].slice(0,31))};if(o.sheetId=""+(s+1),o["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}e[e.length]=ue("sheet",null,o)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(a){var c={name:a.Name};a.Comment&&(c.comment=a.Comment),a.Sheet!=null&&(c.localSheetId=""+a.Sheet),a.Hidden&&(c.hidden="1"),a.Ref&&(e[e.length]=ue("definedName",pt(a.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function nK(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=fE(n,e-8),t.name=Hn(n),t}function rK(n,e){return e||(e=Z(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),AE(n.strRelID,e),yn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function iK(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?Hn(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function sK(n,e){e||(e=Z(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),YN(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function oK(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=JH(n),o=vG(n,0,t),a=DE(n);n.l=r;var c={Name:s,Ptg:o};return i<268435455&&(c.Sheet=i),a&&(c.Comment=a),c}function aK(n,e){ne(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};ne(n,156,rK(i))}ne(n,144)}function cK(n,e){e||(e=Z(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return yn("SheetJS",e),yn(od.version,e),yn(od.version,e),yn("7262",e),e.length>e.l?e.slice(0,e.l):e}function uK(n,e){e||(e=Z(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function lK(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(ne(n,135),ne(n,158,uK(i)),ne(n,136))}}function fK(n,e){var t=lr();return ne(t,131),ne(t,128,cK()),ne(t,153,sK(n.Workbook&&n.Workbook.WBProps||null)),lK(t,n,e),aK(t,n,e),ne(t,132),t.end()}function dK(n,e,t){return(e.slice(-4)===".bin"?fK:BM)(n,t)}function hK(n,e,t,r,i){return(e.slice(-4)===".bin"?Qq:FM)(n,t,r,i)}function pK(n,e,t){return(e.slice(-4)===".bin"?Nz:wM)(n,t)}function gK(n,e,t){return(e.slice(-4)===".bin"?sz:vM)(n,t)}function mK(n,e,t){return(e.slice(-4)===".bin"?Kz:CM)(n,t)}function vK(n){return(n.slice(-4)===".bin"?Uz:TM)()}function _K(n,e){var t=[];return n.Props&&t.push(p7(n.Props,e)),n.Custprops&&t.push(g7(n.Props,n.Custprops,e)),t.join("")}function yK(){return""}function xK(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(ue("NumberFormat",null,{"ss:Format":pt(Bt[r.numFmtId])}));var o={"ss:ID":"s"+(21+i)};t.push(ue("Style",s.join(""),o))}),ue("Styles",t.join(""))}function UM(n){return ue("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+ME(n.Ref,{r:0,c:0})})}function wK(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(UM(i)))}return ue("Names",t.join(""))}function EK(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],o=0;o<i.length;++o){var a=i[o];a.Sheet==t&&(a.Name.match(/^_xlfn\./)||s.push(UM(a)))}return s.join("")}function IK(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(ue("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(ue("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(ue("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(ue("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Nn("ProtectContents","True")),n["!protect"].objects&&i.push(Nn("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Nn("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Nn("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Nn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){n["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":ue("WorksheetOptions",i.join(""),{xmlns:br.x})}function TK(n){return n.map(function(e){var t=bH(e.t||""),r=ue("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return ue("Comment",r,{"ss:Author":e.a})}).join("")}function SK(n,e,t,r,i,s,o){if(!n||n.v==null&&n.f==null)return"";var a={};if(n.f&&(a["ss:Formula"]="="+pt(ME(n.f,o))),n.F&&n.F.slice(0,e.length)==e){var c=_n(n.F.slice(e.length+1));a["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(n.l&&n.l.Target&&(a["ss:HRef"]=pt(n.l.Target),n.l.Tooltip&&(a["x:HRefScreenTip"]=pt(n.l.Tooltip))),t["!merges"])for(var u=t["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(a["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(a["ss:MergeDown"]=u[f].e.r-u[f].s.r));var d="",p="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":d="Number",p=String(n.v);break;case"b":d="Boolean",p=n.v?"1":"0";break;case"e":d="Error",p=gd[n.v];break;case"d":d="DateTime",p=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||Bt[14]);break;case"s":d="String",p=CH(n.v||"");break}var g=mo(r.cellXfs,n,r);a["ss:StyleID"]="s"+(21+g),a["ss:Index"]=o.c+1;var _=n.v!=null?p:"",m=n.t=="z"?"":'<Data ss:Type="'+d+'">'+_+"</Data>";return(n.c||[]).length>0&&(m+=TK(n.c)),ue("Cell",m,a)}function CK(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=xM(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function bK(n,e,t,r){if(!n["!ref"])return"";var i=kt(n["!ref"]),s=n["!merges"]||[],o=0,a=[];n["!cols"]&&n["!cols"].forEach(function(y,P){RE(y);var F=!!y.width,O=am(P,y),j={"ss:Index":P+1};F&&(j["ss:Width"]=Kg(O.width)),y.hidden&&(j["ss:Hidden"]="1"),a.push(ue("Column",null,j))});for(var c=Array.isArray(n),u=i.s.r;u<=i.e.r;++u){for(var f=[CK(u,(n["!rows"]||[])[u])],d=i.s.c;d<=i.e.c;++d){var p=!1;for(o=0;o!=s.length;++o)if(!(s[o].s.c>d)&&!(s[o].s.r>u)&&!(s[o].e.c<d)&&!(s[o].e.r<u)){(s[o].s.c!=d||s[o].s.r!=u)&&(p=!0);break}if(!p){var g={r:u,c:d},_=gt(g),m=c?(n[u]||[])[d]:n[_];f.push(SK(m,_,n,e,t,r,g))}}f.push("</Row>"),f.length>2&&a.push(f.join(""))}return a.join("")}function DK(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],o=s?EK(s,e,n,t):"";return o.length>0&&r.push("<Names>"+o+"</Names>"),o=s?bK(s,e,n,t):"",o.length>0&&r.push("<Table>"+o+"</Table>"),r.push(IK(s,e,n,t)),r.join("")}function AK(n,e){e||(e={}),n.SSF||(n.SSF=dr(Bt)),n.SSF&&(tm(),em(n.SSF),e.revssf=nm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],mo(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(_K(n,e)),t.push(yK(n,e)),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(ue("Worksheet",DK(r,e,n),{"ss:Name":pt(n.SheetNames[r])}));return t[2]=xK(n,e),t[3]=wK(n,e),en+ue("Workbook",t.join(""),{xmlns:br.ss,"xmlns:o":br.o,"xmlns:x":br.x,"xmlns:ss":br.ss,"xmlns:dt":br.dt,"xmlns:html":br.html})}var oE={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function kK(n,e){var t=[],r=[],i=[],s=0,o,a=G2(sN,"n"),c=G2(oN,"n");if(n.Props)for(o=Pn(n.Props),s=0;s<o.length;++s)(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],n.Props[o[s]]]);if(n.Custprops)for(o=Pn(n.Custprops),s=0;s<o.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},o[s])||(Object.prototype.hasOwnProperty.call(a,o[s])?t:Object.prototype.hasOwnProperty.call(c,o[s])?r:i).push([o[s],n.Custprops[o[s]]]);var u=[];for(s=0;s<i.length;++s)lM.indexOf(i[s][0])>-1||aM.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);r.length&&xt.utils.cfb_add(e,"/SummaryInformation",fN(r,oE.SI,c,oN)),(t.length||u.length)&&xt.utils.cfb_add(e,"/DocumentSummaryInformation",fN(t,oE.DSI,a,sN,u.length?u:null,oE.UDI))}function RK(n,e){var t=e||{},r=xt.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return xt.utils.cfb_add(r,i,jM(n,t)),t.biff==8&&(n.Props||n.Custprops)&&kK(n,r),t.biff==8&&n.vbaraw&&Qz(r,xt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var NK={0:{f:OG},1:{f:HG},2:{f:uq},3:{f:YG},4:{f:qG},5:{f:sq},6:{f:pq},7:{f:tq},8:{f:wq},9:{f:xq},10:{f:_q},11:{f:yq},12:{f:WG},13:{f:fq},14:{f:ZG},15:{f:QG},16:{f:aq},17:{f:mq},18:{f:rq},19:{f:bE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:oK},40:{},42:{},43:{f:pz},44:{f:dz},45:{f:vz},46:{f:yz},47:{f:_z},48:{},49:{f:WH},50:{},51:{f:Oz},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:G7},62:{f:hq},63:{f:jz},64:{f:Lq},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Fi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Mq},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:jG},148:{f:VG,p:16},151:{f:bq},152:{},153:{f:iK},154:{},155:{},156:{f:nK},157:{},158:{},159:{T:1,f:nz},160:{T:-1},161:{T:1,f:Ba},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Eq},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Mz},336:{T:-1},337:{f:Vz,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:fE},357:{},358:{},359:{},360:{T:1},361:{},362:{f:U7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Dq},427:{f:Aq},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Rq},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:UG},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sq},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:fE},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Gz},633:{T:1},634:{T:-1},635:{T:1,f:zz},636:{T:-1},637:{f:QH},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Xq},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Vq},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function le(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,o=n.next(4);o.write_shift(2,i),o.write_shift(2,s),s>0&&TE(t)&&n.push(t)}}function MK(n,e,t,r){var i=r||(t||[]).length||0;if(i<=8224)return le(n,e,t,i);var s=e;if(!isNaN(s)){for(var o=t.parts||[],a=0,c=0,u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;var f=n.next(4);for(f.write_shift(2,s),f.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u;c<i;){for(f=n.next(4),f.write_shift(2,60),u=0;u+(o[a]||8224)<=8224;)u+=o[a]||8224,a++;f.write_shift(2,u),n.push(t.slice(c,c+u)),c+=u}}}function vd(n,e,t){return n||(n=Z(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function PK(n,e,t,r){var i=Z(9);return vd(i,n,e),dM(t,r||"b",i),i}function OK(n,e,t){var r=Z(8+2*t.length);return vd(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function FK(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?fr(Zn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?le(n,2,X7(t,r,i)):le(n,3,Q7(t,r,i));return;case"b":case"e":le(n,5,PK(t,r,e.v,e.t));return;case"s":case"str":le(n,4,OK(t,r,(e.v||"").slice(0,255)));return}le(n,1,vd(null,t,r))}function LK(n,e,t,r){var i=Array.isArray(e),s=kt(e["!ref"]||"A1"),o,a="",c=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),o=Zt(s)}for(var u=s.s.r;u<=s.e.r;++u){a=Mn(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(c[f]=$n(f)),o=c[f]+a;var d=i?(e[u]||[])[f]:e[o];d&&FK(n,d,u,f,r)}}}function VK(n,e){var t=e||{};Oi!=null&&t.dense==null&&(t.dense=Oi);for(var r=lr(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return le(r,t.biff==4?1033:t.biff==3?521:9,kE(n,16,t)),LK(r,n.Sheets[n.SheetNames[i]],i,t,n),le(r,10),r.end()}function BK(n,e,t){le(n,49,N7({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function UK(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&le(n,1054,O7(i,e[i],t))})}function jK(n,e){var t=Z(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),le(n,2151,t),t=Z(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),gM(kt(e["!ref"]||"A1"),t),t.write_shift(4,4),le(n,2152,t)}function $K(n,e){for(var t=0;t<16;++t)le(n,224,hN({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){le(n,224,hN(r,0,e))})}function HK(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];le(n,440,H7(r)),r[1].Tooltip&&le(n,2048,z7(r))}delete e["!links"]}function zK(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&le(n,125,q7(am(i,r),i))})}}function WK(n,e,t,r,i){var s=16+mo(i.cellXfs,e,i);if(e.v==null&&!e.bf){le(n,513,Pa(t,r,s));return}if(e.bf)le(n,6,gG(e,t,r,i,s));else switch(e.t){case"d":case"n":var o=e.t=="d"?fr(Zn(e.v)):e.v;le(n,515,B7(t,r,o,s,i));break;case"b":case"e":le(n,517,V7(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var a=OE(i.Strings,e.v,i.revStrings);le(n,253,M7(t,r,a,s,i))}else le(n,516,P7(t,r,(e.v||"").slice(0,255),s,i));break;default:le(n,513,Pa(t,r,s))}}function GK(n,e,t){var r=lr(),i=t.SheetNames[n],s=t.Sheets[i]||{},o=(t||{}).Workbook||{},a=(o.Sheets||[])[n]||{},c=Array.isArray(s),u=e.biff==8,f,d="",p=[],g=kt(s["!ref"]||"A1"),_=u?65536:16384;if(g.e.c>255||g.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,_-1)}le(r,2057,kE(t,16,e)),le(r,13,zr(1)),le(r,12,zr(100)),le(r,15,Jn(!0)),le(r,17,Jn(!1)),le(r,16,Ma(.001)),le(r,95,Jn(!0)),le(r,42,Jn(!1)),le(r,43,Jn(!1)),le(r,130,zr(1)),le(r,128,L7([0,0])),le(r,131,Jn(!1)),le(r,132,Jn(!1)),u&&zK(r,s["!cols"]),le(r,512,F7(g,e)),u&&(s["!links"]=[]);for(var m=g.s.r;m<=g.e.r;++m){d=Mn(m);for(var y=g.s.c;y<=g.e.c;++y){m===g.s.r&&(p[y]=$n(y)),f=p[y]+d;var P=c?(s[m]||[])[y]:s[f];P&&(WK(r,P,m,y,e),u&&P.l&&s["!links"].push([f,P.l]))}}var F=a.CodeName||a.name||i;return u&&le(r,574,R7((o.Views||[])[0])),u&&(s["!merges"]||[]).length&&le(r,229,$7(s["!merges"])),u&&HK(r,s),le(r,442,pM(F,e)),u&&jK(r,s),le(r,10),r.end()}function qK(n,e,t){var r=lr(),i=(n||{}).Workbook||{},s=i.Sheets||[],o=i.WBProps||{},a=t.biff==8,c=t.biff==5;if(le(r,2057,kE(n,5,t)),t.bookType=="xla"&&le(r,135),le(r,225,a?zr(1200):null),le(r,193,_7(2)),c&&le(r,191),c&&le(r,192),le(r,226),le(r,92,b7("SheetJS",t)),le(r,66,zr(a?1200:1252)),a&&le(r,353,zr(0)),a&&le(r,448),le(r,317,K7(n.SheetNames.length)),a&&n.vbaraw&&le(r,211),a&&n.vbaraw){var u=o.CodeName||"ThisWorkbook";le(r,442,pM(u,t))}le(r,156,zr(17)),le(r,25,Jn(!1)),le(r,18,Jn(!1)),le(r,19,zr(0)),a&&le(r,431,Jn(!1)),a&&le(r,444,zr(0)),le(r,61,k7(t)),le(r,64,Jn(!1)),le(r,141,zr(0)),le(r,34,Jn(Jq(n)=="true")),le(r,14,Jn(!0)),a&&le(r,439,Jn(!1)),le(r,218,zr(0)),BK(r,n,t),UK(r,n.SSF,t),$K(r,t),a&&le(r,352,Jn(!1));var f=r.end(),d=lr();a&&le(d,140,W7()),a&&t.Strings&&MK(d,252,A7(t.Strings,t)),le(d,10);var p=d.end(),g=lr(),_=0,m=0;for(m=0;m<n.SheetNames.length;++m)_+=(a?12:11)+(a?2:1)*n.SheetNames[m].length;var y=f.length+_+p.length;for(m=0;m<n.SheetNames.length;++m){var P=s[m]||{};le(g,133,D7({pos:y,hs:P.Hidden||0,dt:0,name:n.SheetNames[m]},t)),y+=e[m].length}var F=g.end();if(_!=F.length)throw new Error("BS8 "+_+" != "+F.length);var O=[];return f.length&&O.push(f),F.length&&O.push(F),p.length&&O.push(p),Rn(O)}function KK(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=dr(Bt)),n&&n.SSF&&(tm(),em(n.SSF),t.revssf=nm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,FE(t),t.cellXfs=[],mo(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=GK(i,t,n);return r.unshift(qK(n,r,t)),Rn(r)}function jM(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Dr(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return KK(n,e);case 4:case 3:case 2:return VK(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function QK(n,e,t,r){for(var i=n["!merges"]||[],s=[],o=e.s.c;o<=e.e.c;++o){for(var a=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>t||i[u].s.c>o)&&!(i[u].e.r<t||i[u].e.c<o)){if(i[u].s.r<t||i[u].s.c<o){a=-1;break}a=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(a<0)){var f=gt({r:t,c:o}),d=r.dense?(n[t]||[])[o]:n[f],p=d&&d.v!=null&&(d.h||SH(d.w||(gs(d),d.w)||""))||"",g={};a>1&&(g.rowspan=a),c>1&&(g.colspan=c),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(g["data-t"]=d&&d.t||"z",d.v!=null&&(g["data-v"]=d.v),d.z!=null&&(g["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),g.id=(r.id||"sjs")+"-"+f,s.push(ue("td",p,g))}}var _="<tr>";return _+s.join("")+"</tr>"}var XK='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',YK="</body></html>";function JK(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function $M(n,e){var t=e||{},r=t.header!=null?t.header:XK,i=t.footer!=null?t.footer:YK,s=[r],o=Dr(n["!ref"]);t.dense=Array.isArray(n),s.push(JK(n,o,t));for(var a=o.s.r;a<=o.e.r;++a)s.push(QK(n,o,a,t));return s.push("</table>"+i),s.join("")}function HM(n,e,t){var r=t||{};Oi!=null&&(r.dense=Oi);var i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var o=typeof r.origin=="string"?_n(r.origin):r.origin;i=o.r,s=o.c}var a=e.getElementsByTagName("tr"),c=Math.min(r.sheetRows||1e7,a.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var f=Dr(n["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var d=[],p=0,g=n["!rows"]||(n["!rows"]=[]),_=0,m=0,y=0,P=0,F=0,O=0;for(n["!cols"]||(n["!cols"]=[]);_<a.length&&m<c;++_){var j=a[_];if(xN(j)){if(r.display)continue;g[m]={hidden:!0}}var Q=j.children;for(y=P=0;y<Q.length;++y){var ee=Q[y];if(!(r.display&&xN(ee))){var w=ee.hasAttribute("data-v")?ee.getAttribute("data-v"):ee.hasAttribute("v")?ee.getAttribute("v"):AH(ee.innerHTML),E=ee.getAttribute("data-z")||ee.getAttribute("z");for(p=0;p<d.length;++p){var I=d[p];I.s.c==P+s&&I.s.r<m+i&&m+i<=I.e.r&&(P=I.e.c+1-s,p=-1)}O=+ee.getAttribute("colspan")||1,((F=+ee.getAttribute("rowspan")||1)>1||O>1)&&d.push({s:{r:m+i,c:P+s},e:{r:m+i+(F||1)-1,c:P+s+(O||1)-1}});var C={t:"s",v:w},D=ee.getAttribute("data-t")||ee.getAttribute("t")||"";w!=null&&(w.length==0?C.t=D||"z":r.raw||w.trim().length==0||D=="s"||(w==="TRUE"?C={t:"b",v:!0}:w==="FALSE"?C={t:"b",v:!1}:isNaN(ds(w))?isNaN(ud(w).getDate())||(C={t:"d",v:Zn(w)},r.cellDates||(C={t:"n",v:fr(C.v)}),C.z=r.dateNF||Bt[14]):C={t:"n",v:ds(w)})),C.z===void 0&&E!=null&&(C.z=E);var M="",A=ee.getElementsByTagName("A");if(A&&A.length)for(var Ue=0;Ue<A.length&&!(A[Ue].hasAttribute("href")&&(M=A[Ue].getAttribute("href"),M.charAt(0)!="#"));++Ue);M&&M.charAt(0)!="#"&&(C.l={Target:M}),r.dense?(n[m+i]||(n[m+i]=[]),n[m+i][P+s]=C):n[gt({c:P+s,r:m+i})]=C,u.e.c<P+s&&(u.e.c=P+s),P+=O}}++m}return d.length&&(n["!merges"]=(n["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,m-1+i),n["!ref"]=Zt(u),m>=c&&(n["!fullref"]=Zt((u.e.r=a.length-_+m-1+i,u))),n}function zM(n,e){var t=e||{},r=t.dense?[]:{};return HM(r,n,e)}function ZK(n,e){return Oa(zM(n,e),e)}function xN(n){var e="",t=eQ(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function eQ(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var tQ=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+ld({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return en+e}}(),wN=function(){var n=function(s){return pt(s).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,o,a){var c=[];c.push('      <table:table table:name="'+pt(o.SheetNames[a])+`" table:style-name="ta1">
`);var u=0,f=0,d=Dr(s["!ref"]||"A1"),p=s["!merges"]||[],g=0,_=Array.isArray(s);if(s["!cols"])for(f=0;f<=d.e.c;++f)c.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var m="",y=s["!rows"]||[];for(u=0;u<d.s.r;++u)m=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=d.e.r;++u){for(m=y[u]?' table:style-name="ro'+y[u].ods+'"':"",c.push("        <table:table-row"+m+`>
`),f=0;f<d.s.c;++f)c.push(e);for(;f<=d.e.c;++f){var P=!1,F={},O="";for(g=0;g!=p.length;++g)if(!(p[g].s.c>f)&&!(p[g].s.r>u)&&!(p[g].e.c<f)&&!(p[g].e.r<u)){(p[g].s.c!=f||p[g].s.r!=u)&&(P=!0),F["table:number-columns-spanned"]=p[g].e.c-p[g].s.c+1,F["table:number-rows-spanned"]=p[g].e.r-p[g].s.r+1;break}if(P){c.push(t);continue}var j=gt({r:u,c:f}),Q=_?(s[u]||[])[f]:s[j];if(Q&&Q.f&&(F["table:formula"]=pt(wG(Q.f)),Q.F&&Q.F.slice(0,j.length)==j)){var ee=Dr(Q.F);F["table:number-matrix-columns-spanned"]=ee.e.c-ee.s.c+1,F["table:number-matrix-rows-spanned"]=ee.e.r-ee.s.r+1}if(!Q){c.push(e);continue}switch(Q.t){case"b":O=Q.v?"TRUE":"FALSE",F["office:value-type"]="boolean",F["office:boolean-value"]=Q.v?"true":"false";break;case"n":O=Q.w||String(Q.v||0),F["office:value-type"]="float",F["office:value"]=Q.v||0;break;case"s":case"str":O=Q.v==null?"":Q.v,F["office:value-type"]="string";break;case"d":O=Q.w||Zn(Q.v).toISOString(),F["office:value-type"]="date",F["office:date-value"]=Zn(Q.v).toISOString(),F["table:style-name"]="ce1";break;default:c.push(e);continue}var w=n(O);if(Q.l&&Q.l.Target){var E=Q.l.Target;E=E.charAt(0)=="#"?"#"+EG(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),w=ue("text:a",w,{"xlink:href":E.replace(/&/g,"&amp;")})}c.push("          "+ue("table:table-cell",ue("text:p",w,{}),F)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(s,o){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var a=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var d=u["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;RE(d),d.ods=a;var p=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+a+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),s.push(`  </style:style>
`),++a}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var d=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),s.push(`  </style:style>
`),++c}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(o,a){var c=[en],u=ld({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=ld({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});a.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(sM().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var d=0;d!=o.SheetNames.length;++d)c.push(r(o.Sheets[o.SheetNames[d]],o,d,a));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),a.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function WM(n,e){if(e.bookType=="fods")return wN(n,e);var t=mE(),r="",i=[],s=[];return r="mimetype",je(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",je(t,r,wN(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",je(t,r,tQ(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",je(t,r,en+sM()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",je(t,r,h7(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",je(t,r,f7(i)),t}function Yg(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function nQ(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):ci(ls(n))}function rQ(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function go(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function iQ(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function fd(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function dt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Lu(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function dn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=fd(n,t),s=i&7;i=Math.floor(i/8);var o=0,a;if(i==0)break;switch(s){case 0:{for(var c=t[0];n[t[0]++]>=128;);a=n.slice(c,t[0])}break;case 5:o=4,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 1:o=8,a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 2:o=fd(n,t),a=n.slice(t[0],t[0]+o),t[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var u={data:a,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function An(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(dt(r*8+i.type)),i.type==2&&e.push(dt(i.data.length)),e.push(i.data))})}),go(e)}function oi(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=fd(n,r),s=dn(n.slice(r[0],r[0]+i));r[0]+=i;var o={id:Lu(s[1][0].data),messages:[]};s[2].forEach(function(a){var c=dn(a.data),u=Lu(c[3][0].data);o.messages.push({meta:c,data:n.slice(r[0],r[0]+u)}),r[0]+=u}),(e=s[3])!=null&&e[0]&&(o.merge=Lu(s[3][0].data)>>>0>0),t.push(o)}return t}function Au(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:dt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:dt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:dt(o.data.length)}],r[2].push({data:An(o.meta),type:2})});var s=An(r);e.push(dt(s.length)),e.push(s),i.forEach(function(o){return e.push(o)})}),go(e)}function sQ(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=fd(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var o=e[t[0]++]>>2;if(o<60)++o;else{var a=o-59;o=e[t[0]],a>1&&(o|=e[t[0]+1]<<8),a>2&&(o|=e[t[0]+2]<<16),a>3&&(o|=e[t[0]+3]<<24),o>>>=0,o++,t[0]+=a}i.push(e.slice(t[0],t[0]+o)),t[0]+=o;continue}else{var c=0,u=0;if(s==1?(u=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(u=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[go(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var f=go(i);if(f.length!=r)throw new Error("Unexpected length: ".concat(f.length," != ").concat(r));return f}function ai(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(sQ(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return go(e)}function ku(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=dt(r),o=s.length;e.push(s),r<=60?(o++,e.push(new Uint8Array([r-1<<2]))):r<=256?(o+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(o+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(o+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(o+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),o+=r,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,t+=r}return go(e)}function aE(n,e){var t=new Uint8Array(32),r=Yg(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,iQ(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function cE(n,e){var t=new Uint8Array(32),r=Yg(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function uo(n){var e=dn(n);return fd(e[1][0].data)}function oQ(n,e,t){var r,i,s,o;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var a=((o=(s=n[8])==null?void 0:s[0])==null?void 0:o.data)&&Lu(n[8][0].data)>0||!1;if(a)throw"Math only works with normal offsets";for(var c=0,u=Yg(n[7][0].data),f=0,d=[],p=Yg(n[4][0].data),g=0,_=[],m=0;m<e.length;++m){if(e[m]==null){u.setUint16(m*2,65535,!0),p.setUint16(m*2,65535);continue}u.setUint16(m*2,f,!0),p.setUint16(m*2,g,!0);var y,P;switch(typeof e[m]){case"string":y=aE({t:"s",v:e[m]},t),P=cE({t:"s",v:e[m]},t);break;case"number":y=aE({t:"n",v:e[m]},t),P=cE({t:"n",v:e[m]},t);break;case"boolean":y=aE({t:"b",v:e[m]},t),P=cE({t:"b",v:e[m]},t);break;default:throw new Error("Unsupported value "+e[m])}d.push(y),f+=y.length,_.push(P),g+=P.length,++c}for(n[2][0].data=dt(c);m<n[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),p.setUint16(m*2,65535,!0);return n[6][0].data=go(d),n[3][0].data=go(_),c}function aQ(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Dr(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Zt(r)));var s=Jg(t,{range:r,header:1}),o=["~Sh33tJ5~"];s.forEach(function(U){return U.forEach(function(V){typeof V=="string"&&o.push(V)})});var a={},c=[],u=xt.read(e.numbers,{type:"base64"});u.FileIndex.map(function(U,V){return[U,u.FullPaths[V]]}).forEach(function(U){var V=U[0],re=U[1];if(V.type==2&&V.name.match(/\.iwa/)){var ve=V.content,ke=ai(ve),ye=oi(ke);ye.forEach(function(oe){c.push(oe.id),a[oe.id]={deps:[],location:re,type:Lu(oe.messages[0].meta[1][0].data)}})}}),c.sort(function(U,V){return U-V});var f=c.filter(function(U){return U>1}).map(function(U){return[U,dt(U)]});u.FileIndex.map(function(U,V){return[U,u.FullPaths[V]]}).forEach(function(U){var V=U[0],re=U[1];if(V.name.match(/\.iwa/)){var ve=oi(ai(V.content));ve.forEach(function(ke){ke.messages.forEach(function(ye){f.forEach(function(oe){ke.messages.some(function(st){return Lu(st.meta[1][0].data)!=11006&&rQ(st.data,oe[1])})&&a[oe[0]].deps.push(ke.id)})})})}});function d(){for(var U=927262;U<2e6;++U)if(!a[U])return U;throw new Error("Too many messages")}for(var p=xt.find(u,a[1].location),g=oi(ai(p.content)),_,m=0;m<g.length;++m){var y=g[m];y.id==1&&(_=y)}var P=uo(dn(_.messages[0].data)[1][0].data);for(p=xt.find(u,a[P].location),g=oi(ai(p.content)),m=0;m<g.length;++m)y=g[m],y.id==P&&(_=y);for(P=uo(dn(_.messages[0].data)[2][0].data),p=xt.find(u,a[P].location),g=oi(ai(p.content)),m=0;m<g.length;++m)y=g[m],y.id==P&&(_=y);for(P=uo(dn(_.messages[0].data)[2][0].data),p=xt.find(u,a[P].location),g=oi(ai(p.content)),m=0;m<g.length;++m)y=g[m],y.id==P&&(_=y);var F=dn(_.messages[0].data);{F[6][0].data=dt(r.e.r+1),F[7][0].data=dt(r.e.c+1);var O=uo(F[46][0].data),j=xt.find(u,a[O].location),Q=oi(ai(j.content));{for(var ee=0;ee<Q.length&&Q[ee].id!=O;++ee);if(Q[ee].id!=O)throw"Bad ColumnRowUIDMapArchive";var w=dn(Q[ee].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var E=0;E<=r.e.c;++E){var I=[];I[1]=I[2]=[{type:0,data:dt(E+420690)}],w[1].push({type:2,data:An(I)}),w[2].push({type:0,data:dt(E)}),w[3].push({type:0,data:dt(E)})}w[4]=[],w[5]=[],w[6]=[];for(var C=0;C<=r.e.r;++C)I=[],I[1]=I[2]=[{type:0,data:dt(C+726270)}],w[4].push({type:2,data:An(I)}),w[5].push({type:0,data:dt(C)}),w[6].push({type:0,data:dt(C)});Q[ee].messages[0].data=An(w)}j.content=ku(Au(Q)),j.size=j.content.length,delete F[46];var D=dn(F[4][0].data);{D[7][0].data=dt(r.e.r+1);var M=dn(D[1][0].data),A=uo(M[2][0].data);j=xt.find(u,a[A].location),Q=oi(ai(j.content));{if(Q[0].id!=A)throw"Bad HeaderStorageBucket";var Ue=dn(Q[0].messages[0].data);for(C=0;C<s.length;++C){var Te=dn(Ue[2][0].data);Te[1][0].data=dt(C),Te[4][0].data=dt(s[C].length),Ue[2][C]={type:Ue[2][0].type,data:An(Te)}}Q[0].messages[0].data=An(Ue)}j.content=ku(Au(Q)),j.size=j.content.length;var zt=uo(D[2][0].data);j=xt.find(u,a[zt].location),Q=oi(ai(j.content));{if(Q[0].id!=zt)throw"Bad HeaderStorageBucket";for(Ue=dn(Q[0].messages[0].data),E=0;E<=r.e.c;++E)Te=dn(Ue[2][0].data),Te[1][0].data=dt(E),Te[4][0].data=dt(r.e.r+1),Ue[2][E]={type:Ue[2][0].type,data:An(Te)};Q[0].messages[0].data=An(Ue)}j.content=ku(Au(Q)),j.size=j.content.length;var Rt=uo(D[4][0].data);(function(){for(var U=xt.find(u,a[Rt].location),V=oi(ai(U.content)),re,ve=0;ve<V.length;++ve){var ke=V[ve];ke.id==Rt&&(re=ke)}var ye=dn(re.messages[0].data);{ye[3]=[];var oe=[];o.forEach(function(Ut,Ye){oe[1]=[{type:0,data:dt(Ye)}],oe[2]=[{type:0,data:dt(1)}],oe[3]=[{type:2,data:nQ(Ut)}],ye[3].push({type:2,data:An(oe)})})}re.messages[0].data=An(ye);var st=Au(V),We=ku(st);U.content=We,U.size=U.content.length})();var Wt=dn(D[3][0].data);{var tn=Wt[1][0];delete Wt[2];var Gt=dn(tn.data);{var On=uo(Gt[2][0].data);(function(){for(var U=xt.find(u,a[On].location),V=oi(ai(U.content)),re,ve=0;ve<V.length;++ve){var ke=V[ve];ke.id==On&&(re=ke)}var ye=dn(re.messages[0].data);{delete ye[6],delete Wt[7];var oe=new Uint8Array(ye[5][0].data);ye[5]=[];for(var st=0,We=0;We<=r.e.r;++We){var Ut=dn(oe);st+=oQ(Ut,s[We],o),Ut[1][0].data=dt(We),ye[5].push({data:An(Ut),type:2})}ye[1]=[{type:0,data:dt(r.e.c+1)}],ye[2]=[{type:0,data:dt(r.e.r+1)}],ye[3]=[{type:0,data:dt(st)}],ye[4]=[{type:0,data:dt(r.e.r+1)}]}re.messages[0].data=An(ye);var Ye=Au(V),zn=ku(Ye);U.content=zn,U.size=U.content.length})()}tn.data=An(Gt)}D[3][0].data=An(Wt)}F[4][0].data=An(D)}_.messages[0].data=An(F);var L=Au(g),Y=ku(L);return p.content=Y,p.size=p.content.length,u}function cQ(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function FE(n){cQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function uQ(n,e){return e.bookType=="ods"?WM(n,e):e.bookType=="numbers"?aQ(n,e):e.bookType=="xlsb"?lQ(n,e):fQ(n,e)}function lQ(n,e){Nu=1024,n&&!n.SSF&&(n.SSF=dr(Bt)),n&&n.SSF&&(tm(),em(n.SSF),e.revssf=nm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=bM.indexOf(e.bookType)>-1,i=nM();FE(e=e||{});var s=mE(),o="",a=0;if(e.cellXfs=[],mo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",je(s,o,oM(n.Props,e)),i.coreprops.push(o),ht(e.rels,2,o,ct.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}for(n.Props.Worksheets=n.Props.SheetNames.length,je(s,o,cM(n.Props,e)),i.extprops.push(o),ht(e.rels,3,o,ct.EXT_PROPS),n.Custprops!==n.Props&&Pn(n.Custprops||{}).length>0&&(o="docProps/custom.xml",je(s,o,uM(n.Custprops,e)),i.custprops.push(o),ht(e.rels,4,o,ct.CUST_PROPS)),a=1;a<=n.SheetNames.length;++a){var f={"!id":{}},d=n.Sheets[n.SheetNames[a-1]],p=(d||{})["!type"]||"sheet";switch(p){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,je(s,o,hK(a-1,o,e,n,f)),i.sheets.push(o),ht(e.wbrels,-1,"worksheets/sheet"+a+"."+t,ct.WS[0])}if(d){var g=d["!comments"],_=!1,m="";g&&g.length>0&&(m="xl/comments"+a+"."+t,je(s,m,mK(g,m,e)),i.comments.push(m),ht(f,-1,"../comments"+a+"."+t,ct.CMNT),_=!0),d["!legacy"]&&_&&je(s,"xl/drawings/vmlDrawing"+a+".vml",SM(a,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&je(s,iM(o),Ou(f))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,je(s,o,gK(e.Strings,o,e)),i.strs.push(o),ht(e.wbrels,-1,"sharedStrings."+t,ct.SST)),o="xl/workbook."+t,je(s,o,dK(n,o,e)),i.workbooks.push(o),ht(e.rels,1,o,ct.WB),o="xl/theme/theme1.xml",je(s,o,IM(n.Themes,e)),i.themes.push(o),ht(e.wbrels,-1,"theme/theme1.xml",ct.THEME),o="xl/styles."+t,je(s,o,pK(n,o,e)),i.styles.push(o),ht(e.wbrels,-1,"styles."+t,ct.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",je(s,o,n.vbaraw),i.vba.push(o),ht(e.wbrels,-1,"vbaProject.bin",ct.VBA)),o="xl/metadata."+t,je(s,o,vK(o)),i.metadata.push(o),ht(e.wbrels,-1,"metadata."+t,ct.XLMETA),je(s,"[Content_Types].xml",rM(i,e)),je(s,"_rels/.rels",Ou(e.rels)),je(s,"xl/_rels/workbook."+t+".rels",Ou(e.wbrels)),delete e.revssf,delete e.ssf,s}function fQ(n,e){Nu=1024,n&&!n.SSF&&(n.SSF=dr(Bt)),n&&n.SSF&&(tm(),em(n.SSF),e.revssf=nm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,sd?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=bM.indexOf(e.bookType)>-1,i=nM();FE(e=e||{});var s=mE(),o="",a=0;if(e.cellXfs=[],mo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),o="docProps/core.xml",je(s,o,oM(n.Props,e)),i.coreprops.push(o),ht(e.rels,2,o,ct.CORE_PROPS),o="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var c=[],u=0;u<n.SheetNames.length;++u)(n.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(n.SheetNames[u]);n.Props.SheetNames=c}n.Props.Worksheets=n.Props.SheetNames.length,je(s,o,cM(n.Props,e)),i.extprops.push(o),ht(e.rels,3,o,ct.EXT_PROPS),n.Custprops!==n.Props&&Pn(n.Custprops||{}).length>0&&(o="docProps/custom.xml",je(s,o,uM(n.Custprops,e)),i.custprops.push(o),ht(e.rels,4,o,ct.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,a=1;a<=n.SheetNames.length;++a){var d={"!id":{}},p=n.Sheets[n.SheetNames[a-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+a+"."+t,je(s,o,FM(a-1,e,n,d)),i.sheets.push(o),ht(e.wbrels,-1,"worksheets/sheet"+a+"."+t,ct.WS[0])}if(p){var _=p["!comments"],m=!1,y="";if(_&&_.length>0){var P=!1;_.forEach(function(F){F[1].forEach(function(O){O.T==!0&&(P=!0)})}),P&&(y="xl/threadedComments/threadedComment"+a+"."+t,je(s,y,$z(_,f,e)),i.threadedcomments.push(y),ht(d,-1,"../threadedComments/threadedComment"+a+"."+t,ct.TCMNT)),y="xl/comments"+a+"."+t,je(s,y,CM(_,e)),i.comments.push(y),ht(d,-1,"../comments"+a+"."+t,ct.CMNT),m=!0}p["!legacy"]&&m&&je(s,"xl/drawings/vmlDrawing"+a+".vml",SM(a,p["!comments"])),delete p["!comments"],delete p["!legacy"]}d["!id"].rId1&&je(s,iM(o),Ou(d))}return e.Strings!=null&&e.Strings.length>0&&(o="xl/sharedStrings."+t,je(s,o,vM(e.Strings,e)),i.strs.push(o),ht(e.wbrels,-1,"sharedStrings."+t,ct.SST)),o="xl/workbook."+t,je(s,o,BM(n,e)),i.workbooks.push(o),ht(e.rels,1,o,ct.WB),o="xl/theme/theme1.xml",je(s,o,IM(n.Themes,e)),i.themes.push(o),ht(e.wbrels,-1,"theme/theme1.xml",ct.THEME),o="xl/styles."+t,je(s,o,wM(n,e)),i.styles.push(o),ht(e.wbrels,-1,"styles."+t,ct.STY),n.vbaraw&&r&&(o="xl/vbaProject.bin",je(s,o,n.vbaraw),i.vba.push(o),ht(e.wbrels,-1,"vbaProject.bin",ct.VBA)),o="xl/metadata."+t,je(s,o,TM()),i.metadata.push(o),ht(e.wbrels,-1,"metadata."+t,ct.XLMETA),f.length>1&&(o="xl/persons/person.xml",je(s,o,Hz(f,e)),i.people.push(o),ht(e.wbrels,-1,"persons/person.xml",ct.PEOPLE)),je(s,"[Content_Types].xml",rM(i,e)),je(s,"_rels/.rels",Ou(e.rels)),je(s,"xl/_rels/workbook."+t+".rels",Ou(e.wbrels)),delete e.revssf,delete e.ssf,s}function dQ(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ps(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function GM(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return pd(e.file,xt.write(n,{type:lt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return xt.write(n,e)}function hQ(n,e){var t=dr(e||{}),r=uQ(n,t);return pQ(r,t)}function pQ(n,e){var t={},r=lt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?xt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Zg(i))}return e.password&&typeof encrypt_agile<"u"?GM(encrypt_agile(i,e.password),e):e.type==="file"?pd(e.file,i):e.type=="string"?td(i):i}function gQ(n,e){var t=e||{},r=RK(n,t);return GM(r,t)}function Pi(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return cd(ls(r));case"binary":return ls(r);case"string":return n;case"file":return pd(e.file,r,"utf8");case"buffer":return lt?ms(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Pi(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function mQ(n,e){switch(e.type){case"base64":return cd(n);case"binary":return n;case"string":return n;case"file":return pd(e.file,n,"binary");case"buffer":return lt?ms(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Bg(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?cd(t):e.type=="string"?td(t):t;case"file":return pd(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function LE(n,e){$$(),tK(n);var t=dr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=LE(n,t);return t.type="array",Zg(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Pi(AK(n,t),t);case"slk":case"sylk":return Pi(J7.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Pi($M(n.Sheets[n.SheetNames[i]],t),t);case"txt":return mQ(qM(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Pi(VE(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Pi(Z7.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Bg(Y7.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Pi(ez.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Pi(az.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Pi(mM.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Pi(WM(n,t),t);case"wk1":return Bg(pN.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Bg(pN.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Bg(jM(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),gQ(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return hQ(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function vQ(n,e,t,r,i,s,o,a){var c=Mn(t),u=a.defval,f=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:t,enumerable:!1})}catch{p.__rowNum__=t}else p.__rowNum__=t;if(!o||n[t])for(var g=e.s.c;g<=e.e.c;++g){var _=o?n[t][g]:n[r[g]+c];if(_===void 0||_.t===void 0){if(u===void 0)continue;s[g]!=null&&(p[s[g]]=u);continue}var m=_.v;switch(_.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[g]!=null){if(m==null)if(_.t=="e"&&m===null)p[s[g]]=null;else if(u!==void 0)p[s[g]]=u;else if(f&&m===null)p[s[g]]=null;else continue;else p[s[g]]=f&&(_.t!=="n"||_.t==="n"&&a.rawNumbers!==!1)?m:gs(_,m,a);m!=null&&(d=!1)}}return{row:p,isempty:d}}function Jg(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],o=0,a="",c={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:n["!ref"];switch(u.header===1?r=1:u.header==="A"?r=2:Array.isArray(u.header)?r=3:u.header==null&&(r=0),typeof f){case"string":c=kt(f);break;case"number":c=kt(n["!ref"]),c.s.r=f;break;default:c=f}r>0&&(i=0);var d=Mn(c.s.r),p=[],g=[],_=0,m=0,y=Array.isArray(n),P=c.s.r,F=0,O={};y&&!n[P]&&(n[P]=[]);var j=u.skipHidden&&n["!cols"]||[],Q=u.skipHidden&&n["!rows"]||[];for(F=c.s.c;F<=c.e.c;++F)if(!(j[F]||{}).hidden)switch(p[F]=$n(F),t=y?n[P][F]:n[p[F]+d],r){case 1:s[F]=F-c.s.c;break;case 2:s[F]=p[F];break;case 3:s[F]=u.header[F-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),a=o=gs(t,null,u),m=O[o]||0,!m)O[o]=1;else{do a=o+"_"+m++;while(O[a]);O[o]=m,O[a]=1}s[F]=a}for(P=c.s.r+i;P<=c.e.r;++P)if(!(Q[P]||{}).hidden){var ee=vQ(n,c,P,p,r,s,y,u);(ee.isempty===!1||(r===1?u.blankrows!==!1:u.blankrows))&&(g[_++]=ee.row)}return g.length=_,g}var EN=/"/g;function _Q(n,e,t,r,i,s,o,a){for(var c=!0,u=[],f="",d=Mn(t),p=e.s.c;p<=e.e.c;++p)if(r[p]){var g=a.dense?(n[t]||[])[p]:n[r[p]+d];if(g==null)f="";else if(g.v!=null){c=!1,f=""+(a.rawNumbers&&g.t=="n"?g.v:gs(g,null,a));for(var _=0,m=0;_!==f.length;++_)if((m=f.charCodeAt(_))===i||m===s||m===34||a.forceQuotes){f='"'+f.replace(EN,'""')+'"';break}f=="ID"&&(f='"ID"')}else g.f!=null&&!g.F?(c=!1,f="="+g.f,f.indexOf(",")>=0&&(f='"'+f.replace(EN,'""')+'"')):f="";u.push(f)}return a.blankrows===!1&&c?null:u.join(o)}function VE(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=kt(n["!ref"]),s=r.FS!==void 0?r.FS:",",o=s.charCodeAt(0),a=r.RS!==void 0?r.RS:`
`,c=a.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",d=[];r.dense=Array.isArray(n);for(var p=r.skipHidden&&n["!cols"]||[],g=r.skipHidden&&n["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(p[_]||{}).hidden||(d[_]=$n(_));for(var m=0,y=i.s.r;y<=i.e.r;++y)(g[y]||{}).hidden||(f=_Q(n,i,y,d,o,c,s,r),f!=null&&(r.strip&&(f=f.replace(u,"")),(f||r.blankrows!==!1)&&t.push((m++?a:"")+f)));return delete r.dense,t.join("")}function qM(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=VE(n,e);if(typeof Ct>"u"||e.type=="string")return t;var r=Ct.utils.encode(1200,t,"str");return"\xFF\xFE"+r}function yQ(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=kt(n["!ref"]),s="",o=[],a,c=[],u=Array.isArray(n);for(a=i.s.c;a<=i.e.c;++a)o[a]=$n(a);for(var f=i.s.r;f<=i.e.r;++f)for(s=Mn(f),a=i.s.c;a<=i.e.c;++a)if(e=o[a]+s,t=u?(n[f]||[])[a]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}c[c.length]=e+"="+r}return c}function KM(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},o=0,a=0;if(s&&r.origin!=null)if(typeof r.origin=="number")o=r.origin;else{var c=typeof r.origin=="string"?_n(r.origin):r.origin;o=c.r,a=c.c}var u,f={s:{c:0,r:0},e:{c:a,r:o+e.length-1+i}};if(s["!ref"]){var d=kt(s["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),o==-1&&(o=d.e.r+1,f.e.r=o+e.length-1+i)}else o==-1&&(o=0,f.e.r=e.length-1+i);var p=r.header||[],g=0;e.forEach(function(m,y){Pn(m).forEach(function(P){(g=p.indexOf(P))==-1&&(p[g=p.length]=P);var F=m[P],O="z",j="",Q=gt({c:a+g,r:o+y+i});u=dd(s,Q),F&&typeof F=="object"&&!(F instanceof Date)?s[Q]=F:(typeof F=="number"?O="n":typeof F=="boolean"?O="b":typeof F=="string"?O="s":F instanceof Date?(O="d",r.cellDates||(O="n",F=fr(F)),j=r.dateNF||Bt[14]):F===null&&r.nullError&&(O="e",F=0),u?(u.t=O,u.v=F,delete u.w,delete u.R,j&&(u.z=j)):s[Q]=u={t:O,v:F},j&&(u.z=j))})}),f.e.c=Math.max(f.e.c,a+p.length-1);var _=Mn(o);if(i)for(g=0;g<p.length;++g)s[$n(g+a)+_]={t:"s",v:p[g]};return s["!ref"]=Zt(f),s}function xQ(n,e){return KM(null,n,e)}function dd(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=_n(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?dd(n,gt(e)):dd(n,gt({r:e,c:t||0}))}function wQ(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function EQ(){return{SheetNames:[],Sheets:{}}}function IQ(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var o=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=o+i)!=-1;++i);}if(VM(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function TQ(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=wQ(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function SQ(n,e){return n.z=e,n}function QM(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function CQ(n,e,t){return QM(n,"#"+e,t)}function bQ(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function DQ(n,e,t,r){for(var i=typeof e!="string"?e:kt(e),s=typeof e=="string"?e:Zt(e),o=i.s.r;o<=i.e.r;++o)for(var a=i.s.c;a<=i.e.c;++a){var c=dd(n,o,a);c.t="n",c.F=s,delete c.v,o==i.s.r&&a==i.s.c&&(c.f=t,r&&(c.D=!0))}return n}var cm={encode_col:$n,encode_row:Mn,encode_cell:gt,encode_range:Zt,decode_col:CE,decode_row:SE,split_cell:zH,decode_cell:_n,decode_range:Dr,format_cell:gs,sheet_add_aoa:XN,sheet_add_json:KM,sheet_add_dom:HM,aoa_to_sheet:$u,json_to_sheet:xQ,table_to_sheet:zM,table_to_book:ZK,sheet_to_csv:VE,sheet_to_txt:qM,sheet_to_json:Jg,sheet_to_html:$M,sheet_to_formulae:yQ,sheet_to_row_object_array:Jg,sheet_get_cell:dd,book_new:EQ,book_append_sheet:IQ,book_set_sheet_visibility:TQ,cell_set_number_format:SQ,cell_set_hyperlink:QM,cell_set_internal_link:CQ,cell_add_comment:bQ,sheet_set_array_formula:DQ,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};var lce=od.version;function kQ(n,e){n&1&&(we(0,"div",12)(1,"div",13),et(2,"div",14),Ie(),we(3,"p",15),Qe(4,"Por favor, espera mientras se procesa el archivo..."),Ie()())}var um=class n{constructor(e,t){this.triviaService=e;this.router=t}loading=!1;processAndDownloadData(){return B(this,null,function*(){this.loading=!0;try{console.log("Obteniendo datos de Firestore...");let e=yield this.triviaService.getUsersWithFiveSellos();console.log("Generando archivo Excel..."),this.generateAndDownloadFile(e),console.log("Archivo generado y descargado correctamente.")}catch(e){console.error("Error en el proceso:",e)}finally{this.loading=!1}})}generateAndDownloadFile(e){let t=cm.json_to_sheet(e),r=cm.book_new();cm.book_append_sheet(r,t,"Usuarios");let i=LE(r,{bookType:"xlsx",type:"array"}),s=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o=document.createElement("a"),a=URL.createObjectURL(s);o.href=a,o.download=`usuarios_${new Date().toISOString()}.xlsx`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}downloadExcel(){this.loading||(console.log("Iniciando proceso de descarga del archivo..."),this.processAndDownloadData())}logout(){localStorage.clear(),this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(Ae(bu),Ae(Qt))};static \u0275cmp=pn({type:n,selectors:[["app-send-mail"]],standalone:!0,features:[Vn],decls:16,vars:3,consts:[[1,"background-container"],[1,"logout-container"],[1,"logout-button",3,"click"],[1,"login-container"],[1,"login-box"],[1,"logo"],["src","imgs/wow-logo.png","alt","Logo OWOW"],[1,"welcome-title"],[1,"subtitle"],[2,"text-align","center","margin-top","20px"],[1,"styled-button",3,"click","disabled"],["style","margin-top: 20px;",4,"ngIf"],[2,"margin-top","20px"],[1,"progress-container"],[1,"progress-bar"],[2,"margin-top","10px","color","white"]],template:function(t,r){t&1&&(we(0,"div",0)(1,"div",1)(2,"button",2),Sn("click",function(){return r.logout()}),Qe(3,"Cerrar sesi\xF3n"),Ie()(),we(4,"div",3)(5,"div",4)(6,"div",5),et(7,"img",6),Ie(),we(8,"h1",7),Qe(9,"\xA1Bienvenido!"),Ie(),we(10,"p",8),Qe(11,"Desde aqu\xED puedes descargar la lista de ganadores"),Ie(),we(12,"div",9)(13,"button",10),Sn("click",function(){return r.downloadExcel()}),Qe(14),Ie(),mr(15,kQ,5,0,"div",11),Ie()()()()),t&2&&(Ke(13),It("disabled",r.loading),Ke(),Cn(" ",r.loading?"Procesando...":"Descargar Ganadores"," "),Ke(),It("ngIf",r.loading))},styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100vh;width:100vw;font-family:Arial,sans-serif;display:flex;align-items:center;justify-content:center;overflow:hidden}.logout-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;padding:10px 20px;box-sizing:border-box}.logout-button[_ngcontent-%COMP%]{background-color:#6a4c93;color:#fff;border:none;border-radius:25px;padding:10px 15px;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.logout-button[_ngcontent-%COMP%]:hover{background-color:#5a3b7d}.logout-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.background-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;background-color:#ec671f}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;height:100vh;width:100%;padding:0;box-sizing:border-box;position:relative;z-index:1}.login-box[_ngcontent-%COMP%]{background-color:#611f78;border-radius:20px 20px 0 0;padding:20px 30px 40px;width:75%;max-width:320px;min-height:80vh;box-shadow:0 -4px 12px #0000001a;text-align:left;display:flex;flex-direction:column;justify-content:flex-start;border:3px solid #ffffff}.logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:40px;width:25vh}.welcome-title[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:2.5rem;color:#fff;font-weight:700;text-align:center;margin-bottom:10px}.subtitle[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;font-style:bold;font-size:1.4rem;color:#fff;text-align:center;margin-top:0;margin-bottom:5px}.error-message[_ngcontent-%COMP%]{font-family:DM Sans,sans-serif;color:#fff;font-size:14px;text-align:center;margin-top:10px;text-align:left}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#fff;border-radius:50px;padding:12px;margin-top:50px}.input-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:30px;margin-left:10px}.input-field[_ngcontent-%COMP%]{border:none;outline:none;background:transparent;width:100%;font-size:16px;color:#333}.input-field[_ngcontent-%COMP%]::placeholder{color:#601f788a}.login-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:transparent;color:#fff;border:none;border-radius:25px;padding:10px;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s ease;border:2px solid #ffffff;margin:20px auto 0;width:180px}.login-button[_ngcontent-%COMP%]:hover{background-color:#5a3b7d}.button-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;margin-right:8px}.styled-button[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;background-color:transparent;border:2px solid #ffffff;border-radius:30px;padding:10px 30px;cursor:pointer;transition:all .3s ease}.styled-button[_ngcontent-%COMP%]:hover{background-color:#fff3;color:#fff}.styled-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{width:50%;margin:auto;height:20px;background-color:#fff;border:1px solid #ccc;border-radius:10px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#fff;animation:_ngcontent-%COMP%_progress-animation 2s infinite}@keyframes _ngcontent-%COMP%_progress-animation{0%{width:0}50%{width:50%}to{width:100%}}"]})};var lm=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){return B(this,null,function*(){try{let r=this.authService.getUsername();return r?(yield this.authService.isSuperUser(r))?(console.log("Acceso permitido: Usuario es SuperUser."),!0):(console.warn("Acceso denegado: Usuario no tiene permisos de SuperUser."),this.router.createUrlTree(["/pasaporte"])):(console.warn("No hay usuario logueado. Redirigiendo al login."),this.router.createUrlTree(["/login"],{queryParams:{nextUrl:t.url}}))}catch(r){return console.error("Error en el guard SuperUser:",r),this.router.createUrlTree(["/login"],{queryParams:{nextUrl:t.url}})}})}static \u0275fac=function(t){return new(t||n)(Me(jn),Me(Qt))};static \u0275prov=Se({token:n,factory:n.\u0275fac,providedIn:"root"})};var XM=[{path:"login",component:Sg},{path:"pasaporte",component:Ag,canActivate:[Da]},{path:"bienvenida",component:Cg},{path:"trivia/:tema/:sello",component:bg,canActivate:[Da]},{path:"felicitacion",component:Dg,canActivate:[Da]},{path:"qr-verification/:username",component:kg,canActivate:[Da]},{path:"data",component:um,canActivate:[lm]},{path:"",redirectTo:"pasaporte",pathMatch:"full"}];var nP="firebasestorage.googleapis.com",RQ="storageBucket",NQ=2*60*1e3,MQ=10*60*1e3;var Li=class n extends cr{constructor(e,t,r=0){super(BE(e),`Firebase Storage: ${t} (${BE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},_s=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(_s||{});function BE(n){return"storage/"+n}function PQ(){let n="An unknown error occurred, please check the error payload for server response.";return new Li(_s.UNKNOWN,n)}function OQ(){return new Li(_s.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FQ(){return new Li(_s.CANCELED,"User canceled the upload/download.")}function LQ(n){return new Li(_s.INVALID_URL,"Invalid URL '"+n+"'.")}function VQ(n){return new Li(_s.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function YM(n){return new Li(_s.INVALID_ARGUMENT,n)}function rP(){return new Li(_s.APP_DELETED,"The Firebase app was deleted.")}function BQ(n){return new Li(_s.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var vs=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw VQ(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(j){j.path_=decodeURIComponent(j.path)}let f="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${f}/b/${i}/o${p}`,"i"),_={bucket:1,path:3},m=t===nP?"(?:storage.googleapis.com|storage.cloud.google.com)":t,y="([^?#]*)",P=new RegExp(`^https?://${m}/${i}/${y}`,"i"),O=[{regex:a,indices:c,postModify:s},{regex:g,indices:_,postModify:u},{regex:P,indices:{bucket:1,path:2},postModify:u}];for(let j=0;j<O.length;j++){let Q=O[j],ee=Q.regex.exec(e);if(ee){let w=ee[Q.indices.bucket],E=ee[Q.indices.path];E||(E=""),r=new n(w,E),Q.postModify(r);break}}if(r==null)throw LQ(e);return r}},UE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function UQ(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function f(...y){u||(u=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,n(g,c())},y)}function p(){s&&clearTimeout(s)}function g(y,...P){if(u){p();return}if(y){p(),f.call(null,y,...P);return}if(c()||o){p(),f.call(null,y,...P);return}r<64&&(r*=2);let O;a===1?(a=2,O=0):O=(r+Math.random())*1e3,d(O)}let _=!1;function m(y){_||(_=!0,p(),!u&&(i!==null?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},t),m}function jQ(n){n(!1)}function $Q(n){return n!==void 0}function JM(n,e,t,r){if(r<e)throw YM(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw YM(`Invalid value for '${n}'. Expected ${t} or less.`)}function HQ(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var jE=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(jE||{});function zQ(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var $E=class{constructor(e,t,r,i,s,o,a,c,u,f,d,p=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=d,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Wu(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===jE.NO_ERROR,c=s.getStatus();if(!a||zQ(c,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===jE.ABORT;r(!1,new Wu(!1,null,f));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Wu(u,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());$Q(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=PQ();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?rP():FQ();o(c)}else{let c=OQ();o(c)}};this.canceled_?t(!1,new Wu(!1,null,!0)):this.backoffId_=UQ(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Wu=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function WQ(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function GQ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qQ(n,e){e&&(n["X-Firebase-GMPID"]=e)}function KQ(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function QQ(n,e,t,r,i,s,o=!0){let a=HQ(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return qQ(u,e),WQ(u,t),GQ(u,s),KQ(u,r),new $E(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function XQ(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function YQ(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var Dce=256*1024;var HE=class n{constructor(e,t){this._service=e,t instanceof vs?this._location=t:this._location=vs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YQ(this._location.path)}get storage(){return this._service}get parent(){let e=XQ(this._location.path);if(e===null)return null;let t=new vs(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw BQ(e)}};function ZM(n,e){let t=e?.[RQ];return t==null?null:vs.makeFromBucketSpec(t,n)}function JQ(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Qp(i,n.app.options.projectId))}var zE=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=nP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NQ,this._maxUploadRetryTime=MQ,this._requests=new Set,i!=null?this._bucket=vs.makeFromBucketSpec(i,this._host):this._bucket=ZM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vs.makeFromBucketSpec(this._url,e):this._bucket=ZM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){JM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){JM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return B(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return B(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new HE(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new UE(rP());{let o=QQ(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){return B(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},eP="@firebase/storage",tP="0.13.2";var iP="storage";function sP(n=Yo(),e){n=xr(n);let r=df(n,iP).getImmediate({identifier:e}),i=Kp("storage");return i&&oP(r,...i),r}function oP(n,e,t,r={}){JQ(n,e,t,r)}function ZQ(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new zE(t,r,i,e,Ws)}function eX(){Si(new ur(iP,ZQ,"PUBLIC").setMultipleInstances(!0)),Pt(eP,tP,""),Pt(eP,tP,"esm2017")}eX();var _d=class{constructor(e){return e}},aP="storage",WE=class{constructor(){return ea(aP)}};var GE=new De("angularfire2.storage-instances");function tX(n,e){let t=hf(aP,n,e);return t&&new _d(t)}function nX(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new _d(r)}}var rX={provide:WE,deps:[[new Tn,GE]]},iX={provide:_d,useFactory:tX,deps:[[new Tn,GE],ss]};function cP(n,...e){return Pt("angularfire",Gs.full,"gcs"),Ei([iX,rX,{provide:GE,useFactory:nX(n),multi:!0,deps:[vt,ir,ta,na,[new Tn,Wc],[new Tn,Zo],...e]}])}var uP=wr(sP,!0);var lP={providers:[kb({eventCoalescing:!0}),LD(XM),AA(()=>kA({projectId:"feria-wow",appId:"1:649771887294:web:171704f2e4a7ff4d35ccef",storageBucket:"feria-wow.firebasestorage.app",apiKey:"AIzaSyCHJiHlDv1Fk2JS7_v6UwlzutaM9cmU-bE",authDomain:"feria-wow.firebaseapp.com",messagingSenderId:"649771887294",measurementId:"G-WM7LLK7RJ4"})),R2(()=>M2()),cP(()=>uP())]};var fm=class n{title="feria-wow-passport";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=pn({type:n,selectors:[["app-root"]],standalone:!0,features:[Vn],decls:1,vars:0,template:function(t,r){t&1&&et(0,"router-outlet")},dependencies:[Uy],styles:['@font-face{font-family:DM Sans;src:url("./media/DMSans-Regular-EVH27TZS.ttf") format("truetype");font-weight:400;font-style:normal}@font-face{font-family:DM Sans;src:url("./media/DMSans-Bold-LWHRSIJO.ttf") format("truetype");font-weight:700;font-style:normal}']})};eD(fm,lP).catch(n=>console.error(n));
